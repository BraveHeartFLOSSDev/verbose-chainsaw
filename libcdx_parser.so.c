#include "libcdx_parser.so.h"



void __cxa_finalize(void)

{
  __cxa_finalize();
  return;
}



void __cxa_atexit(void)

{
  __cxa_atexit();
  return;
}



void __android_log_assert(void)

{
  __android_log_assert();
  return;
}



// WARNING: Unknown calling convention yet parameter storage is locked

void * malloc(size_t __size)

{
  void *pvVar1;
  
  pvVar1 = malloc(__size);
  return pvVar1;
}



void CdxListAddTail(void)

{
  CdxListAddTail();
  return;
}



void __android_log_print(void)

{
  __android_log_print();
  return;
}



// WARNING: Unknown calling convention yet parameter storage is locked

char * strdup(char *__s)

{
  char *pcVar1;
  
  pcVar1 = strdup(__s);
  return pcVar1;
}



// WARNING: Unknown calling convention yet parameter storage is locked

char * strstr(char *__haystack,char *__needle)

{
  char *pcVar1;
  
  pcVar1 = strstr(__haystack,__needle);
  return pcVar1;
}



// WARNING: Unknown calling convention yet parameter storage is locked

char * strchr(char *__s,int __c)

{
  char *pcVar1;
  
  pcVar1 = strchr(__s,__c);
  return pcVar1;
}



// WARNING: Unknown calling convention yet parameter storage is locked

char * strrchr(char *__s,int __c)

{
  char *pcVar1;
  
  pcVar1 = strrchr(__s,__c);
  return pcVar1;
}



// WARNING: Unknown calling convention yet parameter storage is locked

int strcasecmp(char *__s1,char *__s2)

{
  int iVar1;
  
  iVar1 = strcasecmp(__s1,__s2);
  return iVar1;
}



// WARNING: Unknown calling convention yet parameter storage is locked

void free(void *__ptr)

{
  free(__ptr);
  return;
}



// WARNING: Unknown calling convention yet parameter storage is locked

int pthread_mutex_lock(pthread_mutex_t *__mutex)

{
  int iVar1;
  
  iVar1 = pthread_mutex_lock(__mutex);
  return iVar1;
}



// WARNING: Unknown calling convention yet parameter storage is locked

int pthread_mutex_unlock(pthread_mutex_t *__mutex)

{
  int iVar1;
  
  iVar1 = pthread_mutex_unlock(__mutex);
  return iVar1;
}



void CdxStreamOpen(void)

{
  CdxStreamOpen();
  return;
}



// WARNING: Unknown calling convention yet parameter storage is locked

void * memset(void *__s,int __c,size_t __n)

{
  void *pvVar1;
  
  pvVar1 = memset(__s,__c,__n);
  return pvVar1;
}



void __stack_chk_fail(void)

{
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



// WARNING: Unknown calling convention yet parameter storage is locked

void * memcpy(void *__dest,void *__src,size_t __n)

{
  void *pvVar1;
  
  pvVar1 = memcpy(__dest,__src,__n);
  return pvVar1;
}



void __aeabi_ldivmod(void)

{
  __aeabi_ldivmod();
  return;
}



void __aeabi_uidiv(void)

{
  __aeabi_uidiv();
  return;
}



void __memcpy_chk(void)

{
  __memcpy_chk();
  return;
}



void CdxBitReaderCreate(void)

{
  CdxBitReaderCreate();
  return;
}



void CdxBitReaderGetBits(void)

{
  CdxBitReaderGetBits();
  return;
}



void CdxBitReaderSkipBits(void)

{
  CdxBitReaderSkipBits();
  return;
}



void CdxBitReaderDestroy(void)

{
  CdxBitReaderDestroy();
  return;
}



// WARNING: Unknown calling convention yet parameter storage is locked

int memcmp(void *__s1,void *__s2,size_t __n)

{
  int iVar1;
  
  iVar1 = memcmp(__s1,__s2,__n);
  return iVar1;
}



void __CdxBufferCreate(void)

{
  __CdxBufferCreate();
  return;
}



// WARNING: Unknown calling convention yet parameter storage is locked

int pthread_mutex_init(pthread_mutex_t *__mutex,pthread_mutexattr_t *__mutexattr)

{
  int iVar1;
  
  iVar1 = pthread_mutex_init(__mutex,__mutexattr);
  return iVar1;
}



// WARNING: Unknown calling convention yet parameter storage is locked

int pthread_cond_init(pthread_cond_t *__cond,pthread_condattr_t *__cond_attr)

{
  int iVar1;
  
  iVar1 = pthread_cond_init(__cond,__cond_attr);
  return iVar1;
}



void __memset_chk(void)

{
  __memset_chk();
  return;
}



void CdxListDel(void)

{
  CdxListDel();
  return;
}



void CdxBufferDestroy(void)

{
  CdxBufferDestroy();
  return;
}



void CdxGetNowUs(void)

{
  CdxGetNowUs();
  return;
}



void __aeabi_ul2d(void)

{
  __aeabi_ul2d();
  return;
}



void __aeabi_d2ulz(void)

{
  __aeabi_d2ulz();
  return;
}



void CdxBitReaderNumBitsLeft(void)

{
  CdxBitReaderNumBitsLeft();
  return;
}



void CdxBitReaderData(void)

{
  CdxBitReaderData();
  return;
}



void __aeabi_uldivmod(void)

{
  __aeabi_uldivmod();
  return;
}



// WARNING: Unknown calling convention yet parameter storage is locked

int pthread_cond_signal(pthread_cond_t *__cond)

{
  int iVar1;
  
  iVar1 = pthread_cond_signal(__cond);
  return iVar1;
}



// WARNING: Unknown calling convention yet parameter storage is locked

int pthread_cond_wait(pthread_cond_t *__cond,pthread_mutex_t *__mutex)

{
  int iVar1;
  
  iVar1 = pthread_cond_wait(__cond,__mutex);
  return iVar1;
}



// WARNING: Unknown calling convention yet parameter storage is locked

int pthread_mutex_destroy(pthread_mutex_t *__mutex)

{
  int iVar1;
  
  iVar1 = pthread_mutex_destroy(__mutex);
  return iVar1;
}



// WARNING: Unknown calling convention yet parameter storage is locked

int pthread_cond_destroy(pthread_cond_t *__cond)

{
  int iVar1;
  
  iVar1 = pthread_cond_destroy(__cond);
  return iVar1;
}



// WARNING: Unknown calling convention yet parameter storage is locked

size_t strlen(char *__s)

{
  size_t sVar1;
  
  sVar1 = strlen(__s);
  return sVar1;
}



// WARNING: Unknown calling convention yet parameter storage is locked

int usleep(__useconds_t __useconds)

{
  int iVar1;
  
  iVar1 = usleep(__useconds);
  return iVar1;
}



// WARNING: Unknown calling convention yet parameter storage is locked

void * realloc(void *__ptr,size_t __size)

{
  void *pvVar1;
  
  pvVar1 = realloc(__ptr,__size);
  return pvVar1;
}



void __aeabi_uidivmod(void)

{
  __aeabi_uidivmod();
  return;
}



// WARNING: Unknown calling convention yet parameter storage is locked

char * strcpy(char *__dest,char *__src)

{
  char *pcVar1;
  
  pcVar1 = strcpy(__dest,__src);
  return pcVar1;
}



void __aeabi_idiv(void)

{
  __aeabi_idiv();
  return;
}



// WARNING: Unknown calling convention yet parameter storage is locked

int snprintf(char *__s,size_t __maxlen,char *__format,...)

{
  int iVar1;
  
  iVar1 = snprintf(__s,__maxlen,__format);
  return iVar1;
}



void uncompress(void)

{
  uncompress();
  return;
}



// WARNING: Unknown calling convention yet parameter storage is locked

int puts(char *__s)

{
  int iVar1;
  
  iVar1 = puts(__s);
  return iVar1;
}



void __aeabi_l2d(void)

{
  __aeabi_l2d();
  return;
}



void __aeabi_l2f(void)

{
  __aeabi_l2f();
  return;
}



// WARNING: Unknown calling convention yet parameter storage is locked

void * memmove(void *__dest,void *__src,size_t __n)

{
  void *pvVar1;
  
  pvVar1 = memmove(__dest,__src,__n);
  return pvVar1;
}



// WARNING: Unknown calling convention yet parameter storage is locked

int strcmp(char *__s1,char *__s2)

{
  int iVar1;
  
  iVar1 = strcmp(__s1,__s2);
  return iVar1;
}



// WARNING: Unknown calling convention yet parameter storage is locked

int strncmp(char *__s1,char *__s2,size_t __n)

{
  int iVar1;
  
  iVar1 = strncmp(__s1,__s2,__n);
  return iVar1;
}



// WARNING: Unknown calling convention yet parameter storage is locked

int sscanf(char *__s,char *__format,...)

{
  int iVar1;
  
  iVar1 = sscanf(__s,__format);
  return iVar1;
}



// WARNING: Unknown calling convention yet parameter storage is locked

int sprintf(char *__s,char *__format,...)

{
  int iVar1;
  
  iVar1 = sprintf(__s,__format);
  return iVar1;
}



void FUN_00012e10(void)

{
  __cxa_finalize(&PTR_LOOP_00031000);
  return;
}



undefined4 FUN_00012e30(undefined4 param_1)

{
  undefined4 uVar1;
  
  uVar1 = __cxa_atexit(param_1,0,&PTR_LOOP_00031000);
  return uVar1;
}



undefined4 FUN_00012e70(char **param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (char **)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x18a;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = *param_1;
    if (pcVar2 != (char *)0x0) goto LAB_00012eb4;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x18b;
    pcVar3 = "stream->ops";
  }
  pcVar2 = "CdxStreamGetMetaData";
  __android_log_assert
            (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamGetMetaData",uVar4,pcVar3);
LAB_00012eb4:
  if (*(code **)(pcVar2 + 0x20) == (code *)0x0) {
    uVar4 = 0xffffffff;
  }
  else {
    uVar4 = (**(code **)(pcVar2 + 0x20))();
  }
  return uVar4;
}



undefined4 AwParserRegister(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  void *pvVar1;
  
  pvVar1 = malloc(0x14);
  *(undefined4 *)((int)pvVar1 + 8) = param_1;
  *(undefined4 *)((int)pvVar1 + 0xc) = param_2;
  *(undefined4 *)((int)pvVar1 + 0x10) = param_3;
  CdxListAddTail(pvVar1,parserList);
  parserList._8_4_ = parserList._8_4_ + 1;
  return 0;
}



// WARNING: Removing unreachable block (ram,0x00013082)
// WARNING: Removing unreachable block (ram,0x00013096)
// WARNING: Removing unreachable block (ram,0x000130a0)
// WARNING: Removing unreachable block (ram,0x000130ac)
// WARNING: Removing unreachable block (ram,0x000130b2)
// WARNING: Removing unreachable block (ram,0x0001313a)
// WARNING: Removing unreachable block (ram,0x000130c0)
// WARNING: Removing unreachable block (ram,0x000130ca)
// WARNING: Removing unreachable block (ram,0x000130ce)
// WARNING: Removing unreachable block (ram,0x000130d2)
// WARNING: Removing unreachable block (ram,0x000130dc)
// WARNING: Removing unreachable block (ram,0x000130e4)
// WARNING: Removing unreachable block (ram,0x000130ee)
// WARNING: Removing unreachable block (ram,0x000130f4)
// WARNING: Removing unreachable block (ram,0x000130f8)
// WARNING: Removing unreachable block (ram,0x00013102)
// WARNING: Removing unreachable block (ram,0x0001310a)
// WARNING: Removing unreachable block (ram,0x00013114)
// WARNING: Removing unreachable block (ram,0x0001311a)
// WARNING: Removing unreachable block (ram,0x0001311e)
// WARNING: Removing unreachable block (ram,0x00013126)
// WARNING: Removing unreachable block (ram,0x0001312e)
// WARNING: Removing unreachable block (ram,0x00013138)
// WARNING: Removing unreachable block (ram,0x0001313e)
// WARNING: Removing unreachable block (ram,0x00013140)
// WARNING: Removing unreachable block (ram,0x00013142)
// WARNING: Removing unreachable block (ram,0x00013148)
// WARNING: Removing unreachable block (ram,0x0001323c)
// WARNING: Removing unreachable block (ram,0x00013248)
// WARNING: Removing unreachable block (ram,0x0001314c)

undefined4 * CdxParserCreate(char *param_1,undefined4 param_2)

{
  char *pcVar1;
  uint uVar2;
  char *pcVar3;
  code *pcVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  uint uVar7;
  undefined4 uVar8;
  
  FUN_00012e70((char **)param_1);
  FUN_00012e70((char **)param_1);
  FUN_00012e70((char **)param_1);
  if (param_1 == (char *)0x0) {
    pcVar1 = "!(stream)";
    uVar8 = 0x14c;
    pcVar3 = "CdxStreamGetProbeData";
    param_1 = "stream";
  }
  else {
    pcVar3 = *(char **)param_1;
    if (pcVar3 != (char *)0x0) goto LAB_00013050;
    pcVar1 = "!(stream->ops)";
    pcVar3 = "CdxStreamGetProbeData";
    uVar8 = 0x14d;
    param_1 = "stream->ops";
  }
LAB_0001304a:
  do {
    while( true ) {
      __android_log_assert(pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.",pcVar3,uVar8,param_1);
LAB_00013050:
      if (*(code **)(pcVar3 + 4) != (code *)0x0) break;
      pcVar1 = "!(stream->ops->getProbeData)";
      pcVar3 = "CdxStreamGetProbeData";
      uVar8 = 0x14e;
      param_1 = "stream->ops->getProbeData";
    }
    uVar8 = (**(code **)(pcVar3 + 4))(param_1);
    puVar5 = (undefined4 *)0x0;
    puVar6 = parserList._0_4_;
    uVar7 = 0;
LAB_000131c2:
    if (puVar6 == (undefined4 *)parserList) {
      puVar6 = puVar5;
      if (puVar5 == (undefined4 *)0x0) {
        __android_log_print(5,"awplayer","<%s:%u>: Sorry, I don\'t know what it is!",
                            "CdxParserCreate",0x236);
        return (undefined4 *)0x0;
      }
LAB_000131e6:
      pcVar3 = *(char **)puVar6[4];
      if (pcVar3 == (char *)0x0) {
        pcVar3 = "unknow";
      }
      __android_log_print(3,"awplayer","<%s:%u>: Good, it\'s \'%s\'","CdxParserCreate",0x23a,pcVar3)
      ;
      puVar5 = (undefined4 *)(**(code **)puVar6[2])(param_1,param_2);
      uVar8 = puVar6[3];
      *puVar5 = uVar8;
      __android_log_print(3,"awplayer","<%s:%u>: parser type(%d)","CdxParserCreate",0x23d,uVar8);
      return puVar5;
    }
    if (puVar6[2] == 0) {
      pcVar1 = "!(psrNode->creator)";
      uVar8 = 0x225;
      pcVar3 = "CdxParserCreate";
      param_1 = "psrNode->creator";
      goto LAB_0001304a;
    }
    pcVar4 = *(code **)(puVar6[2] + 4);
    if (pcVar4 != (code *)0x0) {
      uVar2 = (*pcVar4)(uVar8);
      if (uVar2 == 100) goto LAB_000131e6;
      if (uVar7 < uVar2) {
        puVar5 = puVar6;
      }
      puVar6 = (undefined4 *)*puVar6;
      if (uVar7 < uVar2) {
        uVar7 = uVar2;
      }
      goto LAB_000131c2;
    }
    pcVar1 = "!(psrNode->creator->probe)";
    pcVar3 = "CdxParserCreate";
    uVar8 = 0x226;
    param_1 = "psrNode->creator->probe";
  } while( true );
}



undefined8
CdxParserOpen(char *param_1,undefined4 param_2,pthread_mutex_t *param_3,int *param_4,int *param_5,
             undefined4 *param_6)

{
  undefined4 *puVar1;
  char *pcVar2;
  char *pcVar3;
  code *pcVar4;
  int iVar5;
  char *pcVar6;
  undefined8 uVar7;
  char *pcVar8;
  undefined4 uVar9;
  pthread_mutex_t *ppVar10;
  
  pcVar8 = param_1;
  uVar9 = param_2;
  ppVar10 = param_3;
  pthread_mutex_lock(param_3);
  if ((param_4 == (int *)0x0) || (*param_4 == 0)) {
    puVar1 = CdxParserCreate(param_1,param_2);
    *param_5 = (int)puVar1;
    pthread_mutex_unlock(param_3);
    if (*param_5 != 0) {
      while( true ) {
        iVar5 = *param_5;
        if (param_6 == (undefined4 *)0x0) {
          if (iVar5 == 0) {
            pcVar2 = "!(parser)";
            pcVar8 = (char *)0x1fd;
            pcVar3 = "CdxParserInit";
            pcVar6 = s_parser_00027c35;
          }
          else {
            if (*(int *)(iVar5 + 4) == 0) {
              pcVar2 = "!(parser->ops)";
              pcVar3 = "CdxParserInit";
              pcVar8 = (char *)0x1fe;
              pcVar6 = "parser->ops";
            }
            else {
              pcVar4 = *(code **)(*(int *)(iVar5 + 4) + 0x20);
              if (pcVar4 != (code *)0x0) {
                iVar5 = (*pcVar4)();
                goto LAB_0001345c;
              }
              param_6 = (undefined4 *)0x1ff;
              pcVar2 = "!(parser->ops->init)";
              pcVar3 = "CdxParserInit";
              pcVar8 = (char *)0x1ff;
              pcVar6 = "parser->ops->init";
            }
          }
        }
        else {
          uVar7 = CONCAT44(*param_6,iVar5);
          if (iVar5 == 0) {
            pcVar2 = "!(parser)";
            pcVar3 = "CdxParserControl";
            pcVar8 = (char *)0x173;
            pcVar6 = s_parser_00027c35;
          }
          else {
            pcVar3 = *(char **)(iVar5 + 4);
            if ((code **)pcVar3 != (code **)0x0) goto LAB_000133ac;
            param_6 = (undefined4 *)0x174;
            pcVar2 = "!(parser->ops)";
            pcVar3 = "CdxParserControl";
            pcVar8 = (char *)0x174;
            pcVar6 = "parser->ops";
          }
        }
        while( true ) {
          uVar7 = __android_log_assert
                            (pcVar2,"awplayer","<%s:%d>CDX_CHECK(%s) failed.",pcVar3,pcVar8,pcVar6);
LAB_000133ac:
          if (*(code **)pcVar3 != (code *)0x0) break;
          param_5 = (int *)0x175;
          pcVar2 = s___parser__ops__control__00027c57;
          pcVar3 = "CdxParserControl";
          pcVar8 = (char *)0x175;
          pcVar6 = "parser->ops->control";
        }
        iVar5 = (**(code **)pcVar3)((int)uVar7,(int)((ulonglong)uVar7 >> 0x20));
        if (iVar5 < 0) break;
        param_6 = (undefined4 *)param_6[2];
      }
      pcVar8 = (char *)0x257;
      __android_log_print(6,"awplayer",&DAT_00027c84,"CdxParserOpen",599,*param_6);
      goto LAB_0001345c;
    }
    pcVar8 = (char *)0x24e;
    __android_log_print(5,"awplayer","<%s:%u>: should not be here.","CdxParserOpen",0x24e,uVar9,
                        ppVar10);
  }
  else {
    pcVar8 = (char *)0x246;
    __android_log_print(5,"awplayer","<%s:%u>: open parser user cancel.","CdxParserOpen",0x246,uVar9
                        ,ppVar10);
    pthread_mutex_unlock(param_3);
  }
  iVar5 = -1;
LAB_0001345c:
  return CONCAT44(pcVar8,iVar5);
}



undefined8
CdxParserPrepare(undefined4 *param_1,undefined4 param_2,pthread_mutex_t *param_3,int *param_4,
                int *param_5,char **param_6,undefined4 *param_7,undefined4 param_8)

{
  int iVar1;
  undefined *puVar2;
  undefined8 uVar3;
  pthread_mutex_t *ppVar4;
  
  ppVar4 = param_3;
  __android_log_print(3,"awplayer","<%s:%u>: source uri \'%s\'","CdxParserPrepare",0x263,*param_1,
                      param_3);
  iVar1 = CdxStreamOpen(param_1,param_3,param_4,param_6,param_8);
  if (iVar1 < 0) {
    param_5 = (int *)0x267;
    puVar2 = &DAT_00027cf7;
  }
  else {
    uVar3 = CdxParserOpen(*param_6,param_2,param_3,param_4,param_5,param_7);
    iVar1 = (int)uVar3;
    if (-1 < iVar1) goto LAB_00013584;
    param_5 = (int *)0x26e;
    puVar2 = &DAT_00027d26;
  }
  __android_log_print(6,"awplayer",puVar2,"CdxParserPrepare",param_5,*param_1,ppVar4);
LAB_00013584:
  return CONCAT44(param_5,iVar1);
}



uint FUN_000135a0(int param_1,uint param_2,uint param_3)

{
  uint uVar1;
  uint uVar2;
  
  uVar2 = 8 - (param_2 & 7) & 0xff;
  if (uVar2 < param_3) {
    uVar2 = param_3 - uVar2 & 0xff;
  }
  else {
    uVar2 = 0;
  }
  uVar1 = (uint)*(byte *)(param_1 + (param_2 >> 3)) << (param_2 & 7) & 0xff;
  if (param_3 < 8) {
    uVar1 = (int)uVar1 >> (8 - param_3 & 0xff) & 0xff;
  }
  if (uVar2 != 0) {
    uVar1 = uVar1 | (int)(uint)*(byte *)(param_1 + (param_2 >> 3) + 1) >> (8 - uVar2 & 0xff) & 0xffU
    ;
  }
  return uVar1;
}



uint FUN_000135ec(int *param_1,int param_2)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  byte bVar4;
  uint uVar5;
  int iVar6;
  
  uVar5 = param_1[2];
  iVar6 = *param_1 + ((int)uVar5 >> 3);
  bVar4 = *(byte *)(*param_1 + ((int)uVar5 >> 3));
  bVar1 = *(byte *)(iVar6 + 3);
  bVar2 = *(byte *)(iVar6 + 2);
  bVar3 = *(byte *)(iVar6 + 1);
  param_1[2] = uVar5 + param_2;
  return (((uint)bVar1 | (uint)bVar4 << 0x18 | (uint)bVar3 << 0x10 | (uint)bVar2 << 8) <<
         (uVar5 & 7)) >> (0x20U - param_2 & 0xff);
}



uint FUN_0001361e(int *param_1)

{
  byte bVar1;
  uint uVar2;
  
  uVar2 = param_1[2];
  bVar1 = *(byte *)(*param_1 + ((int)uVar2 >> 3));
  param_1[2] = uVar2 + 1;
  return (((uint)bVar1 << (uVar2 & 7)) << 0x18) >> 0x1f;
}



uint FUN_00013638(int *param_1)

{
  byte bVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  
  uVar2 = param_1[2];
  iVar3 = *param_1 + ((int)uVar2 >> 3);
  uVar5 = ((uint)*(byte *)(iVar3 + 3) | (uint)*(byte *)(*param_1 + ((int)uVar2 >> 3)) << 0x18 |
           (uint)*(byte *)(iVar3 + 1) << 0x10 | (uint)*(byte *)(iVar3 + 2) << 8) << (uVar2 & 7);
  if (uVar5 < 0x8000000) {
    uVar6 = uVar5 & 0xffff0000;
    uVar4 = uVar5;
    if (uVar5 >> 0x10 != 0) {
      uVar6 = 0x10;
      uVar4 = uVar5 >> 0x10;
    }
    if ((uVar4 & 0xff00) != 0) {
      uVar4 = uVar4 >> 8;
      uVar6 = uVar6 + 8;
    }
    bVar1 = log2_tab[uVar4];
    param_1[2] = uVar2 + (uVar6 + bVar1) * -2 + 0x3f;
    return (uVar5 >> ((uVar6 + bVar1) * 2 - 0x1f & 0xff)) - 1;
  }
  param_1[2] = uVar2 + (byte)golomb_vlc_len[uVar5 >> 0x17];
  return (uint)(byte)ue_golomb_vlc_code[uVar5 >> 0x17];
}



uint FUN_000136bc(int *param_1)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  
  uVar3 = param_1[2];
  iVar1 = *param_1 + ((int)uVar3 >> 3);
  uVar4 = ((uint)*(byte *)(iVar1 + 3) | (uint)*(byte *)(*param_1 + ((int)uVar3 >> 3)) << 0x18 |
           (uint)*(byte *)(iVar1 + 1) << 0x10 | (uint)*(byte *)(iVar1 + 2) << 8) << (uVar3 & 7);
  if (0x7ffffff < (int)uVar4) {
    param_1[2] = uVar3 + (byte)golomb_vlc_len[(int)uVar4 >> 0x17];
    return (uint)(byte)se_golomb_vlc_code[(int)uVar4 >> 0x17];
  }
  uVar5 = uVar4 & 0xffff0000;
  uVar2 = uVar4;
  if (uVar5 != 0) {
    uVar5 = 0x10;
    uVar2 = uVar4 >> 0x10;
  }
  if ((uVar2 & 0xff00) != 0) {
    uVar2 = uVar2 >> 8;
    uVar5 = uVar5 + 8;
  }
  uVar4 = (int)uVar4 >> ((uVar5 + (byte)log2_tab[uVar2]) * 2 - 0x1f & 0xff);
  param_1[2] = uVar3 + (uVar5 + (byte)log2_tab[uVar2]) * -2 + 0x3f;
  uVar3 = (int)uVar4 >> 1;
  if ((uVar4 & 1) != 0) {
    uVar3 = -uVar3;
  }
  return uVar3;
}



int FUN_0001374c(int param_1,uint *param_2)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  
  iVar7 = 0;
  uVar1 = *param_2;
  while( true ) {
    uVar4 = uVar1 + 1;
    uVar1 = FUN_000135a0(param_1,uVar1,1);
    if (uVar1 != 0) break;
    iVar7 = iVar7 + 1;
    uVar1 = uVar4;
  }
  uVar6 = iVar7 + uVar4;
  uVar1 = 0;
  while (uVar4 < uVar6) {
    uVar8 = uVar6 - uVar4;
    if (7 < uVar8) {
      uVar8 = 8;
    }
    uVar5 = uVar4 + uVar8;
    uVar4 = FUN_000135a0(param_1,uVar4,uVar8 & 0xff);
    uVar1 = uVar1 | uVar4;
    uVar4 = uVar5;
    if (uVar6 - uVar5 < 9) {
      if (uVar6 != uVar5) {
        uVar1 = uVar1 << (uVar6 - uVar5 & 0xff);
      }
    }
    else {
      uVar1 = uVar1 << 8;
    }
  }
  iVar3 = 0;
  iVar2 = 1;
  while (iVar3 != iVar7) {
    iVar2 = iVar2 << 1;
    iVar3 = iVar3 + 1;
  }
  *param_2 = uVar6;
  return (uVar1 - 1) + iVar2;
}



int FUN_000137c0(int param_1,int param_2)

{
  uint uVar1;
  byte bVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  
  iVar4 = 0;
  iVar3 = 0;
  uVar5 = 0xffffffff;
  while (iVar3 < param_2) {
    bVar2 = *(byte *)(param_1 + iVar3);
    uVar1 = uVar5 << 8;
    uVar5 = bVar2 | uVar1;
    if (((uint)bVar2 | uVar1 & 0xffffff) == 3) {
      iVar4 = iVar4 + 1;
    }
    else {
      if (iVar4 != 0) {
        *(byte *)(param_1 + (iVar3 - iVar4)) = bVar2;
      }
    }
    iVar3 = iVar3 + 1;
  }
  if (param_2 < 0) {
    iVar4 = -iVar4;
  }
  else {
    iVar4 = param_2 - iVar4;
  }
  return iVar4;
}



undefined4 FUN_000137f8(int param_1,int param_2)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  uint local_f0;
  uint local_ec [16];
  char local_ac [64];
  char local_6c [64];
  int local_2c;
  
  local_2c = __stack_chk_guard;
  iVar6 = 0;
  uVar4 = 0x68;
  local_f0 = 4;
  uVar1 = FUN_000135a0(param_2,4,3);
  local_f0 = 8;
  memset(local_ac,0,0x40);
  memset(local_6c,0,0x40);
  while (uVar4 != (uVar1 + 0x34) * 2) {
    uVar5 = uVar4 + 1;
    uVar2 = FUN_000135a0(param_2,uVar4,1);
    uVar4 = uVar4 + 2;
    local_ac[iVar6] = (char)uVar2;
    uVar2 = FUN_000135a0(param_2,uVar5,1);
    local_6c[iVar6] = (char)uVar2;
    iVar6 = iVar6 + 1;
  }
  local_f0 = uVar1 * 2 + 0x68;
  uVar4 = uVar1;
  if (uVar1 != 0) {
    while (uVar4 < 8) {
      local_f0 = local_f0 + 2;
      uVar4 = uVar4 + 1;
    }
  }
  uVar4 = 0;
  while (uVar4 < uVar1) {
    if (local_ac[uVar4] != '\0') {
      local_f0 = local_f0 + 0x58;
    }
    if (local_6c[uVar4] != '\0') {
      local_f0 = local_f0 + 8;
    }
    uVar4 = uVar4 + 1;
  }
  FUN_0001374c(param_2,&local_f0);
  iVar6 = FUN_0001374c(param_2,&local_f0);
  if (iVar6 == 3) {
    local_f0 = local_f0 + 1;
  }
  iVar6 = FUN_0001374c(param_2,&local_f0);
  *(int *)(param_1 + 4) = iVar6;
  iVar6 = FUN_0001374c(param_2,&local_f0);
  uVar4 = local_f0;
  *(int *)(param_1 + 8) = iVar6;
  uVar2 = FUN_000135a0(param_2,local_f0,1);
  local_f0 = uVar4 + 1;
  if (uVar2 != 0) {
    FUN_0001374c(param_2,&local_f0);
    FUN_0001374c(param_2,&local_f0);
    FUN_0001374c(param_2,&local_f0);
    FUN_0001374c(param_2,&local_f0);
  }
  FUN_0001374c(param_2,&local_f0);
  FUN_0001374c(param_2,&local_f0);
  FUN_0001374c(param_2,&local_f0);
  uVar4 = local_f0;
  uVar2 = FUN_000135a0(param_2,local_f0,1);
  local_f0 = uVar4 + 1;
  iVar6 = 0;
  do {
    *(undefined4 *)(iVar6 + (int)local_ec) = 1;
    iVar6 = iVar6 + 4;
  } while (iVar6 != 0x40);
  uVar4 = uVar1;
  if (uVar2 != 0) {
    uVar4 = 0;
  }
  iVar6 = 0;
  uVar2 = uVar4;
  while (uVar2 <= uVar1) {
    iVar3 = FUN_0001374c(param_2,&local_f0);
    uVar2 = uVar2 + 1;
    *(int *)((int)local_ec + iVar6 + uVar4 * 4) = iVar3 + 1;
    __android_log_print(6,"awplayer",&DAT_00027da2,"h265_parse_sps",0x3ff,iVar3 + 1);
    iVar6 = iVar6 + 4;
    FUN_0001374c(param_2,&local_f0);
    FUN_0001374c(param_2,&local_f0);
  }
  iVar6 = 0;
  uVar1 = 1;
  do {
    uVar4 = *(uint *)((int)local_ec + iVar6);
    iVar6 = iVar6 + 4;
    if (uVar1 < uVar4) {
      uVar1 = uVar4;
    }
  } while (iVar6 != 0x40);
  *(uint *)(param_1 + 0x30) = uVar1;
  if (local_2c != __stack_chk_guard) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return 1;
}



void decode_scaling_list(int *param_1,int param_2)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  
  uVar1 = FUN_0001361e(param_1);
  if (uVar1 != 0) {
    uVar2 = 8;
    uVar3 = 0;
    uVar1 = 8;
    while ((int)uVar3 < param_2) {
      if (uVar2 != 0) {
        uVar2 = FUN_000136bc(param_1);
        uVar2 = uVar1 + uVar2 & 0xff;
      }
      if ((uVar2 | uVar3) == 0) {
        return;
      }
      if (uVar2 != 0) {
        uVar1 = uVar2;
      }
      uVar3 = uVar3 + 1;
    }
  }
  return;
}



void decode_scaling_matrices(int *param_1)

{
  uint uVar1;
  
  uVar1 = FUN_0001361e(param_1);
  if (uVar1 != 0) {
    decode_scaling_list(param_1,0x10);
    decode_scaling_list(param_1,0x10);
    decode_scaling_list(param_1,0x10);
    decode_scaling_list(param_1,0x10);
    decode_scaling_list(param_1,0x10);
    decode_scaling_list(param_1,0x10);
    decode_scaling_list(param_1,0x40);
    decode_scaling_list(param_1,0x40);
    return;
  }
  return;
}



undefined4 probeH264SizeInfo(int param_1,int param_2,uint param_3)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  int local_20;
  int local_1c;
  undefined4 local_18;
  int local_14;
  
  local_14 = param_3 << 3;
  local_1c = param_2 + (param_3 & 0x1fffffff);
  local_18 = 0;
  local_20 = param_2;
  uVar1 = FUN_000135ec(&local_20,8);
  FUN_0001361e(&local_20);
  FUN_0001361e(&local_20);
  FUN_0001361e(&local_20);
  FUN_0001361e(&local_20);
  FUN_000135ec(&local_20,4);
  FUN_000135ec(&local_20,8);
  FUN_00013638(&local_20);
  if (99 < (uVar1 & 0xff)) {
    uVar1 = FUN_00013638(&local_20);
    if (uVar1 == 3) {
      FUN_0001361e(&local_20);
    }
    FUN_00013638(&local_20);
    FUN_00013638(&local_20);
    FUN_0001361e(&local_20);
    decode_scaling_matrices(&local_20);
  }
  FUN_00013638(&local_20);
  uVar1 = FUN_00013638(&local_20);
  if (uVar1 == 0) {
    FUN_00013638(&local_20);
  }
  else {
    if (uVar1 == 1) {
      iVar4 = 0;
      FUN_0001361e(&local_20);
      FUN_000136bc(&local_20);
      FUN_000136bc(&local_20);
      uVar1 = FUN_00013638(&local_20);
      while (iVar4 < (int)uVar1) {
        iVar4 = iVar4 + 1;
        FUN_000136bc(&local_20);
      }
    }
    else {
      if (uVar1 != 2) {
        __android_log_print(6,"awplayer",&DAT_00027dd5,"probeH264SizeInfo",0x164);
        return 0xfffffffd;
      }
    }
  }
  FUN_00013638(&local_20);
  FUN_0001361e(&local_20);
  uVar1 = FUN_00013638(&local_20);
  uVar2 = FUN_00013638(&local_20);
  uVar3 = FUN_0001361e(&local_20);
  if (*(int *)(param_1 + 4) == 0) {
    *(uint *)(param_1 + 4) = (uVar1 + 1) * 0x10;
  }
  if (*(int *)(param_1 + 8) == 0) {
    *(uint *)(param_1 + 8) = (uVar3 * -0x10 + 0x20) * (uVar2 + 1);
  }
  return 1;
}



int probeStartCode(int param_1,int param_2,int3 param_3)

{
  int iVar1;
  
  iVar1 = 0;
  while( true ) {
    if (iVar1 == param_2) {
      return -1;
    }
    param_3 = (uint3)*(byte *)(param_1 + iVar1) + param_3 * 0x100;
    if (param_3 == 1) break;
    iVar1 = iVar1 + 1;
  }
  return iVar1;
}



undefined4
probeConvertAvcSpecificData(undefined *param_1,int param_2,undefined4 param_3,int *param_4)

{
  char cVar1;
  byte bVar2;
  uint __n;
  byte *__src;
  byte *pbVar3;
  
  *param_4 = 0;
  cVar1 = '\x02';
  bVar2 = *(byte *)(param_2 + 5) & 0x1f;
  pbVar3 = (byte *)(param_2 + 6);
  do {
    while (bVar2 != 0) {
      *param_1 = 0;
      param_1[1] = 0;
      param_1[2] = 0;
      param_1[3] = 1;
      __src = pbVar3 + 2;
      __n = (uint)CONCAT11(*pbVar3,pbVar3[1]);
      pbVar3 = __src + __n;
      memcpy(param_1 + 4,__src,__n);
      bVar2 = bVar2 - 1;
      param_1 = param_1 + __n + 4;
      *param_4 = *param_4 + 4 + __n;
    }
    cVar1 = cVar1 + -1;
    bVar2 = *pbVar3;
    pbVar3 = pbVar3 + 1;
  } while (cVar1 != '\0');
  return 0;
}



int VerifyAvcSpecificDataForPacketOriented(int param_1,void *param_2,size_t param_3)

{
  byte bVar1;
  byte bVar2;
  int iVar3;
  void *__dest;
  byte bVar4;
  byte *pbVar5;
  byte bVar6;
  byte bVar7;
  
  bVar4 = 0;
  bVar7 = *(byte *)((int)param_2 + 5) & 0x1f;
  bVar6 = 0;
  pbVar5 = (byte *)((int)param_2 + 6);
  while( true ) {
    while (bVar7 != 0) {
      bVar1 = *pbVar5;
      bVar2 = pbVar5[1];
      if (((bVar4 | bVar6) == 0) &&
         (iVar3 = probeH264SizeInfo(param_1,(int)(pbVar5 + 3),CONCAT11(bVar1,bVar2) - 1), iVar3 != 1
         )) {
        __android_log_print(6,"awplayer",&DAT_00027df7,"VerifyAvcSpecificDataForPacketOriented",
                            0x1c1);
        return iVar3;
      }
      bVar4 = bVar4 + 1;
      bVar7 = bVar7 - 1;
      pbVar5 = pbVar5 + CONCAT11(bVar1,bVar2) + 2;
    }
    if ((byte *)((int)param_2 + param_3) < pbVar5) {
      return -1;
    }
    bVar6 = bVar6 + 1;
    if (bVar6 == 2) break;
    bVar7 = *pbVar5;
    pbVar5 = pbVar5 + 1;
  }
  __dest = malloc(param_3);
  *(void **)(param_1 + 0x20) = __dest;
  if (__dest != (void *)0x0) {
    memcpy(__dest,param_2,param_3);
    *(size_t *)(param_1 + 0x1c) = param_3;
    return 1;
  }
  __android_log_print(6,"awplayer",&DAT_00027e24,"VerifyAvcSpecificDataForPacketOriented",0x1d8);
  return -3;
}



int probeH264SpecificData(int param_1,void *param_2,size_t param_3)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  void *pvVar5;
  size_t __size;
  uint local_430;
  int local_42c;
  int local_428;
  char local_424 [1024];
  int local_24;
  
  local_24 = __stack_chk_guard;
  memset(&local_430,0,0xc);
  iVar1 = probeStartCode((int)param_2,param_3,0);
  if (iVar1 == -1) {
    iVar1 = -2;
    __android_log_print(6,"awplayer",&DAT_00027e46,"probeH264SpecificData",500);
  }
  else {
    if (param_3 - iVar1 < 7) {
      __android_log_print(6,"awplayer",&DAT_00027e75,"probeH264SpecificData",0x1f9,param_3 - iVar1);
      iVar1 = -1;
    }
    else {
      if (iVar1 == 0) {
        iVar1 = VerifyAvcSpecificDataForPacketOriented(param_1,param_2,param_3);
      }
      else {
        iVar1 = 0;
        pvVar5 = param_2;
        do {
          iVar2 = probeStartCode((int)pvVar5,param_3,-1);
          if (iVar2 == -1) goto LAB_00013e62;
          if (iVar1 == 0) {
            if ((*(byte *)((int)pvVar5 + iVar2 + 1) & 0x1f) == 7) {
              local_430 = (int)pvVar5 + (iVar2 - (int)param_2) + 2;
              iVar1 = 1;
            }
          }
          else {
            if (iVar1 == 1) {
              if ((*(byte *)((int)pvVar5 + iVar2 + 1) & 0x1f) == 8) {
                local_42c = (int)pvVar5 + (iVar2 - (int)param_2) + 2;
                iVar1 = 2;
              }
            }
            else {
              if (iVar1 == 2) {
                local_428 = (int)pvVar5 + (iVar2 - (int)param_2) + 2;
                uVar3 = 0;
                uVar4 = local_430;
                while (uVar4 < local_42c - 4U) {
                  if (((*(char *)((int)param_2 + uVar4) == '\0') &&
                      (*(char *)((int)param_2 + uVar4 + 1) == '\0')) &&
                     (*(char *)((int)param_2 + uVar4 + 2) == '\x03')) {
                    local_424[uVar3] = '\0';
                    uVar4 = uVar4 + 3;
                    local_424[uVar3 + 1] = '\0';
                    uVar3 = uVar3 + 2;
                  }
                  else {
                    local_424[uVar3] = *(char *)((int)param_2 + uVar4);
                    uVar4 = uVar4 + 1;
                    uVar3 = uVar3 + 1;
                  }
                }
                iVar1 = probeH264SizeInfo(param_1,(int)local_424,uVar3);
                uVar3 = local_430;
                if (iVar1 == 1) {
                  __size = local_428 - local_430;
                  pvVar5 = malloc(__size);
                  *(void **)(param_1 + 0x20) = pvVar5;
                  if (pvVar5 == (void *)0x0) {
                    iVar1 = -3;
                    __android_log_print(6,"awplayer",&DAT_00027e24,"probeH264SpecificData",0x24c);
                  }
                  else {
                    memcpy(pvVar5,(void *)((int)param_2 + (uVar3 - 4)),__size);
                    *(size_t *)(param_1 + 0x1c) = __size;
                  }
                }
                goto LAB_00013ee4;
              }
            }
          }
          param_3 = param_3 + (-2 - iVar2);
          pvVar5 = (void *)((int)pvVar5 + iVar2 + 2);
        } while (0 < (int)param_3);
        __android_log_print(3,"awplayer","<%s:%u>: *****","probeH264SpecificData",0x22a);
LAB_00013e62:
        if (iVar1 == 0) {
          iVar1 = -2;
        }
        else {
          iVar1 = -1;
        }
      }
    }
  }
LAB_00013ee4:
  if (local_24 != __stack_chk_guard) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return iVar1;
}



undefined4 probeMpeg2SpecificData(int param_1,int param_2,int param_3)

{
  byte bVar1;
  byte bVar2;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  void *__dest;
  int iVar6;
  size_t __size;
  int iVar7;
  int local_6c [3];
  undefined4 local_60 [4];
  undefined4 local_50;
  undefined4 uStack76;
  undefined4 uStack72;
  undefined4 uStack68;
  undefined4 local_40;
  undefined4 uStack60;
  undefined4 uStack56;
  undefined4 uStack52;
  undefined4 local_30;
  undefined4 uStack44;
  undefined4 uStack40;
  undefined4 uStack36;
  
  memset(local_6c,0,0xc);
  iVar6 = 0;
  local_60[0] = 0;
  local_60[1] = 0x5da8;
  local_60[2] = 24000;
  local_60[3] = 25000;
  local_50 = 0x7512;
  uStack76 = 30000;
  uStack72 = 50000;
  uStack68 = 0xea24;
  local_40 = 60000;
  uStack60 = 0;
  uStack56 = 0;
  uStack52 = 0;
  local_30 = 0;
  uStack44 = 0;
  uStack40 = 0;
  uStack36 = 0;
  iVar7 = param_2;
  do {
    iVar4 = probeStartCode(iVar7,param_3,-1);
    iVar3 = local_6c[0];
    if (iVar4 == -1) goto LAB_0001401e;
    if (iVar6 == 0) {
      if (*(char *)(iVar7 + iVar4 + 1) == -0x4d) {
        local_6c[0] = (iVar7 - param_2) + iVar4 + 2;
        iVar6 = 1;
      }
    }
    else {
      if (iVar6 == 1) {
        if (*(char *)(iVar7 + iVar4 + 1) == -0x48) {
          iVar6 = 2;
        }
        else {
          iVar6 = 1;
        }
      }
      else {
        if (iVar6 == 2) {
          iVar6 = param_2 + local_6c[0];
          bVar1 = *(byte *)(iVar6 + 1);
          bVar2 = *(byte *)(iVar6 + 2);
          uVar5 = local_60[*(byte *)(iVar6 + 3) & 0xf];
          if (*(int *)(param_1 + 4) == 0) {
            *(uint *)(param_1 + 4) =
                 (uint)*(byte *)(param_2 + local_6c[0]) << 4 | (uint)(bVar1 >> 4);
          }
          if (*(int *)(param_1 + 8) == 0) {
            *(uint *)(param_1 + 8) = (uint)bVar2 | (bVar1 & 0xf) << 8;
          }
          if (*(int *)(param_1 + 0xc) == 0) {
            *(undefined4 *)(param_1 + 0xc) = uVar5;
          }
          iVar6 = *(int *)(param_1 + 0xc);
          if (iVar6 != 0) {
            uVar5 = __aeabi_ldivmod(1000000000,0,iVar6,iVar6 >> 0x1f);
            *(undefined4 *)(param_1 + 0x10) = uVar5;
          }
          __size = ((iVar7 - param_2) + iVar4 + 2) - iVar3;
          __dest = malloc(__size);
          *(void **)(param_1 + 0x20) = __dest;
          if (__dest == (void *)0x0) {
            __android_log_print(6,"awplayer",&DAT_00027e24,"probeMpeg2SpecificData",0x2a5);
            return 0xfffffffd;
          }
          memcpy(__dest,(void *)(param_2 + iVar3 + -4),__size);
          return 1;
        }
      }
    }
    iVar7 = iVar7 + iVar4 + 2;
    param_3 = param_3 + (-2 - iVar4);
  } while (0 < param_3);
  __android_log_print(3,"awplayer","<%s:%u>: *****","probeMpeg2SpecificData",0x288);
LAB_0001401e:
  if (iVar6 == 0) {
    uVar5 = 0xfffffffe;
  }
  else {
    uVar5 = 0xffffffff;
  }
  return uVar5;
}



undefined4 decodeWmv3SequenceHeader(int param_1,int param_2,uint param_3)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  undefined4 uVar4;
  uint uVar5;
  int iVar6;
  char *pcVar7;
  uint uVar8;
  int local_50 [4];
  int local_40;
  undefined4 local_3c;
  int local_38;
  int local_34 [4];
  undefined4 local_24;
  undefined4 uStack32;
  char *pcStack28;
  
  local_34[0] = 0;
  local_34[1] = 24000;
  local_34[2] = 25000;
  local_34[3] = 30000;
  local_24 = 60000;
  uStack32 = 48000;
  pcStack28 = "";
  local_3c = 0;
  local_50[0] = 0;
  local_50[1] = 1000;
  local_50[2] = 0x3e9;
  local_38 = param_3 << 3;
  local_40 = param_2 + (param_3 & 0x1fffffff);
  local_50[3] = param_2;
  uVar1 = FUN_000135ec(local_50 + 3,2);
  if (uVar1 == 3) {
    uVar1 = FUN_000135ec(local_50 + 3,3);
    if (4 < (uVar1 & 0xff)) {
      __android_log_print(5,"awplayer","<%s:%u>: Reserved LEVEL %i","decodeWmv3SequenceHeader",0x2cf
                          ,uVar1 & 0xff);
    }
    FUN_000135ec(local_50 + 3,2);
    FUN_000135ec(local_50 + 3,3);
    FUN_000135ec(local_50 + 3,5);
    FUN_0001361e(local_50 + 3);
    uVar1 = FUN_000135ec(local_50 + 3,0xc);
    uVar8 = (uVar1 + 1) * 2 & 0xffff;
    uVar1 = FUN_000135ec(local_50 + 3,0xc);
    uVar1 = (uVar1 + 1) * 2 & 0xffff;
    uVar2 = FUN_000135ec(local_50 + 3,7);
    uVar2 = uVar2 & 1;
    if (uVar2 != 0) {
      uVar2 = FUN_000135ec(local_50 + 3,0x1d);
      if (((int)(uVar2 << 0x1f) < 0) &&
         (uVar2 = FUN_000135ec(local_50 + 3,4), (uVar2 & 0xff) == 0xf)) {
        FUN_000135ec(local_50 + 3,0x10);
      }
      uVar2 = FUN_0001361e(local_50 + 3);
      uVar2 = uVar2 & 0xff;
      if (uVar2 != 0) {
        uVar2 = FUN_0001361e(local_50 + 3);
        if ((uVar2 & 0xff) == 0) {
          uVar2 = FUN_000135ec(local_50 + 3,8);
          uVar3 = FUN_000135ec(local_50 + 3,4);
          uVar3 = uVar3 & 0xff;
          uVar5 = 1 - uVar3;
          if (1 < uVar3) {
            uVar5 = 0;
          }
          if (6 < ((uVar2 & 0xff) - 1 & 0xff)) {
            uVar5 = uVar5 | 1;
          }
          if ((uVar5 == 0) && (uVar3 < 3)) {
            uVar2 = __aeabi_uidiv(local_34[uVar2 & 0xff] * 1000,local_50[uVar3]);
          }
          else {
            __android_log_print(6,"awplayer",&DAT_00027eda,"decodeWmv3SequenceHeader",0x2ee);
            uVar2 = 0;
          }
        }
        else {
          uVar2 = FUN_000135ec(local_50 + 3,0x10);
          uVar2 = (int)(((uVar2 & 0xffff) + 1) * 1000) >> 5;
        }
      }
    }
LAB_00014362:
    if (*(int *)(param_1 + 4) == 0) {
      *(uint *)(param_1 + 4) = uVar8;
    }
    if (*(int *)(param_1 + 8) == 0) {
      *(uint *)(param_1 + 8) = uVar1;
    }
    if (*(int *)(param_1 + 0xc) == 0) {
      *(uint *)(param_1 + 0xc) = uVar2;
    }
    iVar6 = *(int *)(param_1 + 0xc);
    if (iVar6 != 0) {
      uVar4 = __aeabi_ldivmod(1000000000,0,iVar6,iVar6 >> 0x1f);
      *(undefined4 *)(param_1 + 0x10) = uVar4;
    }
    uVar4 = 1;
  }
  else {
    __android_log_print(6,"awplayer",&DAT_00027f03,"decodeWmv3SequenceHeader",0x2fd,uVar1);
    FUN_0001361e(local_50 + 3);
    uVar2 = FUN_0001361e(local_50 + 3);
    FUN_000135ec(local_50 + 3,3);
    FUN_000135ec(local_50 + 3,5);
    FUN_0001361e(local_50 + 3);
    FUN_0001361e(local_50 + 3);
    FUN_0001361e(local_50 + 3);
    FUN_0001361e(local_50 + 3);
    uVar8 = FUN_0001361e(local_50 + 3);
    uVar3 = 1 - uVar1;
    if (1 < uVar1) {
      uVar3 = 0;
    }
    if ((uVar8 & 0xff) == 0) {
      uVar1 = uVar3 & 1;
    }
    else {
      uVar1 = 0;
    }
    if (uVar1 == 0) {
      uVar1 = FUN_0001361e(local_50 + 3);
      if ((uVar1 & 0xff) == 0) {
        uVar3 = 0;
      }
      else {
        uVar3 = uVar3 & 1;
      }
      if (uVar3 == 0) {
        FUN_000135ec(local_50 + 3,2);
        FUN_0001361e(local_50 + 3);
        uVar1 = FUN_0001361e(local_50 + 3);
        if ((uVar1 & 0xff) == 0) {
          FUN_0001361e(local_50 + 3);
          FUN_0001361e(local_50 + 3);
          FUN_0001361e(local_50 + 3);
          FUN_000135ec(local_50 + 3,3);
          FUN_000135ec(local_50 + 3,2);
          FUN_0001361e(local_50 + 3);
          uVar2 = uVar2 & 0xff;
          uVar1 = uVar2;
          uVar8 = uVar2;
          if (uVar2 != 0) {
            uVar8 = FUN_000135ec(local_50 + 3,0xb);
            uVar8 = uVar8 & 0xffff;
            uVar1 = FUN_000135ec(local_50 + 3,0xb);
            uVar1 = uVar1 & 0xffff;
            uVar2 = FUN_000135ec(local_50 + 3,5);
          }
          goto LAB_00014362;
        }
        uVar4 = 0x319;
        pcVar7 = "<%s:%u>: 1 for reserved RES_TRANSTAB is forbidden\n";
      }
      else {
        uVar4 = 0x311;
        pcVar7 = "<%s:%u>: Extended MVs unavailable in Simple Profile\n";
      }
    }
    else {
      uVar4 = 0x30b;
      pcVar7 = "<%s:%u>: FASTUVMC unavailable in Simple Profile\n";
    }
    __android_log_print(3,"awplayer",pcVar7,"decodeWmv3SequenceHeader",uVar4);
    uVar4 = 0xfffffffd;
  }
  return uVar4;
}



int probeWmv3SpecificData(int param_1,int param_2,int param_3)

{
  int iVar1;
  int iVar2;
  void *__dest;
  int iVar3;
  int iVar4;
  size_t __size;
  int local_24;
  int local_20;
  
  memset(&local_24,0,0xc);
  iVar3 = 0;
  iVar4 = param_2;
  do {
    iVar2 = probeStartCode(iVar4,param_3,-1);
    iVar1 = local_24;
    if (iVar2 == -1) goto LAB_0001447a;
    if (iVar3 == 0) {
      if (*(char *)(iVar4 + iVar2 + 1) == '\x0f') {
        local_24 = (iVar4 - param_2) + iVar2 + 2;
        iVar3 = 1;
      }
    }
    else {
      if (iVar3 == 1) {
        if (*(char *)(iVar4 + iVar2 + 1) == '\x0e') {
          iVar3 = 2;
          local_20 = (iVar4 - param_2) + iVar2 + 2;
        }
      }
      else {
        if (iVar3 == 2) {
          iVar3 = decodeWmv3SequenceHeader(param_1,param_2 + local_24,local_20 - local_24);
          if (iVar3 != 1) {
            return iVar3;
          }
          __size = ((iVar4 - param_2) + iVar2 + 2) - iVar1;
          __dest = malloc(__size);
          *(void **)(param_1 + 0x20) = __dest;
          if (__dest == (void *)0x0) {
            __android_log_print(6,"awplayer",&DAT_00027e24,"probeWmv3SpecificData",0x375);
            return -3;
          }
          memcpy(__dest,(void *)(param_2 + iVar1 + -4),__size);
          return 1;
        }
      }
    }
    param_3 = param_3 + (-2 - iVar2);
    iVar4 = iVar4 + iVar2 + 2;
  } while (0 < param_3);
  __android_log_print(3,"awplayer","<%s:%u>: *****","probeWmv3SpecificData",0x366);
LAB_0001447a:
  if (iVar3 == 0) {
    iVar4 = -2;
  }
  else {
    iVar4 = -1;
  }
  return iVar4;
}



void * probeH265RefPictureNumber(int param_1,uint param_2)

{
  void *__ptr;
  uint uVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  undefined auStack100 [48];
  void *local_34;
  
  memset(auStack100,0,0x3c);
  __ptr = malloc(0x800);
  if (__ptr == (void *)0x0) {
    __android_log_print(6,"awplayer",&DAT_00027fd4,"probeH265RefPictureNumber",0x446);
    local_34 = __ptr;
  }
  else {
    uVar6 = 0;
    uVar7 = 0xffffffff;
    while (uVar6 < param_2) {
      uVar2 = uVar7 << 8;
      uVar7 = *(byte *)(param_1 + uVar6) | uVar2;
      uVar2 = (uint)*(byte *)(param_1 + uVar6) | uVar2 & 0xffffff;
      if (uVar2 == 0x600001) {
LAB_0001455a:
        iVar4 = uVar6 + 3;
        uVar6 = (uint)CONCAT11(*(undefined *)(param_1 + uVar6 + 1),
                               *(undefined *)(param_1 + uVar6 + 2));
        if (((uint)*(byte *)(param_1 + iVar4) << 0x19) >> 0x1a == 0x21) {
          __memcpy_chk(__ptr,param_1 + iVar4,uVar6,0x800);
          uVar6 = FUN_000137c0((int)__ptr,uVar6);
          FUN_000137f8((int)auStack100,(int)__ptr);
        }
        uVar6 = iVar4 + uVar6;
      }
      else {
        if (0x600001 < uVar2) {
          if (uVar2 != 0xa00001) {
            if (uVar2 < 0xa00002) {
              uVar1 = 0x610001;
            }
            else {
              uVar1 = 0xa10001;
            }
LAB_0001454e:
            if ((uVar2 != uVar1) && (uVar2 != uVar1 + 0x10000)) goto LAB_000145f8;
          }
          goto LAB_0001455a;
        }
        if (uVar2 == 0x200001) goto LAB_0001455a;
        if (0x200001 < uVar2) {
          uVar1 = 0x210001;
          goto LAB_0001454e;
        }
        if (uVar2 == 1) {
          iVar5 = uVar6 + 1;
          uVar6 = 0xffffffff;
          iVar4 = param_2 - iVar5;
          iVar3 = 0;
          while (iVar3 < iVar4) {
            uVar1 = (uint)*(byte *)(param_1 + iVar5 + iVar3);
            uVar2 = uVar6 << 8;
            uVar6 = uVar1 | uVar2;
            if ((uVar1 | uVar2 & 0xffffff) == 1) {
              if (-1 < iVar3 + -3) {
                iVar4 = iVar3 + -3;
              }
              break;
            }
            iVar3 = iVar3 + 1;
          }
          if (((uint)*(byte *)(param_1 + iVar5) << 0x19) >> 0x1a == 0x21) {
            __memcpy_chk(__ptr,param_1 + iVar5,iVar4,0x800);
            iVar4 = FUN_000137c0((int)__ptr,iVar4);
            FUN_000137f8((int)auStack100,(int)__ptr);
          }
          uVar6 = iVar4 + iVar5;
        }
        else {
LAB_000145f8:
          uVar6 = uVar6 + 1;
        }
      }
    }
    free(__ptr);
  }
  return local_34;
}



int probeH265SpecificData(int param_1,int param_2,int param_3)

{
  int iVar1;
  void *__dest;
  uint uVar2;
  int iVar3;
  int iVar4;
  size_t __size;
  int local_834;
  int local_830;
  int local_82c;
  int local_828;
  char local_824 [2048];
  int local_24;
  
  local_24 = __stack_chk_guard;
  iVar3 = 0;
  memset(&local_834,0,0x10);
  iVar4 = param_2;
  do {
    iVar1 = probeStartCode(iVar4,param_3,-1);
    if (iVar1 == -1) goto LAB_0001471c;
    if (iVar3 == 0) {
      if (((uint)*(byte *)(iVar4 + iVar1 + 1) << 0x19) >> 0x1a == 0x20) {
        local_834 = (iVar4 - param_2) + iVar1 + 3;
        iVar3 = 1;
      }
    }
    else {
      if (iVar3 == 1) {
        if (((uint)*(byte *)(iVar4 + iVar1 + 1) << 0x19) >> 0x1a == 0x21) {
          local_830 = (iVar4 - param_2) + iVar1 + 3;
          iVar3 = 2;
        }
      }
      else {
        if (iVar3 == 2) {
          if (((uint)*(byte *)(iVar4 + iVar1 + 1) << 0x19) >> 0x1a == 0x22) {
            local_82c = (iVar4 - param_2) + iVar1 + 3;
            iVar3 = 3;
          }
        }
        else {
          if (iVar3 == 3) {
            iVar3 = 4;
            local_828 = (iVar4 - param_2) + iVar1 + 3;
          }
        }
      }
    }
    iVar4 = iVar4 + iVar1 + 3;
    if (iVar3 == 4) {
      uVar2 = local_830 - 2;
      iVar4 = 0;
      while (uVar2 < local_82c - 5U) {
        if (((*(char *)(param_2 + uVar2) == '\0') && (*(char *)(param_2 + uVar2 + 1) == '\0')) &&
           (*(char *)(param_2 + uVar2 + 2) == '\x03')) {
          local_824[iVar4] = '\0';
          uVar2 = uVar2 + 3;
          local_824[iVar4 + 1] = '\0';
          iVar4 = iVar4 + 2;
        }
        else {
          local_824[iVar4] = *(char *)(param_2 + uVar2);
          uVar2 = uVar2 + 1;
          iVar4 = iVar4 + 1;
        }
      }
      iVar3 = FUN_000137f8(param_1,(int)local_824);
      iVar4 = local_834;
      if (iVar3 == 1) {
        __size = local_828 - local_834;
        __dest = malloc(__size);
        *(void **)(param_1 + 0x20) = __dest;
        if (__dest == (void *)0x0) {
          iVar3 = -3;
          __android_log_print(6,"awplayer",&DAT_00027e24,"probeH265SpecificData",0x4f1);
        }
        else {
          memcpy(__dest,(void *)(param_2 + iVar4 + -5),__size);
          *(size_t *)(param_1 + 0x1c) = __size;
        }
      }
      goto LAB_000147b6;
    }
    param_3 = param_3 + (-3 - iVar1);
  } while (0 < param_3);
  __android_log_print(3,"awplayer","<%s:%u>: *****","probeH265SpecificData",0x4ce);
LAB_0001471c:
  if (iVar3 == 0) {
    iVar3 = -2;
  }
  else {
    iVar3 = -1;
  }
LAB_000147b6:
  if (local_24 != __stack_chk_guard) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return iVar3;
}



undefined4 ExtractDimensionsFromVOLHeader(int param_1,int param_2,char *param_3,undefined4 *param_4)

{
  undefined4 uVar1;
  int iVar2;
  char *pcVar3;
  int iVar4;
  int iVar5;
  undefined4 uVar6;
  uint uVar7;
  undefined4 uVar8;
  
  uVar1 = CdxBitReaderCreate(param_1 + 4,param_2 + -4,param_3,param_4,param_1,param_2);
  CdxBitReaderGetBits(uVar1,1);
  iVar2 = CdxBitReaderGetBits(uVar1,8);
  if (iVar2 == 0x21) {
    pcVar3 = "!(video_object_type_indication != 0x21u)";
    uVar8 = 0x50f;
    param_3 = s_video_object_type_indication____0_0002803e;
  }
  else {
    iVar2 = CdxBitReaderGetBits(uVar1,1);
    if (iVar2 != 0) {
      CdxBitReaderGetBits(uVar1,4);
      CdxBitReaderGetBits(uVar1,3);
    }
    iVar2 = CdxBitReaderGetBits(uVar1,4);
    if (iVar2 == 0xf) {
      CdxBitReaderGetBits(uVar1,8);
      CdxBitReaderGetBits(uVar1,8);
    }
    iVar2 = CdxBitReaderGetBits(uVar1,1);
    if (iVar2 == 0) goto LAB_0001497e;
    CdxBitReaderGetBits(uVar1,2);
    CdxBitReaderGetBits(uVar1,1);
    iVar2 = CdxBitReaderGetBits(uVar1,1);
    if (iVar2 == 0) goto LAB_0001497e;
    CdxBitReaderGetBits(uVar1,0xf);
    iVar2 = CdxBitReaderGetBits(uVar1,1);
    if (iVar2 != 0) goto LAB_000148be;
    uVar1 = 0x521;
    pcVar3 = "!(CdxBitReaderGetBits(br, 1))";
    uVar8 = 0x521;
    param_3 = "CdxBitReaderGetBits(br, 1)";
  }
LAB_000148b8:
  do {
    while( true ) {
      while( true ) {
        while( true ) {
          while( true ) {
            while( true ) {
              while( true ) {
                while( true ) {
                  __android_log_assert
                            (pcVar3,"awplayer","<%s:%d>CDX_CHECK(%s) failed.",
                             "ExtractDimensionsFromVOLHeader",uVar8,param_3);
LAB_000148be:
                  CdxBitReaderGetBits(uVar1,0xf);
                  iVar2 = CdxBitReaderGetBits(uVar1,1);
                  if (iVar2 != 0) break;
                  pcVar3 = "!(CdxBitReaderGetBits(br, 1))";
                  uVar8 = 0x523;
                  param_3 = "CdxBitReaderGetBits(br, 1)";
                }
                CdxBitReaderGetBits(uVar1,0xf);
                iVar2 = CdxBitReaderGetBits(uVar1,1);
                if (iVar2 != 0) break;
                pcVar3 = "!(CdxBitReaderGetBits(br, 1))";
                uVar8 = 0x525;
                param_3 = "CdxBitReaderGetBits(br, 1)";
              }
              CdxBitReaderGetBits(uVar1,3);
              CdxBitReaderGetBits(uVar1,0xb);
              iVar2 = CdxBitReaderGetBits(uVar1,1);
              if (iVar2 != 0) break;
              pcVar3 = "!(CdxBitReaderGetBits(br, 1))";
              uVar8 = 0x528;
              param_3 = "CdxBitReaderGetBits(br, 1)";
            }
            CdxBitReaderGetBits(uVar1,0xf);
            iVar2 = CdxBitReaderGetBits(uVar1,1);
            if (iVar2 != 0) break;
            uVar1 = 0x52a;
            pcVar3 = "!(CdxBitReaderGetBits(br, 1))";
            uVar8 = 0x52a;
            param_3 = "CdxBitReaderGetBits(br, 1)";
          }
LAB_0001497e:
          iVar2 = CdxBitReaderGetBits(uVar1,2);
          if (iVar2 == 0) break;
          pcVar3 = "!(video_object_layer_shape == 0x00u)";
          uVar8 = 0x52e;
          param_3 = "video_object_layer_shape == 0x00u";
        }
        iVar4 = CdxBitReaderGetBits(uVar1,1);
        if (iVar4 != 0) break;
        pcVar3 = "!(CdxBitReaderGetBits(br, 1))";
        uVar8 = 0x530;
        param_3 = "CdxBitReaderGetBits(br, 1)";
      }
      iVar4 = CdxBitReaderGetBits(uVar1,0x10);
      iVar5 = CdxBitReaderGetBits(uVar1,1);
      if (iVar5 != 0) break;
      pcVar3 = "!(CdxBitReaderGetBits(br, 1))";
      uVar8 = 0x532;
      param_3 = "CdxBitReaderGetBits(br, 1)";
    }
    iVar5 = CdxBitReaderGetBits(uVar1,1);
    if (iVar5 != 0) {
      if (iVar4 == 0) {
        uVar1 = 0x53e;
        pcVar3 = "!(vop_time_increment_resolution > 0u)";
        uVar8 = 0x53e;
        param_3 = "vop_time_increment_resolution > 0u";
        goto LAB_000148b8;
      }
      uVar7 = iVar4 - 1;
      while (uVar7 != 0) {
        iVar2 = iVar2 + 1;
        uVar7 = uVar7 >> 1;
      }
      CdxBitReaderSkipBits(uVar1,iVar2);
    }
    iVar2 = CdxBitReaderGetBits(uVar1,1);
    if (iVar2 == 0) {
      pcVar3 = "!(CdxBitReaderGetBits(br, 1))";
      uVar8 = 0x54a;
      param_3 = "CdxBitReaderGetBits(br, 1)";
    }
    else {
      uVar8 = CdxBitReaderGetBits(uVar1,0xd);
      iVar2 = CdxBitReaderGetBits(uVar1,1);
      if (iVar2 == 0) {
        pcVar3 = "!(CdxBitReaderGetBits(br, 1))";
        uVar8 = 0x54c;
        param_3 = "CdxBitReaderGetBits(br, 1)";
      }
      else {
        uVar6 = CdxBitReaderGetBits(uVar1,0xd);
        iVar2 = CdxBitReaderGetBits(uVar1,1);
        if (iVar2 != 0) {
          CdxBitReaderGetBits(uVar1,2);
          *(undefined4 *)param_3 = uVar8;
          *param_4 = uVar6;
          CdxBitReaderDestroy(uVar1);
          return 1;
        }
        pcVar3 = "!(CdxBitReaderGetBits(br, 1))";
        uVar8 = 0x54e;
        param_3 = "CdxBitReaderGetBits(br, 1)";
      }
    }
  } while( true );
}



undefined4 probeMpeg4SpecificData(int param_1,int param_2,int param_3,int param_4)

{
  int iVar1;
  undefined4 uVar2;
  char *pcVar3;
  int iVar4;
  int iVar5;
  char *pcVar6;
  undefined *puVar7;
  uint uVar8;
  size_t sVar9;
  char *pcVar10;
  size_t sVar11;
  void *__src;
  void *pvVar12;
  undefined4 uVar13;
  undefined4 local_30;
  undefined4 local_2c [2];
  
  iVar1 = probeStartCode(param_2,param_3,-1);
  if (iVar1 < 0) {
    uVar13 = 0x55f;
    pcVar6 = "<%s:%u>: \x1b[40;31mPROBE_SPECIFIC_DATA_NONE\x1b[0m";
    uVar2 = 6;
  }
  else {
    sVar9 = (param_3 + 2) - iVar1;
    __src = (void *)(param_2 + iVar1 + -2);
    sVar11 = 0;
    if (param_4 != 3) {
      iVar1 = -1;
      while( true ) {
        if (sVar11 == sVar9) {
          return 0xfffffffe;
        }
        iVar1 = (uint)*(byte *)((int)__src + sVar11) + iVar1 * 0x100;
        if (iVar1 == 0x1b6) break;
        sVar11 = sVar11 + 1;
      }
      sVar11 = sVar11 - 3;
      pvVar12 = malloc(sVar11);
      *(void **)(param_1 + 0x20) = pvVar12;
      if (pvVar12 != (void *)0x0) {
        *(size_t *)(param_1 + 0x1c) = sVar11;
        memcpy(pvVar12,__src,sVar11);
        return 1;
      }
      puVar7 = &DAT_00027e24;
      uVar2 = 0x57c;
LAB_00014dcc:
      __android_log_print(6,"awplayer",puVar7,"probeMpeg4SpecificData",uVar2);
      return 0xfffffffd;
    }
    iVar1 = 0;
    local_30 = 0;
    local_2c[0] = 0;
    while (uVar8 = sVar9 - sVar11, 2 < uVar8) {
      pvVar12 = (void *)((int)__src + sVar11);
      iVar4 = memcmp(&DAT_0002c0b4,pvVar12,3);
      if (iVar4 != 0) break;
      iVar4 = 3;
      while( true ) {
        if (uVar8 <= iVar4 + 2U) goto LAB_00014e3a;
        iVar5 = memcmp((void *)((int)pvVar12 + iVar4),&DAT_0002c0b4,3);
        if (iVar5 == 0) break;
        iVar4 = iVar4 + 1;
      }
      if (iVar4 < 1) goto LAB_00014e3a;
      pcVar6 = (char *)(uint)*(byte *)((int)__src + sVar11 + 3);
      switch(iVar1) {
      case 0:
        if (pcVar6 == (char *)0xb0) {
          iVar1 = 1;
        }
        break;
      case 1:
        if (pcVar6 == (char *)0xb5) {
          iVar1 = 2;
        }
        else {
          sVar11 = 0x5a6;
          pcVar3 = "!(chunkType == 0xb5)";
          uVar2 = 0x5a6;
          pcVar10 = "chunkType == 0xb5";
LAB_00014ce8:
          while( true ) {
            while( true ) {
              pcVar6 = "probeMpeg4SpecificData";
              __android_log_assert
                        (pcVar3,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","probeMpeg4SpecificData",
                         uVar2,pcVar10);
switchD_00014c94_caseD_3:
              if (((uint)pcVar6 & 0xf0) == 0x20) break;
              iVar4 = 0x5b4;
              pcVar3 = "!((chunkType & 0xf0) == 0x20)";
              uVar2 = 0x5b4;
              pcVar10 = "(chunkType & 0xf0) == 0x20";
            }
            iVar1 = ExtractDimensionsFromVOLHeader((int)pvVar12,iVar4,(char *)&local_30,local_2c);
            if (iVar1 != 0) break;
            sVar11 = 0x5b8;
            pcVar3 = "!(ExtractDimensionsFromVOLHeader( &data[offset], chunkSize, &width, &height))"
            ;
            uVar2 = 0x5b8;
            pcVar10 = "ExtractDimensionsFromVOLHeader( &data[offset], chunkSize, &width, &height)";
          }
          iVar1 = 4;
        }
        break;
      case 2:
        if ((char *)0x1f < pcVar6) {
          param_1 = 0x5ad;
          pcVar3 = "!(chunkType <= 0x1f)";
          uVar2 = 0x5ad;
          pcVar10 = "chunkType <= 0x1f";
          goto LAB_00014ce8;
        }
        iVar1 = 3;
        break;
      case 3:
        goto switchD_00014c94_caseD_3;
      case 4:
        if (pcVar6 == (char *)0xb6 || pcVar6 == (char *)0xb3) {
          __android_log_print(3,"awplayer","<%s:%u>: found MPEG4 video codec config (%d x %d)",
                              "probeMpeg4SpecificData",0x5c4,local_30,local_2c[0]);
          pvVar12 = malloc(sVar11);
          *(void **)(param_1 + 0x20) = pvVar12;
          if (pvVar12 != (void *)0x0) {
            *(size_t *)(param_1 + 0x1c) = sVar11;
            memcpy(pvVar12,__src,sVar11);
            if (*(int *)(param_1 + 4) == 0) {
              *(undefined4 *)(param_1 + 4) = local_30;
            }
            if (*(int *)(param_1 + 8) != 0) {
              return 1;
            }
            *(undefined4 *)(param_1 + 8) = local_2c[0];
            return 1;
          }
          uVar2 = 0x5c8;
          puVar7 = &DAT_00027e24;
          goto LAB_00014dcc;
        }
        break;
      default:
        puVar7 = &DAT_000282ad;
        uVar2 = 0x5e0;
        goto LAB_00014dcc;
      }
      sVar11 = sVar11 + iVar4;
    }
    __android_log_print(6,"awplayer",&DAT_00027eda,"getNextChunkSize",0x4fa);
LAB_00014e3a:
    if (iVar1 != 0) {
      return 0xffffffff;
    }
    uVar13 = 0x5ed;
    pcVar6 = "<%s:%u>: PROBE_SPECIFIC_DATA_NONE";
    uVar2 = 3;
  }
  __android_log_print(uVar2,"awplayer",pcVar6,"probeMpeg4SpecificData",uVar13);
  return 0xfffffffe;
}



undefined4 probeAvsSpecificData(int param_1,int param_2,uint param_3)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  void *__dest;
  int iVar4;
  undefined4 uVar5;
  uint uVar6;
  void *__src;
  undefined4 local_60 [4];
  undefined4 local_50;
  undefined4 uStack76;
  undefined4 uStack72;
  undefined4 uStack68;
  undefined4 local_40;
  undefined4 uStack60;
  undefined4 uStack56;
  undefined4 uStack52;
  undefined4 local_30;
  undefined4 uStack44;
  undefined4 uStack40;
  undefined4 uStack36;
  
  uVar6 = 0;
  local_60[0] = 0;
  local_60[1] = 0x5da8;
  local_60[2] = 24000;
  local_60[3] = 25000;
  local_50 = 0x7512;
  uStack76 = 30000;
  uStack72 = 50000;
  uStack68 = 0xea24;
  local_40 = 60000;
  uStack60 = 0;
  uStack56 = 0;
  uStack52 = 0;
  local_30 = 0;
  uStack44 = 0;
  uStack40 = 0;
  uStack36 = 0;
  iVar4 = -1;
  while( true ) {
    if (uVar6 == param_3) {
      return 0xfffffffe;
    }
    iVar4 = (uint)*(byte *)(param_2 + uVar6) + iVar4 * 0x100;
    if (iVar4 == 0x1b0) break;
    uVar6 = uVar6 + 1;
  }
  if (param_3 <= uVar6) {
    return 0xfffffffe;
  }
  if ((param_3 + 3) - uVar6 < 0x12) {
    return 0xffffffff;
  }
  __src = (void *)(param_2 + (uVar6 - 3));
  uVar1 = CdxBitReaderCreate(__src,0x12);
  CdxBitReaderSkipBits(uVar1,0x31);
  uVar2 = CdxBitReaderGetBits(uVar1,0xe);
  uVar3 = CdxBitReaderGetBits(uVar1,0xe);
  CdxBitReaderGetBits(uVar1,9);
  iVar4 = CdxBitReaderGetBits(uVar1,4);
  uVar5 = local_60[iVar4];
  CdxBitReaderDestroy(uVar1);
  __dest = malloc(0x12);
  *(void **)(param_1 + 0x20) = __dest;
  if (__dest != (void *)0x0) {
    *(undefined4 *)(param_1 + 0x1c) = 0x12;
    memcpy(__dest,__src,0x12);
    if (*(int *)(param_1 + 4) == 0) {
      *(undefined4 *)(param_1 + 4) = uVar2;
    }
    if (*(int *)(param_1 + 8) == 0) {
      *(undefined4 *)(param_1 + 8) = uVar3;
    }
    if (*(int *)(param_1 + 0xc) == 0) {
      *(undefined4 *)(param_1 + 0xc) = uVar5;
    }
    iVar4 = *(int *)(param_1 + 0xc);
    if (iVar4 != 0) {
      uVar1 = __aeabi_ldivmod(1000000000,0,iVar4,iVar4 >> 0x1f);
      *(undefined4 *)(param_1 + 0x10) = uVar1;
    }
    return 1;
  }
  __android_log_print(6,"awplayer",&DAT_00027e24,"probeAvsSpecificData",0x61c);
  return 0xfffffffd;
}



int ProbeVideoSpecificData(int param_1,void *param_2,uint param_3,int param_4,int param_5)

{
  undefined4 uVar1;
  int iVar2;
  undefined *puVar3;
  uint uVar4;
  
  uVar4 = 1 - (int)param_2;
  if ((void *)0x1 < param_2) {
    uVar4 = 0;
  }
  if (param_3 == 0) {
    uVar4 = uVar4 | 1;
  }
  if (uVar4 == 0) {
    if (param_4 - 0x101U < 0x17 && param_4 != 0x104) {
      switch(param_4) {
      case 0x102:
      case 0x103:
        iVar2 = probeMpeg2SpecificData(param_1,(int)param_2,param_3);
        return iVar2;
      default:
        uVar1 = 0x687;
        puVar3 = &DAT_0002836a;
        break;
      case 0x105:
      case 0x106:
      case 0x107:
      case 0x108:
      case 0x109:
      case 0x10a:
      case 0x10b:
      case 0x10c:
      case 0x10d:
        iVar2 = probeMpeg4SpecificData(param_1,(int)param_2,param_3,param_5);
        return iVar2;
      case 0x110:
        iVar2 = probeWmv3SpecificData(param_1,(int)param_2,param_3);
        return iVar2;
      case 0x115:
        iVar2 = probeH264SpecificData(param_1,param_2,param_3);
        return iVar2;
      case 0x116:
        iVar2 = probeH265SpecificData(param_1,(int)param_2,param_3);
        return iVar2;
      case 0x117:
        iVar2 = probeAvsSpecificData(param_1,(int)param_2,param_3);
        return iVar2;
      }
    }
    else {
      uVar1 = 0x641;
      puVar3 = &DAT_0002832e;
    }
    __android_log_print(6,"awplayer",puVar3,"ProbeVideoSpecificData",uVar1,param_4);
  }
  else {
    __android_log_print(6,"awplayer",&DAT_00028301,"ProbeVideoSpecificData",0x63a,param_3,param_2);
  }
  return -3;
}



undefined4 TSAttribute(int param_1)

{
  return *(undefined4 *)(param_1 + 0x2148);
}



undefined4 TSGetStatus(int param_1)

{
  return *(undefined4 *)(param_1 + 0x2150);
}



undefined4 FUN_00015158(int param_1,undefined4 param_2)

{
  void *pvVar1;
  undefined4 uVar2;
  
  pvVar1 = malloc(0x14);
  if (pvVar1 == (void *)0x0) {
    __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","SetPSISection",0x931,
                        "section");
  }
  *(undefined4 *)((int)pvVar1 + 8) = param_2;
  uVar2 = __CdxBufferCreate(0,0x400,0,0,
                                                        
                            "/home/zhangjingzhou/sdk/v3-cdr-ips2.0-0104/CamCedarX/LIBRARY/DEMUX/PARSER/ts/CdxTsParser.c"
                            ,0x934);
  *(undefined4 *)((int)pvVar1 + 0xc) = 0;
  *(undefined4 *)((int)pvVar1 + 0x10) = uVar2;
  CdxListAddTail(pvVar1,param_1 + 0x88);
  return 0;
}



undefined4 * TSParserOpen(undefined4 param_1,uint param_2)

{
  undefined4 *__s;
  void *pvVar1;
  uint uVar2;
  
  __s = (undefined4 *)malloc(0x5850);
  if (__s == (undefined4 *)0x0) {
    __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","TSParserOpen",0x162f,
                        "mTSParser");
  }
  memset(__s,0,0x5850);
  __s[0x23] = __s + 0x22;
  __s[0x22] = __s + 0x22;
  FUN_00015158((int)__s,0);
  *(undefined *)(__s + 0x4e) = 1;
  __s[0x27] = 0xffffffff;
  __s[0x25] = __s + 0x24;
  __s[0x24] = __s + 0x24;
  pvVar1 = malloc(0x1fe000);
  __s[0x3f] = pvVar1;
  if (pvVar1 == (void *)0x0) {
    __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","TSParserOpen",0x163b,
                        "mTSParser->mCacheBuffer.bigBuf");
  }
  __s[0x40] = 0x1fe000;
  __s[0x44] = 0xffffffff;
  pvVar1 = malloc(0xbc);
  __s[0x45] = pvVar1;
  if (pvVar1 == (void *)0x0) {
    __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","TSParserOpen",0x1640,
                        "mTSParser->tmpBuf");
  }
  uVar2 = (param_2 << 0x17) >> 0x1e;
  __s[2] = param_1;
  __s[0x852] = param_2 & 0x9f9;
  __s[0x4c] = uVar2;
  if (uVar2 != 0) {
    __s[0x852] = param_2 & 0x9f9 | 0x40;
  }
  if ((int)(__s[0x852] << 0x14) < 0) {
    __s[0x15fb] = 1;
  }
  if (-1 < (int)(param_2 << 0x11)) {
    __s[0x1612] = 1;
  }
  pthread_mutex_init((pthread_mutex_t *)(__s + 0x850),(pthread_mutexattr_t *)0x0);
  pthread_cond_init((pthread_cond_t *)(__s + 0x851),(pthread_condattr_t *)0x0);
  *__s = 3;
  __s[1] = &PTR_TSControl_1_00031570;
  __s[0x854] = 1;
  __s[0x84f] = 0;
  return __s;
}



longlong FUN_0001533c(uint param_1,undefined4 param_2,int param_3)

{
  void *__s;
  uint uVar1;
  int iVar2;
  
  uVar1 = param_1;
  iVar2 = param_3;
  __s = malloc(0x40);
  if (__s == (void *)0x0) {
    uVar1 = 0x8bc;
    __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","SetProgram",0x8bc,"program",
                        iVar2);
  }
  memset(__s,0,0x40);
  *(undefined4 *)((int)__s + 0x10) = 0xffffffff;
  *(undefined4 *)((int)__s + 8) = param_2;
  *(undefined4 *)((int)__s + 0x30) = 0xffffffff;
  *(undefined4 *)((int)__s + 0x34) = 0xffffffff;
  *(int *)((int)__s + 0xc) = param_3;
  *(int *)((int)__s + 0x18) = (int)__s + 0x14;
  *(int *)((int)__s + 0x14) = (int)__s + 0x14;
  *(uint *)((int)__s + 0x2c) = param_1;
  if (-1 < param_3) {
    *(undefined *)(param_1 + param_3 + 0x138) = 1;
  }
  CdxListAddTail(__s,param_1 + 0x90);
  *(char *)(param_1 + 0x98) = *(char *)(param_1 + 0x98) + '\x01';
  return (longlong)((ulonglong)uVar1 << 0x20);
}



undefined4 FUN_000153cc(int param_1,int param_2,undefined4 param_3)

{
  void *__s;
  undefined4 uVar1;
  void *pvVar2;
  
  __s = malloc(0xf0);
  if (__s == (void *)0x0) {
    __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","SetStream",0x8d7,"stream");
  }
  memset(__s,0,0xf0);
  *(undefined4 *)((int)__s + 0x10) = param_3;
  *(int *)((int)__s + 0xc) = param_2;
  uVar1 = __CdxBufferCreate(0,0x10000,0,0,
                                                        
                            "/home/zhangjingzhou/sdk/v3-cdr-ips2.0-0104/CamCedarX/LIBRARY/DEMUX/PARSER/ts/CdxTsParser.c"
                            ,0x8dd);
  *(undefined4 *)((int)__s + 0x20) = uVar1;
  uVar1 = __CdxBufferCreate(0,0x10000,0,0,
                                                        
                            "/home/zhangjingzhou/sdk/v3-cdr-ips2.0-0104/CamCedarX/LIBRARY/DEMUX/PARSER/ts/CdxTsParser.c"
                            ,0x8de);
  *(undefined4 *)((int)__s + 0x40) = uVar1;
  pvVar2 = malloc(0xbc);
  *(int *)((int)__s + 8) = param_1;
  *(void **)((int)__s + 100) = pvVar2;
  CdxListAddTail(__s,param_1 + 0x14);
  *(int *)(param_1 + 0x1c) = *(int *)(param_1 + 0x1c) + 1;
  *(int *)(*(int *)(param_1 + 0x2c) + 0xa8) = *(int *)(*(int *)(param_1 + 0x2c) + 0xa8) + 1;
  *(undefined *)(param_2 + *(int *)(param_1 + 0x2c) + 0x138) = 1;
  *(undefined4 *)((int)__s + 0x9c) = 0xffffffff;
  return 0;
}



undefined4 TSGetMediaInfo(int param_1,void *param_2)

{
  memcpy(param_2,(void *)(param_1 + 0x2158),0x3648);
  return 0;
}



undefined4 TSRead(int param_1,void **param_2)

{
  undefined4 uVar1;
  void *__dest;
  void *__n;
  void *__src;
  
  if (*(int *)(param_1 + 0x213c) == 3) {
    __n = param_2[9];
    __src = *(void **)(*(int *)(param_1 + 0xf8) + 0x70);
    __dest = *param_2;
    if ((int)param_2[2] < (int)__n) {
      memcpy(__dest,__src,(size_t)param_2[2]);
      __dest = param_2[1];
      __src = (void *)((int)__src + (int)param_2[2]);
      __n = (void *)((int)param_2[9] - (int)param_2[2]);
    }
    memcpy(__dest,__src,(size_t)__n);
    uVar1 = 0;
    *(undefined4 *)(param_1 + 0xf8) = 0;
    *(undefined4 *)(param_1 + 0x213c) = 1;
  }
  else {
    __android_log_print(5,"awplayer","<%s:%u>: status != CDX_PSR_PREFETCHED, TSRead invaild",
                        "TSRead",0xf01,param_2);
    *(undefined4 *)(param_1 + 0x2150) = 5;
    uVar1 = 0xffffffff;
  }
  return uVar1;
}



void FUN_00015524(undefined4 *param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (undefined4 *)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x154;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = (char *)*param_1;
    if (pcVar2 != (char *)0x0) goto LAB_00015568;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x155;
    pcVar3 = "stream->ops";
  }
  while( true ) {
    pcVar2 = "CdxStreamRead";
    __android_log_assert
              (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamRead",uVar4,pcVar3);
LAB_00015568:
    if (*(code **)(pcVar2 + 8) != (code *)0x0) break;
    pcVar1 = "!(stream->ops->read)";
    uVar4 = 0x156;
    pcVar3 = "stream->ops->read";
  }
  (**(code **)(pcVar2 + 8))();
  return;
}



int FUN_000155c8(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  char *pcVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  undefined4 *puVar8;
  
  puVar8 = *(undefined4 **)(param_1 + 8);
  iVar1 = *(int *)(param_1 + 0xa0);
  do {
    if (*(int *)(param_1 + 0x214c) != 0) {
      uVar2 = 0xa9b;
LAB_000156da:
      __android_log_print(3,"awplayer","<%s:%u>: mTSParser->forceStop, TSResync fail","TSResync",
                          uVar2);
      return -1;
    }
    while( true ) {
      if ((*(int *)(param_1 + 0x2138) != 0) || ((uint)(iVar1 * 5) <= *(uint *)(param_1 + 0x104)))
      goto LAB_00015686;
      if ((uint)(*(int *)(param_1 + 0x100) - *(int *)(param_1 + 0x108)) <
          *(uint *)(param_1 + 0x57e0)) {
        *(int *)(param_1 + 0x110) = *(int *)(param_1 + 0x108);
        *(undefined4 *)(param_1 + 0x5800) = 1;
        *(undefined4 *)(param_1 + 0x108) = 0;
      }
      iVar5 = FUN_00015524(puVar8);
      if (iVar5 < 0) {
        __android_log_print(6,"awplayer",&DAT_00028500,"TSResync",0xab8);
        *(undefined4 *)(param_1 + 0x2150) = 3;
        return -1;
      }
      if (iVar5 == 0) break;
      *(int *)(param_1 + 0x104) = *(int *)(param_1 + 0x104) + iVar5;
      *(int *)(param_1 + 0x108) = *(int *)(param_1 + 0x108) + iVar5;
    }
    __android_log_print(3,"awplayer","<%s:%u>: CdxStream EOS","TSResync",0xabe);
    *(undefined4 *)(param_1 + 0x2138) = 1;
LAB_00015686:
    uVar7 = *(uint *)(param_1 + 0xa0);
    while (uVar7 < *(uint *)(param_1 + 0x104)) {
      if (*(int *)(param_1 + 0x214c) != 0) {
        uVar2 = 0xaca;
        goto LAB_000156da;
      }
      iVar5 = *(int *)(param_1 + 0x10c);
      if (*(char *)(*(int *)(param_1 + 0xfc) + iVar5) == 'G') {
        uVar4 = *(uint *)(param_1 + 0x110);
        uVar6 = uVar7;
        if ((0 < (int)uVar4) && (uVar4 <= iVar5 + uVar7)) {
          uVar6 = uVar7 - uVar4;
        }
        pcVar3 = (char *)(*(int *)(param_1 + 0xfc) + iVar5 + uVar6);
        if ((*pcVar3 == 'G') || (pcVar3[4] == 'G')) {
          return 1 - *(int *)(param_1 + 0x2138);
        }
      }
      uVar6 = *(uint *)(param_1 + 0x110);
      uVar4 = iVar5 + 1;
      *(uint *)(param_1 + 0x10c) = uVar4;
      if (0 < (int)uVar6) {
        if (uVar6 <= uVar4) {
          *(undefined4 *)(param_1 + 0x10c) = 0;
        }
        if (uVar6 <= uVar4) {
          *(undefined4 *)(param_1 + 0x110) = 0xffffffff;
        }
      }
      *(uint *)(param_1 + 0x104) = *(uint *)(param_1 + 0x104) - 1;
    }
    if (*(int *)(param_1 + 0x2138) != 0) {
      while ((0xbb < *(uint *)(param_1 + 0x104) &&
             (*(char *)(*(int *)(param_1 + 0xfc) + *(int *)(param_1 + 0x10c)) != 'G'))) {
        uVar6 = *(uint *)(param_1 + 0x110);
        uVar7 = *(int *)(param_1 + 0x10c) + 1;
        *(uint *)(param_1 + 0x10c) = uVar7;
        if (0 < (int)uVar6) {
          if (uVar6 <= uVar7) {
            *(undefined4 *)(param_1 + 0x10c) = 0;
          }
          if (uVar6 <= uVar7) {
            *(undefined4 *)(param_1 + 0x110) = 0xffffffff;
          }
        }
        *(uint *)(param_1 + 0x104) = *(uint *)(param_1 + 0x104) - 1;
      }
      return 0;
    }
  } while( true );
}



undefined4 FUN_000157dc(char **param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (char **)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x1ac;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = *param_1;
    if (pcVar2 != (char *)0x0) goto LAB_00015820;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x1ad;
    pcVar3 = "stream->ops";
  }
  pcVar2 = "CdxStreamTell";
  __android_log_assert
            (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamTell",uVar4,pcVar3);
LAB_00015820:
  if (*(code **)(pcVar2 + 0x30) == (code *)0x0) {
    uVar4 = 0xffffffff;
  }
  else {
    uVar4 = (**(code **)(pcVar2 + 0x30))();
  }
  return uVar4;
}



void FUN_0001585c(undefined4 *param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (undefined4 *)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x164;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = (char *)*param_1;
    if (pcVar2 != (char *)0x0) goto LAB_000158a0;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x165;
    pcVar3 = "stream->ops";
  }
  while( true ) {
    pcVar2 = "CdxStreamClose";
    __android_log_assert
              (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamClose",uVar4,pcVar3);
LAB_000158a0:
    if (*(code **)(pcVar2 + 0xc) != (code *)0x0) break;
    pcVar1 = "!(stream->ops->close)";
    uVar4 = 0x166;
    pcVar3 = "stream->ops->close";
  }
  (**(code **)(pcVar2 + 0xc))();
  return;
}



void FUN_00015900(char **param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (char **)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x174;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = *param_1;
    if (pcVar2 != (char *)0x0) goto LAB_00015944;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x175;
    pcVar3 = "stream->ops";
  }
  while( true ) {
    pcVar2 = "CdxStreamAttribute";
    __android_log_assert
              (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamAttribute",uVar4,pcVar3);
LAB_00015944:
    if (*(code **)(pcVar2 + 0x14) != (code *)0x0) break;
    pcVar1 = "!(stream->ops->attribute)";
    uVar4 = 0x176;
    pcVar3 = "stream->ops->attribute";
  }
  (**(code **)(pcVar2 + 0x14))();
  return;
}



undefined4 FUN_000159a4(char **param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (char **)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x18a;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = *param_1;
    if (pcVar2 != (char *)0x0) goto LAB_000159e8;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x18b;
    pcVar3 = "stream->ops";
  }
  pcVar2 = "CdxStreamGetMetaData";
  __android_log_assert
            (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamGetMetaData",uVar4,pcVar3);
LAB_000159e8:
  if (*(code **)(pcVar2 + 0x20) == (code *)0x0) {
    uVar4 = 0xffffffff;
  }
  else {
    uVar4 = (**(code **)(pcVar2 + 0x20))();
  }
  return uVar4;
}



void FUN_00015a20(char **param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (char **)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x17d;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = *param_1;
    if (pcVar2 != (char *)0x0) goto LAB_00015a64;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x17e;
    pcVar3 = "stream->ops";
  }
  while( true ) {
    pcVar2 = "CdxStreamControl";
    __android_log_assert
              (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamControl",uVar4,pcVar3);
LAB_00015a64:
    if (*(code **)(pcVar2 + 0x18) != (code *)0x0) break;
    pcVar1 = "!(stream->ops->control)";
    uVar4 = 0x17f;
    pcVar3 = "stream->ops->control";
  }
  (**(code **)(pcVar2 + 0x18))();
  return;
}



void FUN_00015ac4(char **param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (char **)0x0) {
    pcVar1 = "!(buf)";
    uVar4 = 0x6c;
    pcVar3 = "buf";
  }
  else {
    pcVar2 = *param_1;
    if (pcVar2 != (char *)0x0) goto LAB_00015b04;
    pcVar1 = "!(buf->ops)";
    uVar4 = 0x6d;
    pcVar3 = "buf->ops";
  }
  while( true ) {
    pcVar2 = "CdxBufferSetRange";
    __android_log_assert
              (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxBufferSetRange",uVar4,pcVar3);
LAB_00015b04:
    if (*(code **)(pcVar2 + 0x1c) != (code *)0x0) break;
    pcVar1 = "!(buf->ops->setRange)";
    uVar4 = 0x6e;
    pcVar3 = "buf->ops->setRange";
  }
  (**(code **)(pcVar2 + 0x1c))();
  return;
}



void FUN_00015b64(undefined4 *param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (undefined4 *)0x0) {
    pcVar1 = "!(buf)";
    uVar4 = 0x39;
    pcVar3 = "buf";
  }
  else {
    pcVar2 = (char *)*param_1;
    if (pcVar2 != (char *)0x0) goto LAB_00015ba4;
    pcVar1 = "!(buf->ops)";
    uVar4 = 0x3a;
    pcVar3 = "buf->ops";
  }
  while( true ) {
    pcVar2 = "CdxBufferGetData";
    __android_log_assert
              (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxBufferGetData",uVar4,pcVar3);
LAB_00015ba4:
    if (*(code **)(pcVar2 + 8) != (code *)0x0) break;
    pcVar1 = "!(buf->ops->getData)";
    uVar4 = 0x3b;
    pcVar3 = "buf->ops->getData";
  }
  (**(code **)(pcVar2 + 8))();
  return;
}



void FUN_00015c04(undefined4 *param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (undefined4 *)0x0) {
    pcVar1 = "!(buf)";
    uVar4 = 0x41;
    pcVar3 = "buf";
  }
  else {
    pcVar2 = (char *)*param_1;
    if (pcVar2 != (char *)0x0) goto LAB_00015c44;
    pcVar1 = "!(buf->ops)";
    uVar4 = 0x42;
    pcVar3 = "buf->ops";
  }
  while( true ) {
    pcVar2 = "CdxBufferGetBase";
    __android_log_assert
              (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxBufferGetBase",uVar4,pcVar3);
LAB_00015c44:
    if (*(code **)(pcVar2 + 0xc) != (code *)0x0) break;
    pcVar1 = "!(buf->ops->getBase)";
    uVar4 = 0x43;
    pcVar3 = "buf->ops->getBase";
  }
  (**(code **)(pcVar2 + 0xc))();
  return;
}



void FUN_00015ca4(undefined4 *param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (undefined4 *)0x0) {
    pcVar1 = "!(buf)";
    uVar4 = 0x49;
    pcVar3 = "buf";
  }
  else {
    pcVar2 = (char *)*param_1;
    if (pcVar2 != (char *)0x0) goto LAB_00015ce4;
    pcVar1 = "!(buf->ops)";
    uVar4 = 0x4a;
    pcVar3 = "buf->ops";
  }
  while( true ) {
    pcVar2 = "CdxBufferGetSize";
    __android_log_assert
              (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxBufferGetSize",uVar4,pcVar3);
LAB_00015ce4:
    if (*(code **)(pcVar2 + 0x10) != (code *)0x0) break;
    pcVar1 = "!(buf->ops->getSize)";
    uVar4 = 0x4b;
    pcVar3 = "buf->ops->getSize";
  }
  (**(code **)(pcVar2 + 0x10))();
  return;
}



void FUN_00015d44(char **param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (char **)0x0) {
    pcVar1 = "!(buf)";
    uVar4 = 0x52;
    pcVar3 = "buf";
  }
  else {
    pcVar2 = *param_1;
    if (pcVar2 != (char *)0x0) goto LAB_00015d84;
    pcVar1 = "!(buf->ops)";
    uVar4 = 0x53;
    pcVar3 = "buf->ops";
  }
  while( true ) {
    pcVar2 = "CdxBufferAppend";
    __android_log_assert
              (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxBufferAppend",uVar4,pcVar3);
LAB_00015d84:
    if (*(code **)(pcVar2 + 0x14) != (code *)0x0) break;
    pcVar1 = "!(buf->ops->append)";
    uVar4 = 0x54;
    pcVar3 = "buf->ops->append";
  }
  (**(code **)(pcVar2 + 0x14))();
  return;
}



void FUN_00015de4(int param_1,int param_2,int param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int local_348 [205];
  
  __memset_chk(local_348,0,param_3 << 2,0x330);
  iVar1 = 0;
  iVar4 = 0;
  iVar3 = 0;
  while (iVar3 < param_2) {
    if (*(char *)(param_1 + iVar3) == 'G') {
      iVar2 = local_348[iVar4] + 1;
      local_348[iVar4] = iVar2;
      if (iVar1 < iVar2) {
        iVar1 = iVar2;
      }
    }
    iVar4 = iVar4 + 1;
    iVar3 = iVar3 + 1;
    if (iVar4 == param_3) {
      iVar4 = 0;
    }
  }
  return;
}



undefined8 TSParserProbe(char **param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  undefined4 uVar2;
  char *pcVar3;
  char *pcVar4;
  char **ppcVar5;
  
  if (param_1[1] < (char *)0x800) {
    ppcVar5 = (char **)0x1613;
    __android_log_print(5,"awplayer","<%s:%u>: Probe data is not enough. probeData->len(%u)",
                        "TSParserProbe",0x1613,param_1[1],param_3);
    pcVar3 = param_1[1];
    pcVar4 = *param_1;
    while ((char *)0xbc < pcVar3) {
      if ((*pcVar4 == 'G') && (pcVar4[0xbc] == 'G')) {
        iVar1 = (int)pcVar3 * 100;
        goto LAB_00015ecc;
      }
      pcVar3 = pcVar3 + -1;
      pcVar4 = pcVar4 + 1;
    }
    if (pcVar3 == (char *)0xbc) {
      iVar1 = (uint)(*pcVar4 == 'G') * 0x4970;
LAB_00015ecc:
      uVar2 = __aeabi_uidiv(iVar1);
    }
    else {
      uVar2 = 0;
    }
  }
  else {
    ppcVar5 = param_1;
    iVar1 = FUN_00015de4((int)*param_1,0x800,0xbc);
    if ((iVar1 < 5) && (iVar1 = FUN_00015de4((int)*param_1,0x800,0xc0), iVar1 < 5)) {
      iVar1 = FUN_00015de4((int)*param_1,0x800,0xcc);
      if (iVar1 < 5) {
        uVar2 = 0;
      }
      else {
        uVar2 = 100;
      }
    }
    else {
      uVar2 = 100;
    }
  }
  return CONCAT44(ppcVar5,uVar2);
}



undefined4 FUN_00015ee8(int *param_1)

{
  char *pcVar1;
  int iVar2;
  int extraout_r1;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (int *)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x194;
    pcVar3 = "stream";
  }
  else {
    iVar2 = *param_1;
    if (iVar2 != 0) goto LAB_00015f2c;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x195;
    pcVar3 = "stream->ops";
  }
  __android_log_assert
            (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamSeek",uVar4,pcVar3);
  iVar2 = extraout_r1;
LAB_00015f2c:
  if (*(code **)(iVar2 + 0x24) == (code *)0x0) {
    uVar4 = 0xffffffff;
  }
  else {
    uVar4 = (**(code **)(iVar2 + 0x24))();
  }
  return uVar4;
}



undefined2 U16_AT(undefined *param_1)

{
  return CONCAT11(*param_1,param_1[1]);
}



undefined4 PSISectionAppend(int param_1)

{
  FUN_00015d44(*(char ***)(param_1 + 0x10));
  return 0;
}



undefined4 * PSISectionIsComplete(int param_1)

{
  uint uVar1;
  int iVar2;
  undefined4 *puVar3;
  
  puVar3 = *(undefined4 **)(param_1 + 0x10);
  if (puVar3 == (undefined4 *)0x0) {
    return puVar3;
  }
  uVar1 = FUN_00015ca4(puVar3);
  if (uVar1 < 3) {
    return (undefined4 *)0x0;
  }
  iVar2 = FUN_00015b64(puVar3);
  return (undefined4 *)
         (uint)((CONCAT11(*(undefined *)(iVar2 + 1),*(undefined *)(iVar2 + 2)) & 0xfff) + 3 <= uVar1
               );
}



int PSISectionIsEmpty(int param_1)

{
  uint uVar1;
  int iVar2;
  
  if (*(undefined4 **)(param_1 + 0x10) != (undefined4 *)0x0) {
    uVar1 = FUN_00015ca4(*(undefined4 **)(param_1 + 0x10));
    iVar2 = 1 - uVar1;
    if (1 < uVar1) {
      iVar2 = 0;
    }
    return iVar2;
  }
  return 1;
}



void PSISectionData(int param_1)

{
  if (*(undefined4 **)(param_1 + 0x10) != (undefined4 *)0x0) {
    FUN_00015b64(*(undefined4 **)(param_1 + 0x10));
    return;
  }
  return;
}



void PSISectionSize(int param_1)

{
  if (*(undefined4 **)(param_1 + 0x10) != (undefined4 *)0x0) {
    FUN_00015ca4(*(undefined4 **)(param_1 + 0x10));
    return;
  }
  return;
}



void PSISectionClear(int param_1)

{
  if (*(char ***)(param_1 + 0x10) != (char **)0x0) {
    FUN_00015ac4(*(char ***)(param_1 + 0x10));
  }
  *(undefined4 *)(param_1 + 0xc) = 0;
  return;
}



void DestroyPSISection(void *param_1)

{
  CdxListDel();
  CdxBufferDestroy(*(undefined4 *)((int)param_1 + 0x10));
                    // WARNING: Treating indirect jump as call
  free(param_1);
  return;
}



void DestroyPSISections(int param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  
  puVar1 = *(undefined4 **)(undefined4 *)(param_1 + 0x88);
  puVar2 = (undefined4 *)*puVar1;
  while (puVar1 != (undefined4 *)(param_1 + 0x88)) {
    DestroyPSISection(puVar1);
    puVar1 = puVar2;
    puVar2 = (undefined4 *)*puVar2;
  }
  return;
}



void DestroyStream(void *param_1)

{
  int iVar1;
  int iVar2;
  
  CdxListDel();
  CdxBufferDestroy(*(undefined4 *)((int)param_1 + 0x20));
  CdxBufferDestroy(*(undefined4 *)((int)param_1 + 0x40));
  if (*(void **)((int)param_1 + 100) != (void *)0x0) {
    free(*(void **)((int)param_1 + 100));
  }
  if (*(void **)((int)param_1 + 0xa8) != (void *)0x0) {
    free(*(void **)((int)param_1 + 0xa8));
  }
  if (*(void **)((int)param_1 + 0xe4) != (void *)0x0) {
    free(*(void **)((int)param_1 + 0xe4));
  }
  iVar1 = *(int *)((int)param_1 + 0x9c);
  iVar2 = *(int *)((int)param_1 + 8);
  if (iVar1 == 1) {
    *(int *)(iVar2 + 0x20) = *(int *)(iVar2 + 0x20) + -1;
  }
  else {
    if (iVar1 == 2) {
      *(int *)(iVar2 + 0x28) = *(int *)(iVar2 + 0x28) + -1;
    }
    else {
      if (iVar1 == 0) {
        *(int *)(iVar2 + 0x24) = *(int *)(iVar2 + 0x24) + -1;
      }
    }
  }
  *(int *)(iVar2 + 0x1c) = *(int *)(iVar2 + 0x1c) + -1;
  *(int *)(*(int *)(iVar2 + 0x2c) + 0xa8) = *(int *)(*(int *)(iVar2 + 0x2c) + 0xa8) + -1;
  *(undefined *)(*(int *)(iVar2 + 0x2c) + *(int *)((int)param_1 + 0xc) + 0x138) = 0;
                    // WARNING: Treating indirect jump as call
  free(param_1);
  return;
}



void DestroyStreams(int param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  
  puVar1 = *(undefined4 **)(undefined4 *)(param_1 + 0x14);
  puVar2 = (undefined4 *)*puVar1;
  while (puVar1 != (undefined4 *)(param_1 + 0x14)) {
    DestroyStream(puVar1);
    puVar1 = puVar2;
    puVar2 = (undefined4 *)*puVar2;
  }
  return;
}



void DestroyProgram(void *param_1)

{
  if (-1 < *(int *)((int)param_1 + 0xc)) {
    *(undefined *)(*(int *)((int)param_1 + 0x2c) + *(int *)((int)param_1 + 0xc) + 0x138) = 0;
  }
  CdxListDel(param_1);
  DestroyStreams((int)param_1);
  *(char *)(*(int *)((int)param_1 + 0x2c) + 0x98) =
       *(char *)(*(int *)((int)param_1 + 0x2c) + 0x98) + -1;
                    // WARNING: Treating indirect jump as call
  free(param_1);
  return;
}



void DestroyPrograms(int param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  
  puVar1 = *(undefined4 **)(undefined4 *)(param_1 + 0x90);
  puVar2 = (undefined4 *)*puVar1;
  while (puVar1 != (undefined4 *)(param_1 + 0x90)) {
    DestroyProgram(puVar1);
    puVar1 = puVar2;
    puVar2 = (undefined4 *)*puVar2;
  }
  *(undefined4 *)(param_1 + 0x134) = 0;
  return;
}



void updatePCR(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
              undefined4 param_5)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  undefined4 extraout_s0;
  undefined4 extraout_s0_00;
  double dVar6;
  undefined8 uVar7;
  ulonglong uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  
  if (*(int *)(param_1 + 0xd8) == 2) {
    *(undefined4 *)(param_1 + 0xb0) = *(undefined4 *)(param_1 + 0xb8);
    *(undefined4 *)(param_1 + 0xb4) = *(undefined4 *)(param_1 + 0xbc);
    *(undefined4 *)(param_1 + 0xc0) = *(undefined4 *)(param_1 + 0xc4);
    *(undefined4 *)(param_1 + 200) = *(undefined4 *)(param_1 + 0xd0);
    *(undefined4 *)(param_1 + 0xcc) = *(undefined4 *)(param_1 + 0xd4);
    *(undefined4 *)(param_1 + 0xd8) = 1;
  }
  iVar1 = *(int *)(param_1 + 0xd8);
  iVar5 = param_1 + iVar1 * 8;
  iVar2 = param_1 + iVar1 * 8;
  *(undefined4 *)(iVar5 + 0xb0) = param_3;
  *(undefined4 *)(iVar5 + 0xb4) = param_4;
  *(undefined4 *)(param_1 + (iVar1 + 0x30) * 4) = param_5;
  uVar9 = CdxGetNowUs();
  *(int *)(iVar2 + 200) = (int)uVar9;
  *(int *)(iVar2 + 0xcc) = (int)((ulonglong)uVar9 >> 0x20);
  iVar1 = *(int *)(param_1 + 0xd8);
  iVar2 = iVar1 + 1;
  *(int *)(param_1 + 0xd8) = iVar2;
  if (iVar2 == 2) {
    uVar8 = VectorSub(*(undefined8 *)(param_1 + 0xb8),*(undefined8 *)(param_1 + 0xb0),8);
    uVar4 = (uint)(uVar8 >> 0x20);
    if (((uint)uVar8 | uVar4) != 0) {
      iVar2 = *(int *)(param_1 + 0xc0);
      uVar3 = *(uint *)(param_1 + 0xc4);
      dVar6 = (double)__aeabi_ul2d((uint)uVar8,uVar4,iVar1,iVar2);
      dVar6 = ((double)(ulonglong)(uVar3 - iVar2) * 27000000.0) / dVar6;
      uVar10 = __aeabi_d2ulz(extraout_s0,SUB84(dVar6,0),(int)((ulonglong)dVar6 >> 0x20));
      uVar9 = *(undefined8 *)(param_1 + 0xf0);
      uVar7 = VectorAdd(((ulonglong)uVar4 << 0x20) + (uVar8 & 0xffffffff),uVar9,8);
      *(undefined8 *)(param_1 + 0xf0) = uVar7;
      *(int *)(param_1 + 0xe0) = (int)uVar10;
      *(int *)(param_1 + 0xe4) = (int)((ulonglong)uVar10 >> 0x20);
      dVar6 = (double)__aeabi_ul2d((int)uVar9,(int)uVar7,(int)((ulonglong)uVar7 >> 0x20));
      dVar6 = ((double)(ulonglong)uVar3 * 27000000.0) / dVar6;
      uVar9 = __aeabi_d2ulz(extraout_s0_00,SUB84(dVar6,0),(int)((ulonglong)dVar6 >> 0x20));
      *(int *)(param_1 + 0xe8) = (int)uVar9;
      *(int *)(param_1 + 0xec) = (int)((ulonglong)uVar9 >> 0x20);
    }
  }
  return;
}



void parseAdaptationField(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  longlong lVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  
  iVar2 = CdxBitReaderGetBits(param_2,8,param_3,param_4,param_1,param_2);
  if (iVar2 != 0) {
    CdxBitReaderGetBits(param_2,1);
    CdxBitReaderSkipBits(param_2,2);
    iVar3 = CdxBitReaderGetBits(param_2,1);
    uVar7 = 4;
    if (iVar3 != 0) {
      CdxBitReaderSkipBits(param_2,4);
      uVar7 = CdxBitReaderGetBits(param_2,0x20);
      uVar4 = CdxBitReaderGetBits(param_2,1);
      CdxBitReaderSkipBits(param_2,6);
      uVar5 = CdxBitReaderGetBits(param_2,9);
      uVar6 = CdxBitReaderNumBitsLeft(param_2);
      lVar1 = (ulonglong)(uVar7 * 2 | uVar4) * 300;
      uVar4 = (uint)lVar1;
      iVar3 = *(int *)(param_1 + 0xdc) * *(int *)(param_1 + 0xa0) + 0xbc;
      updatePCR(param_1,iVar3,uVar4 + uVar5,
                (uint)CARRY4(uVar7,uVar7) * 300 + (int)((ulonglong)lVar1 >> 0x20) +
                (uint)CARRY4(uVar4,uVar5),iVar3 - (uVar6 >> 3));
      uVar7 = 0x38;
    }
    if (uVar7 <= (uint)(iVar2 * 8)) {
                    // WARNING: Treating indirect jump as call
      CdxBitReaderSkipBits(param_2,iVar2 * 8 - uVar7);
      return;
    }
    __android_log_print(6,"awplayer",&DAT_000286df,"parseAdaptationField",0x1a7);
  }
  return;
}



undefined4 * findPSISectionByPID(int param_1,int param_2)

{
  undefined4 *puVar1;
  
  puVar1 = *(undefined4 **)(undefined4 *)(param_1 + 0x88);
  while( true ) {
    if (puVar1 == (undefined4 *)(param_1 + 0x88)) {
      return (undefined4 *)0x0;
    }
    if (puVar1[2] == param_2) break;
    puVar1 = (undefined4 *)*puVar1;
  }
  return puVar1;
}



undefined4 * findProgramByPID(int param_1,int param_2)

{
  undefined4 *puVar1;
  
  puVar1 = *(undefined4 **)(undefined4 *)(param_1 + 0x90);
  while( true ) {
    if (puVar1 == (undefined4 *)(param_1 + 0x90)) {
      return (undefined4 *)0x0;
    }
    if (puVar1[3] == param_2) break;
    puVar1 = (undefined4 *)*puVar1;
  }
  return puVar1;
}



undefined4 * findStreamByPID(int param_1,int param_2)

{
  undefined4 *puVar1;
  
  puVar1 = *(undefined4 **)(undefined4 *)(param_1 + 0x14);
  while( true ) {
    if (puVar1 == (undefined4 *)(param_1 + 0x14)) {
      return (undefined4 *)0x0;
    }
    if (puVar1[3] == param_2) break;
    puVar1 = (undefined4 *)*puVar1;
  }
  return puVar1;
}



undefined4 * findStreamByMediaType(int param_1,int param_2)

{
  undefined4 *puVar1;
  
  puVar1 = *(undefined4 **)(undefined4 *)(param_1 + 0x14);
  while( true ) {
    if (puVar1 == (undefined4 *)(param_1 + 0x14)) {
      return (undefined4 *)0x0;
    }
    if (puVar1[0x27] == param_2) break;
    puVar1 = (undefined4 *)*puVar1;
  }
  return puVar1;
}



undefined4 StreamAppend(int param_1,void *param_2,size_t param_3)

{
  int iVar1;
  char **ppcVar2;
  
  ppcVar2 = *(char ***)(param_1 + *(int *)(param_1 + 0x60) * 0x20 + 0x20);
  if (((*(int *)(param_1 + 0x9c) == 0) &&
      (((iVar1 = *(int *)(param_1 + 0xa0), iVar1 - 0x115U < 2 || iVar1 == 0x110 || (iVar1 == 0x103))
       && (iVar1 = *(int *)(*(int *)(param_1 + 8) + 0x2c), *(int *)(iVar1 + 0xf8) != 0)))) &&
     (*(int *)(iVar1 + 0xa4) == -1)) {
    memcpy(*(void **)(param_1 + 100),param_2,param_3);
    *(size_t *)(param_1 + 0x68) = param_3;
  }
  else {
    if (*(int *)(param_1 + 0x68) != 0) {
      FUN_00015d44(ppcVar2);
      *(undefined4 *)(param_1 + 0x68) = 0;
    }
    FUN_00015d44(ppcVar2);
  }
  return 0;
}



char * findStartCodePrefix(char *param_1,int param_2)

{
  char *pcVar1;
  char *pcVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  
  pcVar1 = param_1;
  uVar3 = 0;
  do {
    while( true ) {
      uVar5 = uVar3;
      pcVar2 = pcVar1;
      if (param_1 + param_2 <= pcVar2) {
        return (char *)0x0;
      }
      pcVar1 = pcVar2 + 1;
      if (*pcVar2 != '\0') break;
      uVar3 = uVar5 + 1;
    }
    uVar3 = (uint)(1 < (int)uVar5);
    if (*pcVar2 != '\x01') {
      uVar3 = 0;
    }
  } while (uVar3 == 0);
  if (uVar5 == 2) {
    iVar4 = -2;
  }
  else {
    iVar4 = -3;
  }
  return pcVar2 + iVar4;
}



undefined4
onPayloadData(int param_1,int param_2,undefined4 param_3,undefined4 param_4,undefined4 param_5,
             undefined4 param_6,char *param_7,int param_8)

{
  int iVar1;
  char *pcVar2;
  char *pcVar3;
  undefined *puVar4;
  char **ppcVar5;
  int iVar6;
  bool bVar7;
  undefined4 uVar8;
  
  iVar1 = param_1 + *(int *)(param_1 + 0x60) * 0x20;
  *(undefined4 *)(iVar1 + 0x28) = 0xffffffff;
  *(undefined4 *)(iVar1 + 0x2c) = 0xffffffff;
  if (param_2 - 2U < 2) {
    *(undefined4 *)(iVar1 + 0x28) = param_3;
    *(undefined4 *)(iVar1 + 0x2c) = param_4;
    if (*(int *)(param_1 + 0xb8) == 0) {
      *(undefined4 *)(param_1 + 0xc0) = param_3;
      *(undefined4 *)(param_1 + 0xb8) = 1;
      *(undefined4 *)(param_1 + 0xc4) = param_4;
    }
    iVar1 = *(int *)(param_1 + 8);
    if (*(int *)(*(int *)(iVar1 + 0x2c) + 0xa4) != 2) {
      bVar7 = (~*(uint *)(iVar1 + 0x30) | ~*(uint *)(iVar1 + 0x34)) == 0;
      if (bVar7) {
        *(undefined4 *)(iVar1 + 0x30) = param_3;
      }
      if (bVar7) {
        *(undefined4 *)(iVar1 + 0x34) = param_4;
      }
    }
  }
  iVar1 = *(int *)(*(int *)(param_1 + 8) + 0x2c);
  if (*(int *)(iVar1 + 0xa4) == -1) {
    if (*(int *)(param_1 + 0xdc) != 0) {
      if (*(int *)(iVar1 + 0x57f4) == 0) {
        if (*(code ***)(iVar1 + 0x57f0) == (code **)0x0) {
          __android_log_print(5,"awplayer","<%s:%u>: mTSParser->hdcpOps == NULL","onPayloadData",
                              0x54c,param_2);
          *(int *)(iVar1 + 0xf8) = param_1;
          FUN_00015ac4(*(char ***)(param_1 + *(int *)(param_1 + 0x60) * 0x20 + 0x20));
          iVar1 = 1 - *(uint *)(param_1 + 0x60);
          if (1 < *(uint *)(param_1 + 0x60)) {
            iVar1 = 0;
          }
          *(int *)(param_1 + 0x60) = iVar1;
          return 0;
        }
        (***(code ***)(iVar1 + 0x57f0))(iVar1 + 0x57f4);
      }
      if (*(int *)(param_1 + 0x9c) == 0) {
        uVar8 = 1;
      }
      else {
        if (*(int *)(param_1 + 0x9c) != 1) {
          puVar4 = &DAT_00028742;
          uVar8 = 0x55f;
          goto LAB_00016542;
        }
        uVar8 = 2;
      }
      param_2 = (**(code **)(*(int *)(iVar1 + 0x57f0) + 8))
                          (*(undefined4 *)(iVar1 + 0x57f4),param_1 + 0xcc,param_7,param_7,param_8,
                           uVar8);
      if (param_2 != 0) {
        puVar4 = &DAT_0002876d;
        uVar8 = 0x566;
LAB_00016542:
        __android_log_print(6,"awplayer",puVar4,"onPayloadData",uVar8,param_2);
        return 0xffffffff;
      }
    }
    *(int *)(param_1 + 200) = *(int *)(param_1 + 200) + 1;
    ppcVar5 = *(char ***)(param_1 + *(int *)(param_1 + 0x60) * 0x20 + 0x20);
    FUN_00015c04(ppcVar5);
    FUN_00015ac4(ppcVar5);
    if ((*(int *)(param_1 + 0x9c) == 0) &&
       ((iVar1 = *(int *)(param_1 + 0xa0), iVar1 - 0x115U < 2 || iVar1 == 0x110 || (iVar1 == 0x103))
       )) {
      pcVar2 = findStartCodePrefix(param_7,param_8);
      iVar6 = *(int *)(param_1 + 0x60);
      iVar1 = param_1 + iVar6 * 0x20;
      *(char **)(iVar1 + 0x38) = pcVar2;
      if (pcVar2 == (char *)0x0) {
        if (*(int *)(param_1 + 0x90) != 0) {
          if (iVar6 == 0) {
            iVar1 = 0x40;
          }
          else {
            iVar1 = 0x20;
          }
          FUN_00015d44(*(char ***)(param_1 + iVar1));
          if (*(int *)(param_1 + 0x60) == 0) {
            iVar1 = 0x20;
          }
          else {
            iVar1 = 0;
          }
          iVar1 = param_1 + iVar1;
          if ((~*(uint *)(iVar1 + 0x28) | ~*(uint *)(iVar1 + 0x2c)) == 0) {
            iVar6 = param_1 + *(int *)(param_1 + 0x60) * 0x20;
            uVar8 = *(undefined4 *)(iVar6 + 0x2c);
            *(undefined4 *)(iVar1 + 0x28) = *(undefined4 *)(iVar6 + 0x28);
            *(undefined4 *)(iVar1 + 0x2c) = uVar8;
          }
        }
        FUN_00015ac4(*(char ***)(param_1 + *(int *)(param_1 + 0x60) * 0x20 + 0x20));
        return 0;
      }
      pcVar3 = (char *)FUN_00015b64(*(undefined4 **)(iVar1 + 0x20));
      if (*(int *)(param_1 + 0x90) == 0) {
        *(undefined4 *)(param_1 + 0x90) = 1;
      }
      else {
        if (pcVar2 != pcVar3) {
          if (*(int *)(param_1 + 0x60) == 0) {
            iVar1 = 0x40;
          }
          else {
            iVar1 = 0x20;
          }
          ppcVar5 = *(char ***)(param_1 + iVar1);
          FUN_00015b64(*(undefined4 **)(param_1 + *(int *)(param_1 + 0x60) * 0x20 + 0x20));
          FUN_00015d44(ppcVar5);
        }
        iVar1 = 1 - *(uint *)(param_1 + 0x60);
        if (1 < *(uint *)(param_1 + 0x60)) {
          iVar1 = 0;
        }
        iVar6 = param_1 + iVar1 * 0x20;
        uVar8 = *(undefined4 *)(iVar6 + 0x2c);
        *(undefined4 *)(param_1 + 0x78) = *(undefined4 *)(iVar6 + 0x28);
        *(undefined4 *)(param_1 + 0x7c) = uVar8;
        uVar8 = FUN_00015b64(*(undefined4 **)(param_1 + (iVar1 + 1) * 0x20));
        if (*(int *)(param_1 + 0x60) == 0) {
          iVar1 = 0x40;
        }
        else {
          iVar1 = 0x20;
        }
        *(undefined4 *)(param_1 + 0x70) = uVar8;
        uVar8 = FUN_00015ca4(*(undefined4 **)(param_1 + iVar1));
        *(undefined4 *)(param_1 + 0x74) = uVar8;
        *(int *)(*(int *)(*(int *)(param_1 + 8) + 0x2c) + 0xf8) = param_1;
        if (*(int *)(param_1 + 0x60) == 0) {
          iVar1 = 0x40;
        }
        else {
          iVar1 = 0x20;
        }
        FUN_00015ac4(*(char ***)(param_1 + iVar1));
      }
      FUN_00015c04(*(undefined4 **)(param_1 + *(int *)(param_1 + 0x60) * 0x20 + 0x20));
      ppcVar5 = *(char ***)(param_1 + *(int *)(param_1 + 0x60) * 0x20 + 0x20);
      FUN_00015ca4(ppcVar5);
      goto LAB_000166f0;
    }
    *(char **)(param_1 + 0x70) = param_7;
    *(int *)(param_1 + 0x74) = param_8;
    iVar1 = param_1 + *(int *)(param_1 + 0x60) * 0x20;
    uVar8 = *(undefined4 *)(iVar1 + 0x2c);
    *(undefined4 *)(param_1 + 0x78) = *(undefined4 *)(iVar1 + 0x28);
    *(undefined4 *)(param_1 + 0x7c) = uVar8;
    *(int *)(*(int *)(*(int *)(param_1 + 8) + 0x2c) + 0xf8) = param_1;
  }
  else {
    *(int *)(iVar1 + 0xf8) = param_1;
  }
  ppcVar5 = *(char ***)(param_1 + *(int *)(param_1 + 0x60) * 0x20 + 0x20);
LAB_000166f0:
  FUN_00015ac4(ppcVar5);
  iVar1 = 1 - *(uint *)(param_1 + 0x60);
  if (1 < *(uint *)(param_1 + 0x60)) {
    iVar1 = 0;
  }
  *(int *)(param_1 + 0x60) = iVar1;
  return 0;
}



longlong parseDescriptor(uint param_1,int param_2,undefined4 param_3)

{
  undefined uVar1;
  uint uVar2;
  int iVar3;
  void *pvVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  char *pcVar7;
  int iVar8;
  int iVar9;
  int *piVar10;
  undefined4 *puVar11;
  uint uVar12;
  
  uVar12 = param_1;
  uVar2 = CdxBitReaderGetBits(param_1,8);
  iVar3 = CdxBitReaderGetBits(param_1,8);
  if (uVar2 == 0x59) {
    *(undefined4 *)(param_2 + 0x10) = 0x100;
    *(undefined4 *)(param_2 + 0x9c) = 2;
    uVar1 = CdxBitReaderGetBits(param_1,8);
    *(undefined *)(param_2 + 0x98) = uVar1;
    uVar1 = CdxBitReaderGetBits(param_1,8);
    *(undefined *)(param_2 + 0x99) = uVar1;
    uVar1 = CdxBitReaderGetBits(param_1,8);
    *(undefined *)(param_2 + 0x9b) = 0;
    *(undefined *)(param_2 + 0x9a) = uVar1;
    CdxBitReaderGetBits(param_1,8);
    CdxBitReaderGetBits(param_1,0x10);
    uVar5 = 0x10;
LAB_000169da:
    CdxBitReaderGetBits(param_1,uVar5);
    iVar9 = iVar3 + -8;
    goto LAB_00016ae2;
  }
  iVar9 = iVar3;
  if (uVar2 < 0x5a) {
    if (uVar2 != 10) {
      if (uVar2 != 0x56) {
        if (uVar2 != 5) goto LAB_00016ae2;
        uVar2 = CdxBitReaderGetBits(param_1,0x20);
        iVar9 = iVar3 + -4;
        if (uVar2 != 0x48444d56) {
          if (uVar2 == 0x41432d33) {
            uVar5 = 0x81;
LAB_00016a86:
            *(undefined4 *)(param_2 + 0x10) = uVar5;
            uVar5 = 1;
          }
          else {
            if (uVar2 == 0x56432d31) {
              uVar5 = 0xea;
            }
            else {
              if (uVar2 >> 8 == 0x647473 || uVar2 >> 8 == 0x445453) {
                uVar5 = 0x8a;
                goto LAB_00016a86;
              }
              if (uVar2 != 0x68657663 && uVar2 != 0x48455643) {
                uVar12 = 0x6cf;
                __android_log_print(6,"awplayer",&DAT_00028825,"parseDescriptor",0x6cf,uVar2,param_3
                                   );
                goto LAB_00016ae2;
              }
              uVar5 = 0x24;
            }
            *(undefined4 *)(param_2 + 0x10) = uVar5;
            uVar5 = 0;
          }
          *(undefined4 *)(param_2 + 0x9c) = uVar5;
          goto LAB_00016ae2;
        }
        if (iVar9 == 0) {
          *(undefined4 *)(param_2 + 0x38) = 1;
          goto LAB_00016ae2;
        }
        CdxBitReaderGetBits(param_1,8);
        uVar2 = CdxBitReaderGetBits(param_1,8);
        if (uVar2 != 0x1b) {
          if (uVar2 < 0x1c) {
            if (uVar2 != 2) {
LAB_00016a2e:
              uVar12 = 0x6ad;
              __android_log_print(6,"awplayer",&DAT_000287f9,"parseDescriptor",0x6ad,uVar2);
              iVar9 = iVar3 + -6;
              goto LAB_00016ae2;
            }
          }
          else {
            if (uVar2 != 0x20) {
              if (uVar2 != 0x80) goto LAB_00016a2e;
              *(undefined4 *)(param_2 + 0x10) = 0x80;
              *(undefined4 *)(param_2 + 0x9c) = 1;
              if (*(void **)(param_2 + 0xa8) != (void *)0x0) {
                free(*(void **)(param_2 + 0xa8));
              }
              pvVar4 = malloc(0x14);
              *(void **)(param_2 + 0xa8) = pvVar4;
              memset(pvVar4,0,0x14);
              piVar10 = *(int **)(param_2 + 0xa8);
              iVar9 = CdxBitReaderGetBits(param_1,4);
              if (iVar9 == 3) {
                *piVar10 = 2;
              }
              else {
                if ((iVar9 == 6) || (iVar9 == 1)) {
                  *piVar10 = iVar9;
                }
              }
              iVar9 = CdxBitReaderGetBits(param_1,4);
              if (iVar9 == 1) {
                pcVar7 = (char *)0xbb80;
LAB_000169b4:
                piVar10[1] = (int)pcVar7;
              }
              else {
                if (iVar9 == 4) {
                  pcVar7 = (char *)0x17700;
                  goto LAB_000169b4;
                }
                if (iVar9 == 5) {
                  pcVar7 = "";
                  goto LAB_000169b4;
                }
              }
              iVar9 = CdxBitReaderGetBits(param_1,2);
              if (iVar9 == 2) {
                iVar8 = 0x14;
LAB_000169d4:
                piVar10[2] = iVar8;
              }
              else {
                if (iVar9 == 3) {
                  iVar8 = 0x18;
                  goto LAB_000169d4;
                }
                iVar8 = 0x10;
                if (iVar9 == 1) goto LAB_000169d4;
              }
              uVar5 = 6;
              goto LAB_000169da;
            }
          }
        }
        *(uint *)(param_2 + 0x10) = uVar2;
        *(undefined4 *)(param_2 + 0x9c) = 0;
        if (*(void **)(param_2 + 0xa8) != (void *)0x0) {
          free(*(void **)(param_2 + 0xa8));
        }
        pvVar4 = malloc(0x1c);
        *(void **)(param_2 + 0xa8) = pvVar4;
        memset(pvVar4,0,0x1c);
        puVar11 = *(undefined4 **)(param_2 + 0xa8);
        uVar5 = CdxBitReaderGetBits(param_1,4);
        *puVar11 = uVar5;
        uVar5 = CdxBitReaderGetBits(param_1,4);
        puVar11[1] = uVar5;
        uVar6 = CdxBitReaderGetBits(param_1,4);
        uVar5 = 4;
        puVar11[2] = uVar6;
        goto LAB_000169da;
      }
      *(undefined4 *)(param_2 + 0x9c) = 2;
    }
    uVar1 = CdxBitReaderGetBits(param_1,8);
    *(undefined *)(param_2 + 0x98) = uVar1;
    uVar1 = CdxBitReaderGetBits(param_1,8);
    *(undefined *)(param_2 + 0x99) = uVar1;
    uVar1 = CdxBitReaderGetBits(param_1,8);
    *(undefined *)(param_2 + 0x9a) = uVar1;
    *(undefined *)(param_2 + 0x9b) = 0;
LAB_000167a8:
    iVar9 = iVar3 + -3;
    goto LAB_00016ae2;
  }
  if (uVar2 == 0x7a) {
LAB_00016ad2:
    if (*(int *)(param_2 + 0x10) != 6) goto LAB_00016ae2;
    uVar5 = 0x81;
  }
  else {
    if (uVar2 < 0x7b) {
      if (uVar2 != 0x6a) goto LAB_00016ae2;
      goto LAB_00016ad2;
    }
    if (uVar2 != 0x7b) {
      if (uVar2 != 0x81) goto LAB_00016ae2;
      *(undefined4 *)(param_2 + 0x10) = 0x81;
      *(undefined4 *)(param_2 + 0x9c) = 1;
      if (*(void **)(param_2 + 0xa8) != (void *)0x0) {
        free(*(void **)(param_2 + 0xa8));
      }
      pvVar4 = malloc(0x14);
      *(void **)(param_2 + 0xa8) = pvVar4;
      memset(pvVar4,0,0x14);
      puVar11 = *(undefined4 **)(param_2 + 0xa8);
      uVar2 = CdxBitReaderGetBits(param_1,3);
      if (uVar2 < 4) {
        puVar11[1] = *(undefined4 *)(&DAT_0002c55c + uVar2 * 4);
      }
      else {
        uVar12 = 0x632;
        __android_log_print(5,"awplayer","<%s:%u>: ac3 sample_rate_code >= 4","parseDescriptor");
      }
      CdxBitReaderGetBits(param_1,5);
      uVar2 = CdxBitReaderGetBits(param_1,6);
      if ((uVar2 & 0x1f) < 0x13) {
        if (uVar2 >> 5 == 0) {
          puVar11[3] = *(int *)(&DAT_0002c380 + uVar2 * 4) * 1000;
        }
        else {
          uVar12 = 0x63a;
          __android_log_print(5,"awplayer","<%s:%u>: ac3 bit_rate_code=%u","parseDescriptor",0x63a,
                              uVar2);
          puVar11[4] = *(int *)(&DAT_0002c380 + uVar2 * 4) * 1000;
        }
      }
      else {
        uVar12 = 0x644;
        __android_log_print(5,"awplayer","<%s:%u>: ac3 bit_rate_code=%u","parseDescriptor",0x644,
                            uVar2);
      }
      CdxBitReaderGetBits(param_1,5);
      uVar2 = CdxBitReaderGetBits(param_1,4);
      if (uVar2 < 8) {
        *puVar11 = *(undefined4 *)(&DAT_0002c360 + uVar2 * 4);
      }
      else {
        uVar12 = 0x64e;
        __android_log_print(5,"awplayer","<%s:%u>: ac3 num_channels = %u","parseDescriptor",0x64e,
                            uVar2);
      }
      CdxBitReaderGetBits(param_1,1);
      goto LAB_000167a8;
    }
    if (*(int *)(param_2 + 0x10) != 6) goto LAB_00016ae2;
    uVar5 = 0x8a;
  }
  *(undefined4 *)(param_2 + 0x10) = uVar5;
  *(undefined4 *)(param_2 + 0x9c) = 1;
LAB_00016ae2:
  CdxBitReaderSkipBits(param_1,iVar9 << 3);
  return (longlong)((ulonglong)uVar12 << 0x20);
}



undefined4 * VideoInProgram(int param_1)

{
  undefined4 *puVar1;
  
  puVar1 = *(undefined4 **)(param_1 + 0x24);
  if (puVar1 != (undefined4 *)0x0) {
    puVar1 = *(undefined4 **)(undefined4 *)(param_1 + 0x14);
    while( true ) {
      if (puVar1 == (undefined4 *)(param_1 + 0x14)) {
        return (undefined4 *)0x0;
      }
      if ((puVar1[0x27] == 0) && (puVar1[4] != 0x20)) break;
      puVar1 = (undefined4 *)*puVar1;
    }
  }
  return puVar1;
}



undefined4 * MinorVideoInProgram(int param_1)

{
  undefined4 *puVar1;
  
  puVar1 = *(undefined4 **)(param_1 + 0x24);
  if (puVar1 != (undefined4 *)0x0) {
    puVar1 = *(undefined4 **)(undefined4 *)(param_1 + 0x14);
    while( true ) {
      if (puVar1 == (undefined4 *)(param_1 + 0x14)) {
        return (undefined4 *)0x0;
      }
      if ((puVar1[0x27] == 0) && (puVar1[4] == 0x20)) break;
      puVar1 = (undefined4 *)*puVar1;
    }
  }
  return puVar1;
}



undefined4 * FUN_00016bb8(int param_1)

{
  undefined4 *puVar1;
  
  puVar1 = VideoInProgram(param_1);
  if ((puVar1 != (undefined4 *)0x0) &&
     (puVar1 = MinorVideoInProgram(param_1), puVar1 != (undefined4 *)0x0)) {
    puVar1 = (undefined4 *)0x1;
  }
  return puVar1;
}



undefined4 FUN_00016bd0(int param_1,undefined4 *param_2)

{
  undefined4 *puVar1;
  uint uVar2;
  undefined4 uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  undefined4 *puVar8;
  bool bVar9;
  
  memset(param_2,0,0x3648);
  uVar3 = *(undefined4 *)(param_1 + 0x14);
  iVar6 = *(int *)(param_1 + 0x134);
  *param_2 = *(undefined4 *)(param_1 + 0x10);
  param_2[1] = uVar3;
  iVar4 = *(int *)(param_1 + 0x38) + 1;
  if (iVar4 != 0) {
    iVar4 = 1;
  }
  param_2[3] = iVar4;
  param_2[4] = 1;
  param_2[5] = 0;
  param_2[8] = *(undefined4 *)(param_1 + 0x28);
  param_2[9] = *(undefined4 *)(iVar6 + 0x20);
  param_2[0xb] = *(undefined4 *)(iVar6 + 0x24);
  uVar3 = *(undefined4 *)(iVar6 + 0x28);
  param_2[10] = 0;
  param_2[0xc] = 0;
  param_2[0xd] = uVar3;
  param_2[0xe] = 0;
  uVar3 = *(undefined4 *)(param_1 + 0x5844);
  param_2[0x10] = *(undefined4 *)(param_1 + 0x5840);
  param_2[0x11] = uVar3;
  if ((*(int *)(param_1 + 0x130) < 2) && (iVar4 = *(int *)(param_1 + 0x11c), iVar4 != 0)) {
    memcpy(param_2 + 0x492,(void *)(param_1 + 0x5804),0x3c);
    param_2[6] = *(undefined4 *)(iVar4 + 0xc);
    puVar1 = FUN_00016bb8(iVar6);
    param_2[0x498] = puVar1;
    param_2[0x492] = *(undefined4 *)(*(int *)(param_1 + 0x11c) + 0xa0);
  }
  iVar7 = 0;
  puVar1 = *(undefined4 **)(undefined4 *)(iVar6 + 0x14);
  iVar4 = 0;
  while (puVar1 != (undefined4 *)(iVar6 + 0x14)) {
    iVar5 = puVar1[0x27];
    if (iVar4 < 0x20 && iVar5 == 1) {
      puVar8 = param_2 + iVar4 * 0x24;
      puVar8[0x12] = puVar1[0x28];
      puVar8[0x13] = puVar1[0x29];
      uVar2 = puVar1[0x28];
      bVar9 = uVar2 == 4;
      if (bVar9) {
        uVar2 = puVar8[0x2e] | 1;
      }
      if (bVar9) {
        puVar8[0x2e] = uVar2;
      }
      memcpy(param_2 + iVar4 * 0x24 + 0x1c,puVar1 + 0x26,4);
      if ((undefined4 *)puVar1[0x2a] != (undefined4 *)0x0) {
        puVar8 = param_2 + iVar4 * 0x24;
        puVar8[0x14] = *(undefined4 *)puVar1[0x2a];
        puVar8[0x16] = *(undefined4 *)(puVar1[0x2a] + 4);
        puVar8[0x15] = *(undefined4 *)(puVar1[0x2a] + 8);
        puVar8[0x17] = *(undefined4 *)(puVar1[0x2a] + 0xc);
        puVar8[0x18] = *(undefined4 *)(puVar1[0x2a] + 0x10);
      }
      if (puVar1[0x28] == 10) {
        param_2[iVar4 * 0x24 + 0x13] = 0x1fffd;
      }
      puVar1[5] = iVar4;
      iVar4 = iVar4 + 1;
    }
    else {
      if (iVar7 < 0x20 && iVar5 == 2) {
        param_2[iVar7 * 0x41 + 0x4b9] = puVar1[0x28];
        memcpy(param_2 + iVar7 * 0x41 + 0x4a2,puVar1 + 0x26,4);
        puVar1[5] = iVar7;
        iVar7 = iVar7 + 1;
      }
      else {
        if (iVar5 != 0) {
          DestroyStream(puVar1);
        }
      }
    }
    puVar1 = (undefined4 *)*puVar1;
  }
  return 0;
}



undefined8 FUN_00016d84(void *param_1,int param_2,undefined4 param_3)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int iVar3;
  void *pvVar4;
  
  iVar3 = *(int *)((int)param_1 + 0x10);
  pvVar4 = param_1;
  if (iVar3 == 0x80) {
    iVar3 = 10;
LAB_00016ed8:
    puVar1 = (undefined4 *)0x1;
  }
  else {
    if (0x80 < iVar3) {
      if (iVar3 < 0x87) {
        if ((0x84 < iVar3) || (iVar3 == 0x82)) goto LAB_00016e2a;
        if (((0x81 < iVar3) && (iVar3 != 0x83)) && (iVar3 != 0x84)) goto LAB_00016e6e;
      }
      else {
        if (iVar3 != 0xa1) {
          if (iVar3 < 0xa2) {
            if (iVar3 != 0x8a) {
              if (iVar3 != 0x90) goto LAB_00016e6e;
              iVar3 = 0x102;
LAB_00016e50:
              puVar1 = (undefined4 *)0x2;
              goto LAB_00016eda;
            }
          }
          else {
            if (iVar3 == 0xea) {
              iVar3 = 0x110;
              goto LAB_00016e12;
            }
            if (iVar3 == 0x100) {
              pvVar4 = (void *)0x354;
              __android_log_print(3,"awplayer","<%s:%u>: +++++ DVD Sub","VerifyStream",0x354,param_2
                                  ,param_3);
              goto LAB_00016e50;
            }
            if (iVar3 != 0xa2) goto LAB_00016e6e;
          }
LAB_00016e2a:
          iVar3 = 6;
          goto LAB_00016ed8;
        }
      }
      iVar3 = 5;
      goto LAB_00016ed8;
    }
    if (iVar3 == 0xf) {
LAB_00016e22:
      iVar3 = 4;
      goto LAB_00016ed8;
    }
    if (iVar3 < 0x10) {
      if (iVar3 < 5) {
        if (2 < iVar3) {
          iVar3 = 3;
          goto LAB_00016ed8;
        }
        if (0 < iVar3) {
          iVar3 = 0x103;
          goto LAB_00016e12;
        }
      }
      else {
        if (iVar3 == 6) {
          iVar3 = 0x116;
          puVar1 = *(undefined4 **)(*(int *)((int)param_1 + 8) + 0x24);
          if (puVar1 != (undefined4 *)0x0) {
            iVar3 = -1;
            puVar1 = (undefined4 *)0xffffffff;
          }
          goto LAB_00016eda;
        }
      }
LAB_00016e6e:
      if (param_2 == 0) {
LAB_00016ec6:
        DestroyStream(param_1);
        puVar2 = (undefined4 *)0xffffffff;
        pvVar4 = param_1;
        goto LAB_00016f0e;
      }
      if (param_2 - 0xc0U < 0x20) {
        iVar3 = 2;
      }
      else {
        if (param_2 != 0xbd) {
          if (param_2 == 0xfd) {
            puVar1 = FUN_00016bb8(*(int *)((int)param_1 + 8));
            if (puVar1 == (undefined4 *)0x0) {
              iVar3 = 0x110;
            }
            else {
              iVar3 = 5;
              puVar1 = (undefined4 *)0x1;
            }
          }
          else {
            if ((0xf < param_2 - 0xe0U) ||
               (puVar1 = *(undefined4 **)(*(int *)((int)param_1 + 8) + 0x24),
               puVar1 != (undefined4 *)0x0)) goto LAB_00016ec6;
            if (iVar3 == 6) {
              iVar3 = 0x116;
            }
            else {
              iVar3 = 0x103;
            }
          }
          goto LAB_00016eda;
        }
        puVar1 = FUN_00016bb8(*(int *)((int)param_1 + 8));
        if (puVar1 == (undefined4 *)0x0) {
          iVar3 = 5;
        }
        else {
          iVar3 = 10;
        }
      }
      goto LAB_00016ed8;
    }
    if (iVar3 == 0x1b) {
LAB_00016e0e:
      iVar3 = 0x115;
    }
    else {
      if (iVar3 < 0x1c) {
        if (iVar3 != 0x10) {
          if (iVar3 != 0x11) goto LAB_00016e6e;
          goto LAB_00016e22;
        }
        iVar3 = 0x108;
      }
      else {
        if (iVar3 == 0x24) {
          iVar3 = 0x116;
        }
        else {
          if (iVar3 != 0x42) {
            if (iVar3 != 0x20) goto LAB_00016e6e;
            goto LAB_00016e0e;
          }
          iVar3 = 0x117;
        }
      }
    }
LAB_00016e12:
    puVar1 = (undefined4 *)0x0;
  }
LAB_00016eda:
  puVar2 = (undefined4 *)0x0;
  *(int *)((int)param_1 + 0xa0) = iVar3;
  *(undefined4 *)((int)param_1 + 0xa4) = 0;
  *(undefined4 **)((int)param_1 + 0x9c) = puVar1;
  iVar3 = *(int *)((int)param_1 + 8);
  if (puVar1 == (undefined4 *)0x1) {
    *(int *)(iVar3 + 0x20) = *(int *)(iVar3 + 0x20) + 1;
  }
  else {
    if (puVar1 == (undefined4 *)0x2) {
      *(int *)(iVar3 + 0x28) = *(int *)(iVar3 + 0x28) + 1;
    }
    else {
      if (puVar1 == (undefined4 *)0x0) {
        *(int *)(iVar3 + 0x24) = *(int *)(iVar3 + 0x24) + 1;
        puVar2 = puVar1;
      }
    }
  }
LAB_00016f0e:
  return CONCAT44(pvVar4,puVar2);
}



undefined4 parsePES(void *param_1,undefined4 param_2)

{
  int iVar1;
  undefined4 uVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  uint uVar9;
  int iVar10;
  uint uVar11;
  uint uVar12;
  void *__src;
  char *pcVar13;
  uint uVar14;
  int iVar15;
  uint uVar16;
  undefined8 uVar17;
  undefined4 uVar18;
  uint local_48;
  uint uStack68;
  
  iVar1 = CdxBitReaderGetBits(param_2,0x18);
  if (iVar1 == 1) {
    iVar1 = CdxBitReaderGetBits(param_2,8);
    uVar3 = CdxBitReaderGetBits(param_2,0x10);
    uVar14 = iVar1 - 0xbc;
    if (uVar14 != 0) {
      uVar14 = 1;
    }
    if (iVar1 == 0xbe) {
      uVar14 = 0;
    }
    else {
      uVar14 = uVar14 & 1;
    }
    if (uVar14 == 0) goto LAB_00017526;
    uVar14 = iVar1 - 0xbf;
    if (uVar14 != 0) {
      uVar14 = 1;
    }
    if (iVar1 == 0xf0) {
      uVar14 = 0;
    }
    else {
      uVar14 = uVar14 & 1;
    }
    if (uVar14 == 0) goto LAB_00017526;
    uVar14 = iVar1 - 0xf1;
    if (uVar14 != 0) {
      uVar14 = 1;
    }
    if (iVar1 == 0xff) {
      uVar14 = 0;
    }
    else {
      uVar14 = uVar14 & 1;
    }
    if (uVar14 == 0) goto LAB_00017526;
    uVar14 = iVar1 - 0xf2;
    if (uVar14 != 0) {
      uVar14 = 1;
    }
    if (iVar1 == 0xf8) {
      uVar14 = 0;
    }
    else {
      uVar14 = uVar14 & 1;
    }
    if (uVar14 == 0) goto LAB_00017526;
    iVar15 = *(int *)(*(int *)(*(int *)((int)param_1 + 8) + 0x2c) + 0xa4);
    if (iVar15 == 2) {
      uVar14 = iVar1 - 0xbd;
      if (uVar14 != 0) {
        uVar14 = 1;
      }
      if (iVar1 - 0xc0U < 0x30) {
        uVar14 = 0;
      }
      else {
        uVar14 = uVar14 & 1;
      }
      if ((uVar14 != 0) && (iVar1 != 0xfd)) goto LAB_00017526;
LAB_00016ff8:
      if ((*(int *)((int)param_1 + 0xa0) == 0) &&
         (uVar17 = FUN_00016d84(param_1,iVar1,0), (int)uVar17 < 0)) goto LAB_00017526;
    }
    else {
      if (iVar15 != -1) goto LAB_00016ff8;
    }
    iVar1 = CdxBitReaderGetBits(param_2,2);
    if (iVar1 != 2) {
      __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","parsePES",0x3ee,
                          &DAT_00028894);
    }
    CdxBitReaderGetBits(param_2,2);
    CdxBitReaderGetBits(param_2,1);
    CdxBitReaderGetBits(param_2,1);
    CdxBitReaderGetBits(param_2,1);
    CdxBitReaderGetBits(param_2,1);
    iVar1 = CdxBitReaderGetBits(param_2,2);
    iVar15 = CdxBitReaderGetBits(param_2,1);
    iVar4 = CdxBitReaderGetBits(param_2,1);
    iVar5 = CdxBitReaderGetBits(param_2,1);
    iVar6 = CdxBitReaderGetBits(param_2,1);
    iVar7 = CdxBitReaderGetBits(param_2,1);
    iVar8 = CdxBitReaderGetBits(param_2,1);
    uVar14 = CdxBitReaderGetBits(param_2,8);
    if (iVar1 - 2U < 2) {
      if (4 < uVar14) {
        CdxBitReaderGetBits(param_2,4);
        uVar9 = CdxBitReaderGetBits(param_2,3);
        iVar10 = CdxBitReaderGetBits(param_2,1);
        if (iVar10 != 1) {
          __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","parsePES",0x428,
                              &DAT_00028894);
        }
        uVar11 = CdxBitReaderGetBits(param_2,0xf);
        uStack68 = uVar9 >> 2 | uVar11 >> 0x11;
        iVar10 = CdxBitReaderGetBits(param_2,1);
        if (iVar10 != 1) {
          __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","parsePES",0x42f,
                              &DAT_00028894);
        }
        local_48 = CdxBitReaderGetBits(param_2,0xf);
        local_48 = uVar9 << 0x1e | uVar11 << 0xf | local_48;
        iVar10 = CdxBitReaderGetBits(param_2,1);
        if (iVar10 != 1) {
          __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","parsePES",0x436,
                              &DAT_00028894);
        }
        if (iVar1 == 3) {
          if (uVar14 - 5 < 5) {
            uVar18 = 0x441;
            pcVar13 = "<%s:%u>: \x1b[40;31moptional_bytes_remaining(%u) < 5u\x1b[0m";
            goto LAB_00017492;
          }
          CdxBitReaderGetBits(param_2,4);
          uVar9 = CdxBitReaderGetBits(param_2,3);
          iVar10 = CdxBitReaderGetBits(param_2,1);
          if (iVar10 != 1) {
            __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","parsePES",0x451,
                                &DAT_00028894);
          }
          uVar12 = CdxBitReaderGetBits(param_2,0xf);
          uVar16 = uVar9 >> 2 | uVar12 >> 0x11;
          iVar10 = CdxBitReaderGetBits(param_2,1);
          if (iVar10 != 1) {
            __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","parsePES",0x458,
                                &DAT_00028894);
          }
          uVar11 = CdxBitReaderGetBits(param_2,0xf);
          uVar11 = uVar9 << 0x1e | uVar12 << 0xf | uVar11;
          iVar10 = CdxBitReaderGetBits(param_2,1);
          if (iVar10 != 1) {
            __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","parsePES",0x45f,
                                &DAT_00028894);
          }
          uVar9 = uVar14 - 10;
        }
        else {
          uVar11 = 0;
          uVar16 = 0;
          uVar9 = uVar14 - 5;
        }
        goto LAB_0001729e;
      }
      pcVar13 = "<%s:%u>: \x1b[40;31moptional_bytes_remaining(%u) < 5u\x1b[0m";
      uVar18 = 0x417;
    }
    else {
      uVar11 = 0;
      uVar16 = 0;
      local_48 = 0;
      uStack68 = 0;
      uVar9 = uVar14;
LAB_0001729e:
      if (iVar15 != 0) {
        if (uVar9 < 6) {
          uVar18 = 0x46d;
          pcVar13 = "<%s:%u>: \x1b[40;31moptional_bytes_remaining(%u) < 6u\x1b[0m";
          goto LAB_00017492;
        }
        CdxBitReaderGetBits(param_2,2);
        CdxBitReaderGetBits(param_2,3);
        iVar15 = CdxBitReaderGetBits(param_2,1);
        if (iVar15 != 1) {
          __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","parsePES",0x479,
                              &DAT_00028894);
        }
        CdxBitReaderGetBits(param_2,0xf);
        iVar15 = CdxBitReaderGetBits(param_2,1);
        if (iVar15 != 1) {
          __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","parsePES",0x480,
                              &DAT_00028894);
        }
        CdxBitReaderGetBits(param_2,0xf);
        iVar15 = CdxBitReaderGetBits(param_2,1);
        if (iVar15 != 1) {
          __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","parsePES",0x487,
                              &DAT_00028894);
        }
        CdxBitReaderGetBits(param_2,9);
        iVar15 = CdxBitReaderGetBits(param_2,1);
        if (iVar15 != 1) {
          __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","parsePES",0x490,
                              &DAT_00028894);
        }
        uVar9 = uVar9 - 6;
      }
      if (iVar4 != 0) {
        if (uVar9 < 3) {
          uVar18 = 0x49a;
          pcVar13 = "<%s:%u>: \x1b[40;31moptional_bytes_remaining(%u) < 3u\x1b[0m";
          goto LAB_00017492;
        }
        iVar15 = CdxBitReaderGetBits(param_2,1);
        if (iVar15 != 1) {
          __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","parsePES",0x4a2,
                              &DAT_00028894);
        }
        CdxBitReaderGetBits(param_2,0x16);
        iVar15 = CdxBitReaderGetBits(param_2,1);
        if (iVar15 != 1) {
          __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","parsePES",0x4a9,
                              &DAT_00028894);
        }
        uVar9 = uVar9 - 3;
      }
      if (iVar5 != 0) {
        CdxBitReaderGetBits(param_2,8);
        uVar9 = uVar9 - 1;
      }
      if (iVar6 != 0) {
        CdxBitReaderGetBits(param_2,8);
        uVar9 = uVar9 - 1;
      }
      if (iVar7 != 0) {
        CdxBitReaderGetBits(param_2,0x10);
        uVar9 = uVar9 - 2;
      }
      if (iVar8 != 0) {
        iVar15 = CdxBitReaderGetBits(param_2,8);
        uVar9 = uVar9 - 1;
        if ((iVar15 << 0x18 < 0) &&
           (*(int *)(*(int *)(*(int *)((int)param_1 + 8) + 0x2c) + 0x57ec) != 0)) {
          __src = (void *)CdxBitReaderData(param_2);
          memcpy((void *)((int)param_1 + 0xcc),__src,0x10);
          *(undefined4 *)((int)param_1 + 0xdc) = 1;
        }
      }
      CdxBitReaderSkipBits(param_2,uVar9 << 3);
      if (uVar3 == 0) {
        uVar14 = CdxBitReaderNumBitsLeft(param_2);
        pcVar13 = (char *)CdxBitReaderData(param_2);
        onPayloadData((int)param_1,iVar1,local_48,uStack68,uVar11,uVar16,pcVar13,uVar14 >> 3);
LAB_00017520:
        CdxBitReaderSkipBits(param_2,uVar14);
        return 0;
      }
      if (uVar14 + 3 <= uVar3) {
        uVar14 = (uVar3 - 3) - uVar14;
        uVar3 = CdxBitReaderNumBitsLeft(param_2);
        if (uVar3 < uVar14 * 8) {
          uVar18 = CdxBitReaderNumBitsLeft(param_2);
          __android_log_print(6,"awplayer",&DAT_0002897f,"parsePES",0x4dd,uVar18,uVar14 * 8);
          uVar14 = CdxBitReaderNumBitsLeft(param_2);
          uVar14 = uVar14 >> 3;
        }
        pcVar13 = (char *)CdxBitReaderData(param_2);
        onPayloadData((int)param_1,iVar1,local_48,uStack68,uVar11,uVar16,pcVar13,uVar14);
        uVar14 = uVar14 << 3;
        goto LAB_00017520;
      }
      pcVar13 = "<%s:%u>: \x1b[40;31mPES_packet_length < PES_header_data_length + 3\x1b[0m";
      uVar18 = 0x4d4;
    }
LAB_00017492:
    uVar2 = 6;
  }
  else {
    uVar18 = 0x3c2;
    pcVar13 = "<%s:%u>: PID = 0x%02x maybe not PES";
    uVar2 = 5;
  }
  __android_log_print(uVar2,"awplayer",pcVar13,"parsePES",uVar18);
LAB_00017526:
  FUN_00015ac4(*(char ***)((int)param_1 + *(int *)((int)param_1 + 0x60) * 0x20 + 0x20));
  return 0;
}



undefined4 StreamFlush(void *param_1)

{
  int iVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  void *pvVar4;
  char **ppcVar5;
  
  ppcVar5 = *(char ***)((int)param_1 + *(int *)((int)param_1 + 0x60) * 0x20 + 0x20);
  iVar1 = FUN_00015ca4(ppcVar5);
  if (iVar1 == 0) {
    if (*(int *)((int)param_1 + 0x68) == 0) {
      if (*(int *)((int)param_1 + 0x60) == 0) {
        iVar1 = 0x40;
      }
      else {
        iVar1 = 0x20;
      }
      iVar1 = FUN_00015ca4(*(undefined4 **)((int)param_1 + iVar1));
      if (iVar1 == 0) {
        return 0;
      }
      iVar1 = 1 - *(uint *)((int)param_1 + 0x60);
      if (1 < *(uint *)((int)param_1 + 0x60)) {
        iVar1 = 0;
      }
      pvVar4 = (void *)((int)param_1 + iVar1 * 0x20);
      uVar3 = *(undefined4 *)((int)pvVar4 + 0x2c);
      *(undefined4 *)((int)param_1 + 0x78) = *(undefined4 *)((int)pvVar4 + 0x28);
      *(undefined4 *)((int)param_1 + 0x7c) = uVar3;
      uVar3 = FUN_00015b64(*(undefined4 **)((int)param_1 + (iVar1 + 1) * 0x20));
      if (*(int *)((int)param_1 + 0x60) == 0) {
        iVar1 = 0x40;
      }
      else {
        iVar1 = 0x20;
      }
      *(undefined4 *)((int)param_1 + 0x70) = uVar3;
      uVar3 = FUN_00015ca4(*(undefined4 **)((int)param_1 + iVar1));
      *(undefined4 *)((int)param_1 + 0x74) = uVar3;
      *(void **)(*(int *)(*(int *)((int)param_1 + 8) + 0x2c) + 0xf8) = param_1;
      if (*(int *)((int)param_1 + 0x60) == 0) {
        iVar1 = 0x40;
      }
      else {
        iVar1 = 0x20;
      }
      FUN_00015ac4(*(char ***)((int)param_1 + iVar1));
      return 0;
    }
    FUN_00015d44(ppcVar5);
    iVar1 = *(int *)((int)param_1 + 0x68);
    *(undefined4 *)((int)param_1 + 0x68) = 0;
  }
  uVar3 = FUN_00015b64(ppcVar5);
  uVar3 = CdxBitReaderCreate(uVar3,iVar1);
  uVar2 = parsePES(param_1,uVar3);
  CdxBitReaderDestroy(uVar3);
  return uVar2;
}



int StreamParse(void *param_1,int param_2,int param_3,undefined4 param_4)

{
  int iVar1;
  uint uVar2;
  void *pvVar3;
  
  *(uint *)((int)param_1 + 0x18) = param_2 + 1U & 0xf;
  if (param_3 != 0) {
    if ((*(int *)((int)param_1 + 0x94) != 0) && (iVar1 = StreamFlush(param_1), iVar1 != 0)) {
      return iVar1;
    }
    *(undefined4 *)((int)param_1 + 0x94) = 1;
  }
  iVar1 = *(int *)((int)param_1 + 0x94);
  if (iVar1 != 0) {
    uVar2 = CdxBitReaderNumBitsLeft(param_4);
    pvVar3 = (void *)CdxBitReaderData(param_4);
    StreamAppend((int)param_1,pvVar3,uVar2 >> 3);
    iVar1 = 0;
  }
  return iVar1;
}



undefined4
ProgramParsePID(int param_1,int param_2,int param_3,int param_4,undefined4 param_5,int *param_6)

{
  undefined4 *puVar1;
  int iVar2;
  
  *param_6 = 0;
  puVar1 = findStreamByPID(param_1,param_2);
  if (puVar1 == (undefined4 *)0x0) {
    if (*(int *)(*(int *)(param_1 + 0x2c) + 0xa4) != 2) {
      return 0;
    }
    FUN_000153cc(param_1,param_2,0xffffffff);
    puVar1 = findStreamByPID(param_1,param_2);
  }
  iVar2 = StreamParse(puVar1,param_3,param_4,param_5);
  *param_6 = iVar2;
  return 1;
}



undefined4 * AudioInProgram(int param_1)

{
  undefined4 *puVar1;
  
  puVar1 = *(undefined4 **)(param_1 + 0x20);
  if (puVar1 != (undefined4 *)0x0) {
    puVar1 = *(undefined4 **)(undefined4 *)(param_1 + 0x14);
    while( true ) {
      if (puVar1 == (undefined4 *)(param_1 + 0x14)) {
        return (undefined4 *)0x0;
      }
      if (puVar1[0x27] == 1) break;
      puVar1 = (undefined4 *)*puVar1;
    }
  }
  return puVar1;
}



undefined4 * SubtitleInProgram(int param_1)

{
  undefined4 *puVar1;
  
  puVar1 = *(undefined4 **)(param_1 + 0x28);
  if (puVar1 != (undefined4 *)0x0) {
    puVar1 = *(undefined4 **)(undefined4 *)(param_1 + 0x14);
    while( true ) {
      if (puVar1 == (undefined4 *)(param_1 + 0x14)) {
        return (undefined4 *)0x0;
      }
      if (puVar1[0x27] == 2) break;
      puVar1 = (undefined4 *)*puVar1;
    }
  }
  return puVar1;
}



longlong parseProgramMap(uint param_1,undefined *param_2,char *param_3)

{
  byte bVar1;
  int iVar2;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  int iVar6;
  undefined4 *puVar7;
  char *pcVar8;
  uint uVar9;
  uint uVar10;
  undefined *puVar11;
  uint uVar12;
  uint uVar13;
  undefined4 *puVar14;
  ulonglong uVar15;
  longlong lVar16;
  undefined *puVar17;
  char *pcVar18;
  
  uVar3 = param_1;
  puVar17 = param_2;
  pcVar18 = param_3;
  iVar2 = CdxBitReaderGetBits(param_2,8);
  if (iVar2 == 2) {
    CdxBitReaderGetBits(param_2,1);
    iVar2 = CdxBitReaderGetBits(param_2,1);
    if (iVar2 != 0) {
      param_3 = "<%s:%u>: CDX_CHECK(%s) failed.";
      uVar3 = 0x746;
      puVar17 = &DAT_00028894;
      __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","parseProgramMap",0x746,
                          &DAT_00028894,pcVar18);
    }
    CdxBitReaderGetBits(param_2,2);
    iVar2 = CdxBitReaderGetBits(param_2,0xc);
    uVar4 = CdxBitReaderGetBits(param_2,0x10);
    if (*(int *)(param_1 + 8) == -1) {
      *(undefined4 *)(param_1 + 8) = uVar4;
    }
    CdxBitReaderGetBits(param_2,2);
    iVar5 = CdxBitReaderGetBits(param_2,5);
    iVar6 = CdxBitReaderGetBits(param_2,1);
    if (((iVar5 != *(int *)(param_1 + 0x10)) ||
        (((param_3 = *(char **)(*(int *)(param_1 + 0x2c) + 0x130), (int)param_3 < 2 &&
          (puVar7 = VideoInProgram(param_1), puVar7 == (undefined4 *)0x0)) &&
         (puVar7 = AudioInProgram(param_1), puVar7 == (undefined4 *)0x0)))) && (iVar6 != 0)) {
      *(int *)(param_1 + 0x10) = iVar5;
      *(undefined4 *)(*(int *)(param_1 + 0x2c) + 0x57e8) = 1;
      CdxBitReaderGetBits(param_2,8);
      CdxBitReaderGetBits(param_2,8);
      CdxBitReaderGetBits(param_2,3);
      CdxBitReaderGetBits(param_2,0xd);
      CdxBitReaderGetBits(param_2,4);
      uVar15 = CdxBitReaderGetBits(param_2,0xc);
      uVar12 = (iVar2 + -0xd) - (int)uVar15;
      while( true ) {
        uVar13 = (uint)uVar15;
        if (uVar13 < 2) break;
        iVar2 = CdxBitReaderData(param_2,(int)(uVar15 >> 0x20));
        bVar1 = *(byte *)(iVar2 + 1);
        if (uVar13 - 2 < (uint)bVar1) break;
        uVar15 = parseDescriptor((uint)param_2,param_1,param_3);
        param_3 = (char *)(-2 - (uint)bVar1);
        uVar15 = uVar15 & 0xffffffff00000000 | ZEXT48(param_3 + uVar13);
      }
      CdxBitReaderSkipBits(param_2,uVar13 << 3);
      while (uVar12 != 0) {
        if (uVar12 < 5) {
          uVar3 = 0x7df;
          puVar11 = &DAT_000289dc;
          goto LAB_00017944;
        }
        pcVar8 = (char *)CdxBitReaderGetBits(param_2,8);
        CdxBitReaderGetBits(param_2,3);
        iVar2 = CdxBitReaderGetBits(param_2,0xd);
        puVar7 = findStreamByPID(param_1,iVar2);
        if (puVar7 == (undefined4 *)0x0) {
LAB_00017980:
          FUN_000153cc(param_1,iVar2,pcVar8);
          puVar7 = findStreamByPID(param_1,iVar2);
          param_3 = pcVar8;
        }
        else {
          if ((char *)puVar7[4] != pcVar8) {
            DestroyStream(puVar7);
            goto LAB_00017980;
          }
        }
        puVar7[0x38] = 1;
        CdxBitReaderGetBits(param_2,4);
        uVar9 = CdxBitReaderGetBits(param_2,0xc);
        uVar10 = uVar12 - 5;
        uVar13 = uVar9;
        if (uVar10 < uVar9) {
          uVar3 = 0x80b;
          puVar11 = &DAT_00028a09;
          goto LAB_00017944;
        }
        while (1 < uVar13) {
          iVar2 = CdxBitReaderData(param_2,uVar10);
          param_3 = (char *)(uVar13 - 2);
          bVar1 = *(byte *)(iVar2 + 1);
          if (param_3 < (char *)(uint)bVar1) break;
          lVar16 = parseDescriptor((uint)param_2,(int)puVar7,param_3);
          uVar10 = (uint)((ulonglong)lVar16 >> 0x20);
          uVar13 = uVar13 + (-2 - (int)(char *)(uint)bVar1);
        }
        CdxBitReaderSkipBits(param_2,uVar13 << 3);
        if (puVar7[0x28] == 0) {
          FUN_00016d84(puVar7,0,param_3);
        }
        uVar12 = uVar12 + (-5 - uVar9);
      }
      puVar7 = *(undefined4 **)(undefined4 *)(param_1 + 0x14);
      puVar14 = (undefined4 *)*puVar7;
      while (puVar7 != (undefined4 *)(param_1 + 0x14)) {
        if (puVar7[0x38] == 0) {
          DestroyStream(puVar7);
        }
        else {
          puVar7[0x38] = 0;
        }
        if (((puVar7[4] == 6) && (puVar7[0x28] == 0x116)) && (1 < *(uint *)(param_1 + 0x24))) {
          DestroyStream(puVar7);
        }
        puVar7 = puVar14;
        puVar14 = (undefined4 *)*puVar14;
      }
      CdxBitReaderGetBits(param_2,0x20);
    }
  }
  else {
    uVar3 = 0x73a;
    puVar11 = &DAT_00027eda;
LAB_00017944:
    __android_log_print(6,"awplayer",puVar11,"parseProgramMap",uVar3,puVar17,pcVar18);
  }
  return (longlong)((ulonglong)uVar3 << 0x20);
}



void parseProgramAssociationTable(uint param_1,undefined4 param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  uint uVar6;
  
  iVar1 = CdxBitReaderGetBits(param_2,8);
  if (iVar1 == 0) {
    CdxBitReaderGetBits(param_2,1);
    iVar1 = CdxBitReaderGetBits(param_2,1);
    if (iVar1 != 0) {
      __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.",
                          "parseProgramAssociationTable",0x851,&DAT_00028894);
    }
    CdxBitReaderGetBits(param_2,2);
    iVar1 = CdxBitReaderGetBits(param_2,0xc);
    CdxBitReaderGetBits(param_2,0x10);
    CdxBitReaderGetBits(param_2,2);
    iVar2 = CdxBitReaderGetBits(param_2,5);
    iVar3 = CdxBitReaderGetBits(param_2,1);
    uVar6 = (uint)(iVar2 == *(int *)(param_1 + 0x9c));
    if (iVar3 == 0) {
      uVar6 = 1;
    }
    if (uVar6 == 0) {
      *(int *)(param_1 + 0x9c) = iVar2;
      CdxBitReaderGetBits(param_2,8);
      CdxBitReaderGetBits(param_2,8);
      while (uVar6 != iVar1 - 9U >> 2) {
        iVar2 = CdxBitReaderGetBits(param_2,0x10);
        CdxBitReaderGetBits(param_2,3);
        if (iVar2 == 0) {
          CdxBitReaderGetBits(param_2,0xd);
        }
        else {
          iVar3 = CdxBitReaderGetBits(param_2,0xd);
          puVar4 = *(undefined4 **)(undefined4 *)(param_1 + 0x90);
          while (puVar4 != (undefined4 *)(param_1 + 0x90)) {
            if (puVar4[2] == iVar2) {
              puVar4[3] = iVar3;
              goto LAB_00017bd2;
            }
            puVar4 = (undefined4 *)*puVar4;
          }
          *(undefined4 *)(param_1 + 0x57e4) = 1;
          if (*(int *)(param_1 + 0xa4) == -1) {
            __android_log_print(5,"awplayer","<%s:%u>: pat change!","parseProgramAssociationTable",
                                0x897);
            *(undefined4 *)(param_1 + 0xa4) = 0;
          }
          FUN_0001533c(param_1,iVar2,iVar3);
LAB_00017bd2:
          puVar4 = findPSISectionByPID(param_1,iVar3);
          if (puVar4 == (undefined4 *)0x0) {
            FUN_00015158(param_1,iVar3);
          }
          puVar4 = findProgramByPID(param_1,iVar3);
          puVar4[0xf] = 1;
        }
        uVar6 = uVar6 + 1;
      }
      CdxBitReaderGetBits(param_2,0x20);
      puVar4 = *(undefined4 **)(undefined4 *)(param_1 + 0x90);
      puVar5 = (undefined4 *)*puVar4;
      while (puVar4 != (undefined4 *)(param_1 + 0x90)) {
        if (puVar4[0xf] == 0) {
          DestroyProgram(puVar4);
        }
        else {
          puVar4[0xf] = 0;
        }
        puVar4 = puVar5;
        puVar5 = (undefined4 *)*puVar5;
      }
    }
  }
  else {
    __android_log_print(6,"awplayer",&DAT_00027eda,"parseProgramAssociationTable",0x846);
  }
  return;
}



undefined4 * parsePSISection(uint param_1,void *param_2,char *param_3)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined *puVar3;
  undefined4 *puVar4;
  longlong lVar5;
  
  uVar1 = PSISectionData((int)param_2);
  uVar2 = PSISectionSize((int)param_2);
  puVar3 = (undefined *)CdxBitReaderCreate(uVar1,uVar2);
  puVar4 = *(undefined4 **)((int)param_2 + 8);
  if (puVar4 == (undefined4 *)0x0) {
    parseProgramAssociationTable(param_1,puVar3);
  }
  else {
    puVar4 = findProgramByPID(param_1,(int)puVar4);
    if (puVar4 == (undefined4 *)0x0) {
      DestroyPSISection(param_2);
      goto LAB_00017cb0;
    }
    lVar5 = parseProgramMap((uint)puVar4,puVar3,param_3);
    puVar4 = (undefined4 *)lVar5;
  }
  PSISectionClear((int)param_2);
LAB_00017cb0:
  CdxBitReaderDestroy(puVar3);
  return puVar4;
}



undefined4 * parsePID(uint param_1,undefined4 param_2,int param_3,int param_4,int param_5)

{
  undefined4 *puVar1;
  char *pcVar2;
  int iVar3;
  undefined4 *puVar4;
  uint uVar5;
  char *pcVar6;
  undefined4 *local_24;
  
  local_24 = (undefined4 *)0x0;
  puVar1 = findPSISectionByPID(param_1,param_3);
  if (puVar1 == (undefined4 *)0x0) {
    if ((*(int *)(param_1 + 0xa4) == 1) && (param_3 - 0x1fc8U < 8)) {
      FUN_00015158(param_1,param_3);
      FUN_0001533c(param_1,0xffffffff,param_3);
      puVar1 = findPSISectionByPID(param_1,param_3);
      if (puVar1 != (undefined4 *)0x0) goto LAB_00017d0c;
    }
    puVar1 = *(undefined4 **)(undefined4 *)(param_1 + 0x90);
    while (puVar1 != (undefined4 *)(param_1 + 0x90)) {
      iVar3 = ProgramParsePID((int)puVar1,param_3,param_4,param_5,param_2,(int *)&local_24);
      if (iVar3 != 0) {
        return local_24;
      }
      puVar1 = (undefined4 *)*puVar1;
    }
    puVar4 = (undefined4 *)0x0;
  }
  else {
LAB_00017d0c:
    if (param_5 != 0) {
      pcVar2 = (char *)CdxBitReaderGetBits(param_2,8);
      if (pcVar2 != (char *)0x0) {
        iVar3 = PSISectionIsEmpty((int)puVar1);
        if (iVar3 == 0) {
          CdxBitReaderData(param_2);
          pcVar6 = pcVar2;
          FUN_00015d44((char **)puVar1[4]);
          local_24 = parsePSISection(param_1,puVar1,pcVar6);
        }
        CdxBitReaderSkipBits(param_2,(int)pcVar2 << 3);
      }
      puVar1[3] = 1;
    }
    puVar4 = (undefined4 *)puVar1[3];
    if (puVar4 != (undefined4 *)0x0) {
      CdxBitReaderData(param_2);
      uVar5 = CdxBitReaderNumBitsLeft(param_2);
      pcVar2 = (char *)(uVar5 >> 3);
      FUN_00015d44((char **)puVar1[4]);
      puVar4 = PSISectionIsComplete((int)puVar1);
      if (puVar4 != (undefined4 *)0x0) {
        puVar4 = parsePSISection(param_1,puVar1,pcVar2);
      }
    }
  }
  return puVar4;
}



undefined4 * parseTS(uint param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  
  CdxBitReaderGetBits(param_2,8,param_3,param_4,param_1,param_2,param_3,param_4);
  iVar1 = CdxBitReaderGetBits(param_2,1);
  if (iVar1 == 0) {
    iVar1 = CdxBitReaderGetBits(param_2,1);
    CdxBitReaderGetBits(param_2,1);
    iVar3 = CdxBitReaderGetBits(param_2,0xd);
    puVar2 = (undefined4 *)(uint)*(byte *)(param_1 + iVar3 + 0x138);
    if (puVar2 != (undefined4 *)0x0) {
      CdxBitReaderGetBits(param_2,2);
      iVar4 = CdxBitReaderGetBits(param_2,2);
      iVar5 = CdxBitReaderGetBits(param_2,4);
      if (iVar4 - 2U < 2) {
        if (iVar4 == 2) {
          return (undefined4 *)0x0;
        }
        uVar6 = CdxBitReaderGetBits(param_2,8);
        if (0xb6 < uVar6) {
          __android_log_print(6,"awplayer",&DAT_00028a8f,"parseTS",0x155,uVar6,
                              *(undefined4 *)(param_1 + 0xdc));
          return (undefined4 *)0x0;
        }
        CdxBitReaderSkipBits(param_2,uVar6 << 3);
      }
      puVar2 = (undefined4 *)(uint)(iVar4 == 1);
      if (iVar4 == 3) {
        puVar2 = (undefined4 *)0x1;
      }
      if (puVar2 != (undefined4 *)0x0) {
        puVar2 = parsePID(param_1,param_2,iVar3,iVar5,iVar1);
      }
    }
  }
  else {
    __android_log_print(6,"awplayer",&DAT_00028a5b,"parseTS",0x130,iVar1);
    puVar2 = (undefined4 *)0x0;
  }
  return puVar2;
}



undefined4 * feedTSPacket(uint param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  
  uVar1 = CdxBitReaderCreate(param_2,0xbc);
  puVar2 = parseTS(param_1,uVar1,param_3,param_4);
  *(int *)(param_1 + 0xdc) = *(int *)(param_1 + 0xdc) + 1;
  CdxBitReaderDestroy(uVar1);
  return puVar2;
}



undefined4 AdjustBufferOfStreams(int param_1)

{
  undefined4 uVar1;
  void *pvVar2;
  undefined *puVar3;
  undefined4 *puVar4;
  
  puVar4 = *(undefined4 **)(param_1 + 0x14);
  while (puVar4 != (undefined4 *)(param_1 + 0x14)) {
    if (puVar4 == *(undefined4 **)(*(int *)(param_1 + 0x2c) + 0x11c)) {
      CdxBufferDestroy(puVar4[8]);
      CdxBufferDestroy(puVar4[0x10]);
      uVar1 = __CdxBufferCreate(0,0x100000,0,0,
                                                                
                                "/home/zhangjingzhou/sdk/v3-cdr-ips2.0-0104/CamCedarX/LIBRARY/DEMUX/PARSER/ts/CdxTsParser.c"
                                ,0x8f3);
      puVar4[8] = uVar1;
      uVar1 = __CdxBufferCreate(0,0x100000,0,0,
                                                                
                                "/home/zhangjingzhou/sdk/v3-cdr-ips2.0-0104/CamCedarX/LIBRARY/DEMUX/PARSER/ts/CdxTsParser.c"
                                ,0x8f4);
      puVar4[0x10] = uVar1;
      pvVar2 = malloc(0x200000);
      puVar3 = (undefined *)0x200000;
      puVar4[0x39] = pvVar2;
    }
    else {
      if (puVar4 == *(undefined4 **)(*(int *)(param_1 + 0x2c) + 0x124)) {
        CdxBufferDestroy();
        CdxBufferDestroy(puVar4[0x10]);
        uVar1 = __CdxBufferCreate(0,0x80000,0,0,
                                                                    
                                  "/home/zhangjingzhou/sdk/v3-cdr-ips2.0-0104/CamCedarX/LIBRARY/DEMUX/PARSER/ts/CdxTsParser.c"
                                  ,0x8fe);
        puVar4[8] = uVar1;
        uVar1 = __CdxBufferCreate(0,0x80000,0,0,
                                                                    
                                  "/home/zhangjingzhou/sdk/v3-cdr-ips2.0-0104/CamCedarX/LIBRARY/DEMUX/PARSER/ts/CdxTsParser.c"
                                  ,0x8ff);
        puVar4[0x10] = uVar1;
        pvVar2 = malloc(0x100000);
        puVar3 = (undefined *)0x100000;
        puVar4[0x39] = pvVar2;
      }
      else {
        FUN_00015ac4((char **)puVar4[8]);
        FUN_00015ac4((char **)puVar4[0x10]);
        pvVar2 = malloc((size_t)&LAB_00025800);
        puVar3 = &LAB_00025800;
        puVar4[0x39] = pvVar2;
      }
    }
    puVar4[0x3a] = puVar3;
    puVar4[0x25] = 0;
    puVar4[0x24] = 0;
    puVar4[0x1a] = 0;
    puVar4[0x18] = 0;
    puVar4 = (undefined4 *)*puVar4;
  }
  return 0;
}



undefined4 ResetStreamsInProgram(int param_1)

{
  undefined4 *puVar1;
  
  puVar1 = *(undefined4 **)(undefined4 *)(param_1 + 0x14);
  while (puVar1 != (undefined4 *)(param_1 + 0x14)) {
    puVar1[0x25] = 0;
    puVar1[0x24] = 0;
    puVar1[0x1a] = 0;
    puVar1[0x18] = 0;
    FUN_00015ac4((char **)puVar1[8]);
    FUN_00015ac4((char **)puVar1[0x10]);
    puVar1 = (undefined4 *)*puVar1;
  }
  return 0;
}



undefined4 ResetPSISection(int param_1)

{
  undefined4 *puVar1;
  
  puVar1 = *(undefined4 **)(undefined4 *)(param_1 + 0x88);
  while (puVar1 != (undefined4 *)(param_1 + 0x88)) {
    PSISectionClear((int)puVar1);
    puVar1 = (undefined4 *)*puVar1;
  }
  return 0;
}



undefined8 PrintCacheBuffer(int *param_1,undefined4 param_2,undefined4 param_3)

{
  undefined4 uVar1;
  
  if (((param_1 == (int *)0x0) || (*param_1 == 0)) || (uVar1 = 0, param_1[1] == 0)) {
    param_1 = (int *)0xa82;
    __android_log_print(6,"awplayer",&DAT_00028ae2,"PrintCacheBuffer",0xa82,param_2,param_3);
    uVar1 = 0xffffffff;
  }
  return CONCAT44(param_1,uVar1);
}



undefined8 ProbePTS(char *param_1,int param_2,int param_3)

{
  uint uVar1;
  uint uVar2;
  char *pcVar3;
  byte *pbVar4;
  char *pcVar5;
  int iVar6;
  
  iVar6 = *(int *)(param_3 + 0xa0);
  pcVar5 = param_1 + (param_2 - iVar6);
  while (param_1 <= pcVar5) {
    if (*(int *)(param_3 + 0x214c) != 0) goto LAB_00018212;
    if (*param_1 != 'G') {
      while ((pcVar3 = param_1 + 1, *param_1 != 'G' || (pcVar3[iVar6 + -1] != 'G'))) {
        param_1 = pcVar3;
        if (pcVar5 < pcVar3) goto LAB_000181fa;
      }
      if (pcVar5 <= param_1) break;
    }
    if (((int)((uint)(byte)param_1[1] << 0x19) < 0) &&
       (*(char *)(param_3 + (CONCAT11(param_1[1],param_1[2]) & 0x1fff) + 0x138) != '\0')) {
      uVar1 = ((uint)(byte)param_1[3] << 0x1a) >> 0x1e;
      uVar2 = 1 - uVar1;
      if (1 < uVar1) {
        uVar2 = 0;
      }
      if (uVar1 == 2) {
        uVar2 = uVar2 | 1;
      }
      if (uVar2 == 0) {
        pbVar4 = (byte *)(param_1 + 4);
        if (uVar1 == 3) {
          pbVar4 = pbVar4 + (byte)param_1[4] + 1;
        }
        if (pbVar4 < param_1 + 0xbc) {
          while (pbVar4 < param_1 + 0xaf) {
            if (((uint)pbVar4[1] << 8 | (uint)*pbVar4 << 0x10 | (uint)pbVar4[2]) == 1) {
              uVar2 = pbVar4[3] | 0x100;
              uVar1 = uVar2 - 0x1bd;
              if (uVar1 != 0) {
                uVar1 = 1;
              }
              if (uVar2 - 0x1c0 < 0x30) {
                uVar1 = 0;
              }
              else {
                uVar1 = uVar1 & 1;
              }
              if (((uVar1 == 0) || (uVar2 == 0x1fd)) && ((pbVar4[7] & 0xc0) != 0)) {
                uVar2 = (pbVar4[9] & 0xe) >> 3;
                uVar1 = (uint)pbVar4[0xc] << 7 | (uint)pbVar4[10] << 0x16 | (uint)(pbVar4[0xd] >> 1)
                        | (pbVar4[9] & 0xe) << 0x1d | (pbVar4[0xb] & 0xfe) << 0xe;
                if ((uVar1 ^ 0xffffffff | uVar2 ^ 1) != 0) goto LAB_0001821a;
              }
            }
            pbVar4 = pbVar4 + 1;
          }
        }
      }
    }
    param_1 = param_1 + iVar6;
  }
LAB_000181fa:
  __android_log_print(5,"awplayer","<%s:%u>: not found pts","ProbePTS",0xcae);
LAB_00018212:
  uVar1 = 0xffffffff;
  uVar2 = 0xffffffff;
LAB_0001821a:
  return CONCAT44(uVar2,uVar1);
}



undefined8 ProbeLastPTS(char *param_1,int param_2,int param_3)

{
  int iVar1;
  undefined4 uVar2;
  uint uVar3;
  char *pcVar4;
  uint uVar5;
  byte *pbVar6;
  char *pcVar7;
  ulonglong uVar8;
  
  pcVar7 = param_1 + param_2;
  iVar1 = -*(int *)(param_3 + 0xa0);
  while (pcVar7 = pcVar7 + iVar1, param_1 <= pcVar7) {
    if (*(int *)(param_3 + 0x214c) != 0) goto LAB_000183de;
    pcVar4 = pcVar7;
    if (*pcVar7 != 'G') {
      do {
        pcVar7 = pcVar4;
        if (pcVar7 < param_1 + *(int *)(param_3 + 0xa0)) break;
        pcVar4 = pcVar7 + -1;
      } while ((*pcVar7 != 'G') || (pcVar4[iVar1 + 1] != 'G'));
      if (pcVar7 <= param_1) break;
    }
    if (((int)((uint)(byte)pcVar7[1] << 0x19) < 0) &&
       (*(char *)(param_3 + (CONCAT11(pcVar7[1],pcVar7[2]) & 0x1fff) + 0x138) != '\0')) {
      uVar5 = ((uint)(byte)pcVar7[3] << 0x1a) >> 0x1e;
      uVar3 = 1 - uVar5;
      if (1 < uVar5) {
        uVar3 = 0;
      }
      if (uVar5 == 2) {
        uVar3 = uVar3 | 1;
      }
      if (uVar3 == 0) {
        pbVar6 = (byte *)(pcVar7 + 4);
        if (uVar5 == 3) {
          pbVar6 = pbVar6 + (byte)pcVar7[4] + 1;
        }
        if (pbVar6 < pcVar7 + 0xbc) {
          while (pbVar6 < pcVar7 + 0xaf) {
            if (((uint)pbVar6[1] << 8 | (uint)*pbVar6 << 0x10 | (uint)pbVar6[2]) == 1) {
              uVar3 = pbVar6[3] | 0x100;
              uVar5 = uVar3 - 0x1bd;
              if (uVar5 != 0) {
                uVar5 = 1;
              }
              if (uVar3 - 0x1c0 < 0x30) {
                uVar5 = 0;
              }
              else {
                uVar5 = uVar5 & 1;
              }
              if (((uVar5 == 0) || (uVar3 == 0x1fd)) && ((pbVar6[7] & 0xc0) != 0)) {
                uVar3 = (pbVar6[9] & 0xe) >> 3;
                uVar8 = (ulonglong)pbVar6[0xc] << 7 | (ulonglong)pbVar6[10] << 0x16 |
                        (ulonglong)(pbVar6[0xd] >> 1) | CONCAT44(uVar3,(pbVar6[9] & 0xe) << 0x1d) |
                        (ulonglong)((pbVar6[0xb] & 0xfe) << 0xe);
                uVar2 = (undefined4)uVar8;
                uVar8 = uVar8 ^ 0x1ffffffff;
                if (((uint)(uVar8 >> 0x20) | (uint)uVar8) != 0) goto LAB_000183e6;
              }
            }
            pbVar6 = pbVar6 + 1;
          }
        }
      }
    }
  }
  __android_log_print(5,"awplayer","<%s:%u>: not found last pts","ProbeLastPTS",0xd12);
LAB_000183de:
  uVar2 = 0xffffffff;
  uVar3 = 0xffffffff;
LAB_000183e6:
  return CONCAT44(uVar3,uVar2);
}



undefined4 ProbeByteRate(char *param_1,uint param_2,int param_3)

{
  uint *puVar1;
  undefined8 *puVar2;
  longlong lVar3;
  undefined8 uVar4;
  int iVar5;
  undefined4 uVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  uint *puVar11;
  uint uVar12;
  int *piVar13;
  uint uVar14;
  int iVar15;
  uint uVar16;
  undefined4 uVar17;
  int *piVar18;
  uint uVar19;
  uint uVar20;
  uint uVar21;
  bool bVar22;
  undefined4 extraout_s0;
  undefined4 extraout_s0_00;
  undefined4 extraout_s0_01;
  undefined8 extraout_d0;
  undefined8 extraout_d0_00;
  undefined8 extraout_d0_01;
  ulonglong uVar23;
  undefined8 uVar24;
  longlong lVar25;
  uint local_110;
  uint uStack268;
  undefined8 local_108;
  int local_100 [10];
  int aiStack216 [20];
  undefined8 local_88;
  uint local_80 [21];
  
  uVar12 = *(uint *)(param_3 + 0x10) - *(uint *)(param_3 + 0x10c);
  iVar15 = *(int *)(param_3 + 0x14) - (uint)(*(uint *)(param_3 + 0x10) < *(uint *)(param_3 + 0x10c))
  ;
  *(uint *)(param_3 + 0x18) = uVar12;
  *(int *)(param_3 + 0x1c) = iVar15;
  uVar23 = __aeabi_ldivmod(uVar12,iVar15,10,0);
  uVar8 = (uint)(uVar23 >> 0x20);
  piVar13 = *(int **)(param_3 + 8);
  bVar22 = param_2 * 10 <= uVar12;
  if ((int)(iVar15 - (uint)!bVar22) < 0 !=
      (iVar15 < 0 && (int)(iVar15 + -1 + (uint)bVar22) < 0 != iVar15 < 0)) {
    if ((~*(uint *)(*(int *)(param_3 + 0x134) + 0x30) | ~*(uint *)(*(int *)(param_3 + 0x134) + 0x34)
        ) == 0) {
      __android_log_print(extraout_s0,6,"awplayer",&DAT_00027eda,"ProbeByteRate",0xdc9);
    }
    puVar2 = (undefined8 *)(*(int *)(param_3 + 0x134) + 0x30);
    uVar8 = *(uint *)puVar2;
    iVar15 = *(int *)(*(int *)(param_3 + 0x134) + 0x34);
    uVar4 = *puVar2;
    uVar24 = *puVar2;
    uVar12 = *(uint *)(param_3 + 0x14);
    bVar22 = *(uint *)(undefined8 *)(param_3 + 0x10) <= param_2;
    if ((int)(-(uint)!bVar22 - uVar12) < 0 == ((int)uVar12 < 0 && (int)(~uVar12 + (uint)bVar22) < 0)
       ) {
      iVar5 = FUN_00015ee8(piVar13);
      if (-1 < iVar5) {
LAB_00018870:
        iVar5 = FUN_00015524(piVar13);
        if (iVar5 < 0) {
          return 0xffffffff;
        }
        uVar23 = ProbeLastPTS(param_1,iVar5,param_3);
        uVar16 = (uint)(uVar23 >> 0x20);
        uVar12 = (uint)uVar23;
        if (((int)((iVar15 - uVar16) - (uint)(uVar12 > uVar8)) < 0 !=
             (iVar15 < 0 == -1 < (longlong)uVar23 &&
             (int)(iVar15 + ~uVar16 + (uint)(uVar12 <= uVar8)) < 0 != iVar15 < 0)) &&
           (lVar25 = VectorAdd(uVar24,323999999,8), iVar15 = (int)((ulonglong)lVar25 >> 0x20),
           bVar22 = uVar12 <= (uint)lVar25,
           (int)((iVar15 - uVar16) - (uint)!bVar22) < 0 ==
           (lVar25 < 0 == -1 < (longlong)uVar23 &&
           (int)(iVar15 + ~uVar16 + (uint)bVar22) < 0 != lVar25 < 0))) {
          uVar24 = VectorSub(((ulonglong)uVar16 << 0x20) + (uVar23 & 0xffffffff),uVar4,8);
          lVar25 = (ulonglong)*(uint *)(param_3 + 0x18) * 1000;
          uVar6 = (undefined4)((ulonglong)uVar24 >> 0x20);
          lVar25 = __aeabi_ldivmod((int)lVar25,
                                   *(int *)(param_3 + 0x1c) * 1000 +
                                   (int)((ulonglong)lVar25 >> 0x20),(int)uVar24,uVar6);
          *(int *)(param_3 + 0x30) = (int)(lVar25 * 0x5a);
          *(int *)(param_3 + 0x34) = (int)((ulonglong)(lVar25 * 0x5a) >> 0x20);
          uVar24 = __aeabi_ldivmod(extraout_s0_01,(int)uVar24,uVar6,0x5a,0);
          *(undefined4 *)(param_3 + 0x38) = 0;
          *(int *)(param_3 + 0x28) = (int)uVar24;
          *(int *)(param_3 + 0x2c) = (int)((ulonglong)uVar24 >> 0x20);
          return 0;
        }
        if (*(int *)(param_3 + 0xa0) == 0xc0) {
          *(undefined4 *)(param_3 + 0x30) = 0x3c0000;
          *(undefined4 *)(param_3 + 0x34) = 0;
          lVar25 = (ulonglong)*(uint *)(param_3 + 0x18) * 1000;
          uVar6 = (undefined4)lVar25;
          iVar15 = *(int *)(param_3 + 0x1c) * 1000 + (int)((ulonglong)lVar25 >> 0x20);
          uVar17 = 0x3c0000;
        }
        else {
          *(undefined4 *)(param_3 + 0x30) = 0x280000;
          *(undefined4 *)(param_3 + 0x34) = 0;
          lVar25 = (ulonglong)*(uint *)(param_3 + 0x18) * 1000;
          uVar6 = (undefined4)lVar25;
          iVar15 = *(int *)(param_3 + 0x1c) * 1000 + (int)((ulonglong)lVar25 >> 0x20);
          uVar17 = 0x280000;
        }
        uVar24 = __aeabi_uldivmod(uVar6,iVar15,uVar17,0);
        *(undefined4 *)(param_3 + 0x38) = 1;
        *(int *)(param_3 + 0x28) = (int)uVar24;
        *(int *)(param_3 + 0x2c) = (int)((ulonglong)uVar24 >> 0x20);
        return 0;
      }
      uVar6 = 0xdd1;
    }
    else {
      VectorSub(*(undefined8 *)(param_3 + 0x10),(ulonglong)param_2,8);
      iVar5 = FUN_00015ee8(piVar13);
      if (-1 < iVar5) goto LAB_00018870;
      uVar6 = 0xddf;
    }
LAB_00018866:
    __android_log_print(6,"awplayer",&DAT_00028b40,"ProbeByteRate",uVar6);
    return 0xffffffff;
  }
  iVar15 = 0;
  local_108 = 0;
  lVar25 = 0;
  uVar12 = 0;
  piVar18 = aiStack216;
  uVar24 = local_108;
  do {
    local_108 = uVar24;
    uVar4 = local_108;
    *piVar18 = 0;
    piVar18[1] = 0;
    iVar5 = FUN_00015ee8(piVar13);
    if (iVar5 < 0) {
      uVar6 = 0xd33;
      goto LAB_00018866;
    }
    iVar5 = FUN_00015524(piVar13);
    if (iVar5 < 0) {
      return 0xffffffff;
    }
    if (iVar5 != 0) {
      uVar24 = ProbePTS(param_1,iVar5,param_3);
      *piVar18 = (int)uVar24;
      piVar18[1] = (int)((ulonglong)uVar24 >> 0x20);
    }
    if (*(uint *)(param_3 + 0x214c) != 0) {
      return 0xffffffff;
    }
    if ((iVar15 == 9) &&
       (bVar22 = (uint)uVar23 <= param_2,
       (int)(-(uint)!bVar22 - uVar8) < 0 !=
       ((longlong)uVar23 < 0 && (int)(~uVar8 + (uint)bVar22) < 0))) {
      VectorSub(*(undefined8 *)(param_3 + 0x10),(ulonglong)param_2,8);
      iVar5 = FUN_00015ee8(piVar13);
      if (iVar5 < 0) {
        uVar6 = 0xd4a;
        goto LAB_00018866;
      }
      iVar5 = FUN_00015524(piVar13);
      if (iVar5 < 0) {
        return 0xffffffff;
      }
      lVar25 = ProbeLastPTS(param_1,iVar5,param_3);
    }
    iVar5 = *piVar18;
    uVar9 = piVar18[1];
    uVar16 = uVar12;
    if ((int)(uVar9 - (iVar5 == 0)) < 0 ==
        ((int)uVar9 < 0 && (int)((uVar9 - 1) + (uint)(iVar5 != 0)) < 0 != (int)uVar9 < 0)) {
      *(int *)(&local_88 + uVar12) = iVar5;
      local_80[uVar12 * 2 + -1] = uVar9;
      uVar16 = uVar12 + 1;
      local_100[uVar12] = iVar15;
    }
    uStack268 = (uint)((ulonglong)lVar25 >> 0x20);
    local_110 = (uint)lVar25;
    uVar9 = *(uint *)(param_3 + 0x214c);
    if (uVar9 != 0) {
      return 0xffffffff;
    }
    iVar15 = iVar15 + 1;
    uVar24 = VectorAdd(local_108,uVar23,8);
    uVar12 = uVar16;
    piVar18 = piVar18 + 2;
  } while (iVar15 != 10);
  uVar12 = uVar16 - 1;
  puVar11 = local_80;
  if (1 < uVar16) {
    do {
      uVar14 = uVar9;
      if (uVar12 <= uVar14) break;
      puVar1 = puVar11 + -2;
      uVar10 = puVar11[-1];
      uVar20 = *puVar11;
      uVar7 = puVar11[1];
      uVar9 = uVar14 + 1;
      puVar11 = puVar11 + 2;
    } while ((int)((uVar7 - uVar10) - (uint)(*puVar1 > uVar20)) < 0 ==
             ((int)uVar7 < 0 == -1 < (int)uVar10 &&
             (int)(uVar7 + ~uVar10 + (uint)(*puVar1 <= uVar20)) < 0 != (int)uVar7 < 0));
    uVar9 = *(uint *)(&local_88 + uVar12);
    uVar20 = local_80[uVar12 * 2 + -1];
    local_108 = CONCAT44(uVar20,uVar9);
    uVar6 = (undefined4)uVar4;
    if ((uVar14 == uVar12) &&
       (((uint)((int)((uStack268 - uVar20) - (uint)(uVar9 > local_110)) < 0 ==
               (lVar25 < 0 == -1 < (int)uVar20 &&
               (int)(uStack268 + ~uVar20 + (uint)(uVar9 <= local_110)) < 0 != lVar25 < 0)) |
        uStack268 >> 0x1f) != 0)) {
      uVar12 = (uint)((int)(uStack268 - (local_110 == 0)) < 0 ==
                     (lVar25 < 0 &&
                     (int)((uStack268 - 1) + (uint)(local_110 != 0)) < 0 != lVar25 < 0));
      if (local_100[uVar14] != 9) {
        uVar12 = 0;
      }
      if (uVar12 == 0) {
        uVar24 = VectorSub(local_108,CONCAT44(local_88._4_4_,(uint)local_88),8);
        uVar23 = (uVar23 & 0xffffffff) * 1000;
        uVar16 = local_100[uVar14] - local_100[0];
        lVar25 = (uVar23 & 0xffffffff) * (ulonglong)uVar16;
        lVar25 = __aeabi_ldivmod(uVar6,(int)lVar25,
                                 uVar16 * (uVar8 * 1000 + (int)(uVar23 >> 0x20)) +
                                 (int)((ulonglong)lVar25 >> 0x20),(int)uVar24,
                                 (int)((ulonglong)uVar24 >> 0x20));
        uVar23 = lVar25 * 0x5a;
        local_108 = extraout_d0_00;
      }
      else {
        lVar3 = (ulonglong)*(uint *)(param_3 + 0x18) * 1000;
        uVar8 = *(uint *)(*(int *)(param_3 + 0x134) + 0x30);
        uVar12 = *(uint *)(*(int *)(param_3 + 0x134) + 0x34);
        if ((int)((local_88._4_4_ - uVar12) - (uint)(uVar8 > (uint)local_88)) < 0 !=
            ((int)local_88._4_4_ < 0 == -1 < (int)uVar12 &&
            (int)(local_88._4_4_ + ~uVar12 + (uint)(uVar8 <= (uint)local_88)) < 0 !=
            (int)local_88._4_4_ < 0)) {
          uVar8 = (uint)local_88;
          uVar12 = local_88._4_4_;
        }
        uVar24 = VectorSub(lVar25,CONCAT44(uVar12,uVar8),8);
        lVar25 = __aeabi_ldivmod(uVar6,(int)lVar3,
                                 *(int *)(param_3 + 0x1c) * 1000 + (int)((ulonglong)lVar3 >> 0x20),
                                 (int)uVar24,(int)((ulonglong)uVar24 >> 0x20));
        uVar23 = lVar25 * 0x5a;
        uVar12 = 0;
        local_108 = extraout_d0;
      }
    }
    else {
      local_108 = __android_log_print(uVar6,5,"awplayer","<%s:%u>: pts loop back","ProbeByteRate",
                                      0xd8c);
      uVar12 = 0;
      *(undefined4 *)(&local_88 + uVar16) = 0;
      local_80[uVar16 * 2 + -1] = 0;
      uVar20 = 0;
      uVar9 = 0;
      uVar14 = 0;
      puVar11 = local_80;
      do {
        uVar10 = puVar11[-1];
        uVar7 = uVar14 + 1;
        uVar19 = *puVar11;
        uVar21 = puVar11[1];
        bVar22 = uVar19 <= puVar11[-2];
        if ((((int)((uVar10 - uVar21) - (uint)!bVar22) < 0 ==
              ((int)uVar10 < 0 == -1 < (int)uVar21 &&
              (int)(uVar10 + ~uVar21 + (uint)bVar22) < 0 != (int)uVar10 < 0)) ||
            (lVar25 = VectorAdd(*(undefined8 *)(puVar11 + -2),3600000,8),
            iVar15 = (int)((ulonglong)lVar25 >> 0x20), bVar22 = uVar19 <= (uint)lVar25,
            uVar10 = uVar9,
            (int)((iVar15 - uVar21) - (uint)!bVar22) < 0 !=
            (lVar25 < 0 == -1 < (int)uVar21 &&
            (int)(iVar15 + ~uVar21 + (uint)bVar22) < 0 != lVar25 < 0))) &&
           (uVar10 = uVar7, uVar12 < uVar14 - uVar9)) {
          uVar12 = uVar14 - uVar9;
          uVar20 = uVar9;
        }
        uVar9 = uVar10;
        uVar14 = uVar7;
        puVar11 = puVar11 + 2;
      } while (uVar7 != uVar16);
      if (uVar12 == 0) goto LAB_00018758;
      uVar23 = (uVar23 & 0xffffffff) * 1000;
      lVar25 = (uVar23 & 0xffffffff) * (ulonglong)uVar12;
      uVar24 = VectorSub((&local_88)[uVar12 + uVar20],(&local_88)[uVar20],8);
      lVar25 = __aeabi_ldivmod((int)local_108,(int)lVar25,
                               uVar12 * (uVar8 * 1000 + (int)(uVar23 >> 0x20)) +
                               (int)((ulonglong)lVar25 >> 0x20),(int)uVar24,
                               (int)((ulonglong)uVar24 >> 0x20));
      uVar23 = lVar25 * 0x5a;
      uVar12 = 1;
      local_108 = extraout_d0_01;
    }
    uVar6 = (undefined4)local_108;
    if (uVar23 != 0) goto LAB_0001876c;
  }
LAB_00018758:
  uVar6 = (undefined4)local_108;
  if (*(int *)(param_3 + 0xa0) == 0xc0) {
    uVar8 = 0x3c0000;
  }
  else {
    uVar8 = 0x280000;
  }
  uVar23 = (ulonglong)uVar8;
  uVar12 = 1;
LAB_0001876c:
  *(uint *)(param_3 + 0x38) = uVar12;
  *(int *)(param_3 + 0x30) = (int)uVar23;
  lVar25 = (ulonglong)*(uint *)(param_3 + 0x18) * 1000;
  uVar17 = (undefined4)lVar25;
  *(int *)(param_3 + 0x34) = (int)(uVar23 >> 0x20);
  iVar5 = *(int *)(param_3 + 0x1c) * 1000 + (int)((ulonglong)lVar25 >> 0x20);
  uVar24 = __aeabi_uldivmod(uVar6,uVar17,iVar5);
  iVar15 = (int)((ulonglong)uVar24 >> 0x20);
  *(uint *)(param_3 + 0x28) = (uint)uVar24;
  *(int *)(param_3 + 0x2c) = iVar15;
  if (36000000 < (uint)uVar24 || iVar15 != 0) {
    if (*(int *)(param_3 + 0xa0) == 0xc0) {
      uVar6 = 0x3c0000;
    }
    else {
      uVar6 = 0x280000;
    }
    *(undefined4 *)(param_3 + 0x30) = uVar6;
    *(undefined4 *)(param_3 + 0x34) = 0;
    uVar24 = __aeabi_uldivmod(extraout_s0_00,uVar17,iVar5);
    *(int *)(param_3 + 0x28) = (int)uVar24;
    *(int *)(param_3 + 0x2c) = (int)((ulonglong)uVar24 >> 0x20);
  }
  return 0;
}



undefined4 SubmitLastData(int param_1)

{
  undefined4 *puVar1;
  
  if (*(int *)(param_1 + 0x134) != 0) {
    puVar1 = *(undefined4 **)(*(int *)(param_1 + 0x134) + 0x14);
    while (puVar1 != (undefined4 *)(*(int *)(param_1 + 0x134) + 0x14)) {
      StreamFlush(puVar1);
      if (*(int *)(param_1 + 0xf8) != 0) {
        return 0;
      }
      puVar1 = (undefined4 *)*puVar1;
    }
  }
  *(undefined4 *)(param_1 + 0x2150) = 7;
  return 0xffffffff;
}



undefined4 * GetEs(uint param_1,undefined4 *param_2)

{
  longlong lVar1;
  undefined4 *puVar2;
  uint uVar3;
  undefined4 uVar4;
  uint uVar5;
  int iVar6;
  void *pvVar7;
  undefined4 *puVar8;
  uint uVar9;
  uint uVar10;
  bool bVar11;
  undefined8 uVar12;
  undefined4 auStack27840 [6];
  undefined auStack27816 [48];
  undefined auStack27768 [4608];
  undefined auStack23160 [9216];
  undefined auStack13944 [72];
  undefined auStack13872 [4608];
  undefined auStack9264 [9220];
  int local_2c;
  
  uVar10 = *(uint *)(param_1 + 0xa0);
  local_2c = __stack_chk_guard;
LAB_00018e4a:
  while (*(int *)(param_1 + 0xf8) == 0) {
    if (*(int *)(param_1 + 0x214c) != 0) goto LAB_00018f6e;
    do {
      puVar8 = (undefined4 *)FUN_000155c8(param_1);
      if ((int)puVar8 < 0) {
        __android_log_print(6,"awplayer",&DAT_00028b7f,"GetEs",0x1011);
        goto LAB_00018f72;
      }
      uVar3 = *(uint *)(param_1 + 0x104);
    } while ((puVar8 != (undefined4 *)0x0) && (uVar3 < uVar10));
    if (uVar3 < uVar10) {
      if (0xbb < uVar3) {
        uVar3 = *(uint *)(param_1 + 0x110);
        iVar6 = *(int *)(param_1 + 0x10c);
        uVar9 = uVar3 - iVar6;
        if (uVar9 < 0xbc && 0 < (int)uVar3) {
          pvVar7 = *(void **)(param_1 + 0x114);
          memcpy(pvVar7,(void *)(iVar6 + *(int *)(param_1 + 0xfc)),uVar9);
          memcpy((void *)((int)pvVar7 + uVar9),*(void **)(param_1 + 0xfc),0xbc - uVar9);
          *(size_t *)(param_1 + 0x10c) = 0xbc - uVar9;
          *(undefined4 *)(param_1 + 0x110) = 0xffffffff;
        }
        else {
          pvVar7 = (void *)(*(int *)(param_1 + 0xfc) + iVar6);
          uVar9 = iVar6 + 0xbc;
          *(uint *)(param_1 + 0x10c) = uVar9;
          if (0 < (int)uVar3) {
            bVar11 = uVar3 <= uVar9;
            if (bVar11) {
              *(undefined4 *)(param_1 + 0x10c) = 0;
              uVar3 = 0xffffffff;
            }
            if (bVar11) {
              *(uint *)(param_1 + 0x110) = uVar3;
            }
          }
        }
        *(int *)(param_1 + 0x104) = *(int *)(param_1 + 0x104) + -0xbc;
        puVar8 = feedTSPacket(param_1,pvVar7,0xbc,uVar3);
        if (puVar8 != (undefined4 *)0x0) {
          uVar4 = 0x1039;
          goto LAB_00018bd4;
        }
      }
      if (*(int *)(param_1 + 0xf8) == 0) {
        if (*(int *)(param_1 + 0x5848) == 0) {
          *(undefined4 *)(param_1 + 0x2150) = 7;
        }
        else {
          SubmitLastData(param_1);
        }
      }
      break;
    }
    iVar6 = *(int *)(param_1 + 0x10c);
    uVar5 = *(int *)(param_1 + 0x110) - iVar6;
    uVar9 = (uint)(0 < *(int *)(param_1 + 0x110));
    uVar3 = uVar9;
    if (0xbb < uVar5) {
      uVar3 = 0;
    }
    if (uVar3 == 0) {
      if (uVar10 < uVar5) {
        uVar9 = 0;
      }
      pvVar7 = (void *)(*(int *)(param_1 + 0xfc) + iVar6);
      if (uVar9 == 0) {
        *(uint *)(param_1 + 0x10c) = iVar6 + uVar10;
      }
      else {
        uVar9 = 0xffffffff;
        *(undefined4 *)(param_1 + 0x110) = 0xffffffff;
        *(uint *)(param_1 + 0x10c) = uVar10 - uVar5;
      }
    }
    else {
      pvVar7 = *(void **)(param_1 + 0x114);
      memcpy(pvVar7,(void *)(*(int *)(param_1 + 0xfc) + iVar6),uVar5);
      memcpy((void *)((int)pvVar7 + uVar5),*(void **)(param_1 + 0xfc),0xbc - uVar5);
      *(uint *)(param_1 + 0x10c) = uVar10 - uVar5;
      *(undefined4 *)(param_1 + 0x110) = 0xffffffff;
    }
    *(uint *)(param_1 + 0x104) = *(int *)(param_1 + 0x104) - uVar10;
    puVar8 = feedTSPacket(param_1,pvVar7,0xbc,uVar9);
    if (puVar8 != (undefined4 *)0x0) {
      uVar4 = 0x106c;
LAB_00018bd4:
      __android_log_print(6,"awplayer",&DAT_00028ba2,"GetEs",uVar4);
      *(undefined4 *)(param_1 + 0x2150) = 6;
      goto LAB_00018f72;
    }
    if (*(int *)(param_1 + 0x57e4) == 0) {
      if (*(int *)(param_1 + 0x57e8) != 0) {
        puVar8 = VideoInProgram(*(int *)(param_1 + 0x134));
        *(undefined4 **)(param_1 + 0x11c) = puVar8;
        if (puVar8 != (undefined4 *)0x0) {
          *(undefined4 *)(param_1 + 0x118) = 1;
        }
        FUN_00016bd0(param_1,auStack27840);
        iVar6 = memcmp(auStack27816,(void *)(param_1 + 0x2170),0x32f0);
        if (iVar6 != 0) {
          memcpy(auStack13944,(void *)(param_1 + 0x2158),0x3648);
          memcpy((void *)(param_1 + 0x2158),auStack27840,0x3648);
          if ((*(int *)(param_1 + 0x213c) != 0) && (*(int *)(param_1 + 0x57f8) != 0)) {
            iVar6 = memcmp(auStack23160,auStack9264,0x3c);
            if (iVar6 != 0) {
              __android_log_print(3,"awplayer","<%s:%u>: video stream has changed.","GetEs",0x10db);
              (**(code **)(param_1 + 0x57f8))(*(undefined4 *)(param_1 + 0x57fc),0x100,0);
            }
            iVar6 = memcmp(auStack27768,auStack13872,0x1200);
            if (iVar6 != 0) {
              __android_log_print(3,"awplayer","<%s:%u>: audio streams has changed.","GetEs",0x10e0)
              ;
              (**(code **)(param_1 + 0x57f8))(*(undefined4 *)(param_1 + 0x57fc),0x101,0);
            }
          }
        }
        *(undefined4 *)(param_1 + 0x57e8) = 0;
      }
    }
    else {
      uVar3 = 1;
      puVar8 = *(undefined4 **)(undefined4 *)(param_1 + 0x90);
      while (uVar9 = uVar3, puVar8 != (undefined4 *)(param_1 + 0x90)) {
        if (*(int *)(param_1 + 0x130) < 2) {
          puVar2 = VideoInProgram((int)puVar8);
          if (puVar2 != (undefined4 *)0x0) {
            uVar5 = 1;
            goto LAB_00018c38;
          }
          puVar2 = AudioInProgram((int)puVar8);
          if (puVar2 == (undefined4 *)0x0) {
            uVar3 = 0;
          }
        }
        else {
          uVar5 = puVar8[7];
          uVar9 = uVar5;
          if (uVar5 == 0) goto LAB_00018c38;
        }
        puVar8 = (undefined4 *)*puVar8;
      }
      uVar5 = 0;
LAB_00018c38:
      if ((uVar5 | uVar9) == 0) {
        *(undefined4 *)(param_1 + 0xf8) = 0;
      }
      else {
        iVar6 = FUN_00019010(param_1);
        if ((iVar6 < 0) || (*(int *)(param_1 + 0x134) == 0)) {
          __android_log_print(6,"awplayer",&DAT_00028bc9,"GetEs",0x1096);
          *(undefined4 *)(param_1 + 0x2150) = 6;
          goto LAB_00018f6e;
        }
        FUN_00016bd0(param_1,auStack27840);
        iVar6 = memcmp(auStack27816,(void *)(param_1 + 0x2170),0x32f0);
        if (iVar6 != 0) {
          memcpy(auStack13944,(void *)(param_1 + 0x2158),0x3648);
          memcpy((void *)(param_1 + 0x2158),auStack27840,0x3648);
          if ((*(int *)(param_1 + 0x213c) != 0) && (*(int *)(param_1 + 0x57f8) != 0)) {
            iVar6 = memcmp(auStack23160,auStack9264,0x3c);
            if (iVar6 != 0) {
              __android_log_print(3,"awplayer","<%s:%u>: video stream has changed.","GetEs",0x10a9);
              (**(code **)(param_1 + 0x57f8))(*(undefined4 *)(param_1 + 0x57fc),0x100,0);
            }
            iVar6 = memcmp(auStack27768,auStack13872,0x1200);
            if (iVar6 != 0) {
              __android_log_print(3,"awplayer","<%s:%u>: audio streams has changed.","GetEs",0x10ae)
              ;
              (**(code **)(param_1 + 0x57f8))(*(undefined4 *)(param_1 + 0x57fc),0x101,0);
            }
          }
        }
        *(undefined4 *)(param_1 + 0x57e8) = 0;
        *(undefined4 *)(param_1 + 0xa4) = 0xffffffff;
      }
    }
  }
  if (*(int *)(param_1 + 0xf8) == 0) {
    if (param_2 != (undefined4 *)0x0) {
      param_2[9] = 0;
    }
    __android_log_print(6,"awplayer",&DAT_00028c66,"GetEs",0x1125);
LAB_00018f6e:
    puVar8 = (undefined4 *)0xffffffff;
    goto LAB_00018f72;
  }
  if (param_2 == (undefined4 *)0x0) {
    *(undefined4 *)(param_1 + 0xf8) = 0;
    puVar8 = param_2;
    goto LAB_00018f72;
  }
  memset(param_2,0,0x40);
  iVar6 = *(int *)(param_1 + 0xf8);
  if ((~*(uint *)(iVar6 + 0x78) | ~*(uint *)(iVar6 + 0x7c)) == 0) {
    *(undefined4 *)(iVar6 + 0x80) = 0xffffffff;
    *(undefined4 *)(iVar6 + 0x84) = 0xffffffff;
  }
  else {
    lVar1 = (ulonglong)*(uint *)(iVar6 + 0x78) * 100;
    uVar12 = __aeabi_ldivmod((int)lVar1,
                             *(uint *)(iVar6 + 0x7c) * 100 + (int)((ulonglong)lVar1 >> 0x20),9,0);
    uVar9 = (uint)((ulonglong)uVar12 >> 0x20);
    uVar3 = (uint)uVar12;
    *(uint *)(iVar6 + 0x80) = uVar3;
    *(uint *)(iVar6 + 0x84) = uVar9;
    if (((*(int *)(iVar6 + 0x9c) == 1) ||
        ((*(int *)(iVar6 + 0x9c) == 0 && (*(int *)(iVar6 + 0x10) != 0x20)))) &&
       ((~uVar3 | ~uVar9) != 0)) {
      *(uint *)(param_1 + 0x40) = uVar3;
      *(uint *)(param_1 + 0x44) = uVar9;
    }
  }
  pvVar7 = *(void **)(param_1 + 0xf8);
  iVar6 = *(int *)((int)pvVar7 + 0x9c);
  if (iVar6 == 0) {
    uVar3 = *(uint *)((int)pvVar7 + 0x10);
    bVar11 = uVar3 == 0x20;
    if (bVar11) {
      uVar3 = param_2[10] | 1;
    }
    if (bVar11) {
      param_2[10] = uVar3;
    }
    iVar6 = 0;
LAB_00018eea:
    param_2[8] = iVar6;
  }
  else {
    if (iVar6 == 1) goto LAB_00018eea;
    if (iVar6 != 2) {
      __android_log_print(5,"awplayer","<%s:%u>: Unkown MediaType, should not be here","GetEs",
                          0x1105);
      *(undefined4 *)(param_1 + 0xf8) = 0;
      DestroyStream(pvVar7);
      goto LAB_00018e4a;
    }
    param_2[8] = 2;
    uVar4 = *(undefined4 *)((int)pvVar7 + 0x8c);
    param_2[6] = *(undefined4 *)((int)pvVar7 + 0x88);
    param_2[7] = uVar4;
  }
  if (*(int *)((int)pvVar7 + 0x74) != 0) {
    uVar4 = *(undefined4 *)((int)pvVar7 + 0x84);
    param_2[4] = *(undefined4 *)((int)pvVar7 + 0x80);
    param_2[5] = uVar4;
    param_2[9] = *(undefined4 *)((int)pvVar7 + 0x74);
    param_2[0xb] = *(undefined4 *)((int)pvVar7 + 0x14);
    param_2[10] = param_2[10] | 6;
    puVar8 = (undefined4 *)0x0;
LAB_00018f72:
    if (local_2c == __stack_chk_guard) {
      return puVar8;
    }
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  *(undefined4 *)(param_1 + 0xf8) = 0;
  goto LAB_00018e4a;
}



undefined4 FUN_00019010(int param_1)

{
  bool bVar1;
  byte bVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 *puVar5;
  void **ppvVar6;
  char *pcVar7;
  int iVar8;
  void *pvVar9;
  uint uVar10;
  uint uVar11;
  undefined4 *puVar12;
  undefined4 *puVar13;
  void **ppvVar14;
  uint uVar15;
  uint uVar16;
  void **ppvVar17;
  undefined4 *puVar18;
  void **ppvVar19;
  void **ppvVar20;
  undefined8 uVar21;
  uint local_30;
  uint uStack44;
  
  ppvVar17 = *(void ***)(param_1 + 0x90);
  if (1 < *(byte *)(param_1 + 0x98)) {
    ppvVar14 = (void **)(param_1 + 0x90);
    while (ppvVar17 != ppvVar14) {
      puVar5 = VideoInProgram((int)ppvVar17);
      if (puVar5 != (undefined4 *)0x0) {
        *(undefined4 **)(param_1 + 0x11c) = puVar5;
        *(undefined4 *)(param_1 + 0x118) = 1;
        puVar5 = MinorVideoInProgram((int)ppvVar17);
        if (puVar5 != (undefined4 *)0x0) {
          *(undefined4 *)(param_1 + 0x120) = 1;
          *(undefined4 **)(param_1 + 0x124) = puVar5;
        }
        puVar5 = AudioInProgram((int)ppvVar17);
        if (puVar5 != (undefined4 *)0x0) {
          *(undefined4 *)(param_1 + 0x128) = 1;
        }
        puVar5 = SubtitleInProgram((int)ppvVar17);
        if (puVar5 != (undefined4 *)0x0) {
          *(undefined4 *)(param_1 + 300) = 1;
        }
        break;
      }
      ppvVar17 = (void **)*ppvVar17;
    }
    if (*(int *)(param_1 + 0x118) == 0) {
      ppvVar17 = *(void ***)(param_1 + 0x90);
      while (ppvVar17 != ppvVar14) {
        puVar5 = AudioInProgram((int)ppvVar17);
        if (puVar5 != (undefined4 *)0x0) {
          *(undefined4 *)(param_1 + 0x128) = 1;
          break;
        }
        ppvVar17 = (void **)*ppvVar17;
      }
      if (*(int *)(param_1 + 0x128) == 0) {
        uVar3 = 0xb38;
LAB_000191ae:
        pcVar7 = "<%s:%u>: hasVideo == 0 && hasAudio == 0 ?!";
        uVar4 = 5;
LAB_000191b2:
        __android_log_print(uVar4,"awplayer",pcVar7,"SelectProgram",uVar3);
        return 0xffffffff;
      }
    }
    *(void ***)(param_1 + 0x134) = ppvVar17;
    ppvVar17 = *(void ***)(param_1 + 0x90);
    ppvVar6 = (void **)**(void ***)(param_1 + 0x90);
    while (ppvVar17 != ppvVar14) {
      if (ppvVar17 != (void **)*(void **)(param_1 + 0x134)) {
        DestroyProgram(ppvVar17);
      }
      ppvVar17 = ppvVar6;
      ppvVar6 = (void **)*ppvVar6;
    }
    goto LAB_0001939a;
  }
  iVar8 = *(int *)(param_1 + 0x130);
  if (iVar8 == 0) {
    if (ppvVar17[9] == (void *)0x0) {
      if (ppvVar17[8] == (void *)0x0) {
        uVar3 = 0xb80;
        goto LAB_000191ae;
      }
    }
    else {
      puVar5 = VideoInProgram((int)ppvVar17);
      if (puVar5 != (undefined4 *)0x0) {
        *(undefined4 **)(param_1 + 0x11c) = puVar5;
        *(undefined4 *)(param_1 + 0x118) = 1;
      }
    }
    ppvVar14 = (void **)ppvVar17[5];
    if (*(int *)(param_1 + 0x118) == 0) {
      ppvVar6 = (void **)*ppvVar14;
      while (ppvVar14 != ppvVar17 + 5) {
        pvVar9 = ppvVar14[0x27];
        if (*(int *)(param_1 + 0xa4) == 2) {
          if ((pvVar9 != (void *)0x1) || (*(int *)(param_1 + 0x128) != 0)) goto LAB_00019202;
LAB_000191fc:
          *(void **)(param_1 + 0x128) = pvVar9;
        }
        else {
          if (pvVar9 == (void *)0x1) goto LAB_000191fc;
LAB_00019202:
          DestroyStream(ppvVar14);
        }
        ppvVar14 = ppvVar6;
        ppvVar6 = (void **)*ppvVar6;
      }
      if (*(int *)(param_1 + 0x128) == 0) {
        uVar3 = 0xbab;
        goto LAB_000191ae;
      }
    }
    else {
      if (*(int *)(param_1 + 0xa4) == 2) {
        do {
          ppvVar6 = (void **)ppvVar17[5];
          ppvVar14 = ppvVar6;
          while( true ) {
            if (ppvVar14 == ppvVar17 + 5) {
              local_30 = 0xffffffff;
              uStack44 = 0xffffffff;
              ppvVar14 = (void **)0x0;
              ppvVar20 = (void **)*ppvVar6;
              goto LAB_00019320;
            }
            if (ppvVar14[0x2e] == (void *)0x0) break;
            ppvVar14 = (void **)*ppvVar14;
          }
          if (*(int *)(param_1 + 0x5800) != 0) {
            __android_log_print(5,"awplayer",
                                "<%s:%u>: mCacheBuffer->endPos != -1 && !allStreamHasFirstPTS",
                                "SelectProgram",0xbcd);
            uVar3 = 0xbce;
            pcVar7 = "<%s:%u>: should not be here";
            uVar4 = 5;
            goto LAB_000191b2;
          }
          puVar5 = GetEs(param_1,(undefined4 *)0x0);
        } while (-1 < (int)puVar5);
        uVar3 = 0xbd4;
        pcVar7 = "<%s:%u>: \x1b[40;31mshould not be here\x1b[0m";
        uVar4 = 6;
        goto LAB_000191b2;
      }
      while (ppvVar14 != ppvVar17 + 5) {
        pvVar9 = ppvVar14[0x27];
        if (pvVar9 == (void *)0x0) {
          if ((undefined *)ppvVar14[4] == &SUB_00000020) {
            if (*(int *)(param_1 + 0x120) == 0) {
              *(void ***)(param_1 + 0x124) = ppvVar14;
              *(undefined4 *)(param_1 + 0x120) = 1;
            }
            else {
LAB_0001937a:
              __android_log_print(5,"awplayer","<%s:%u>: stream->mMediaType == TYPE_UNKNOWN",
                                  "SelectProgram",0xc13);
            }
          }
        }
        else {
          if (pvVar9 == (void *)0x1) {
            *(undefined4 *)(param_1 + 0x128) = 1;
          }
          else {
            if (pvVar9 != (void *)0x2) goto LAB_0001937a;
            *(undefined4 *)(param_1 + 300) = 1;
          }
        }
        ppvVar14 = (void **)*ppvVar14;
      }
    }
  }
  else {
    if (iVar8 == 1) {
      bVar2 = 0;
      ppvVar14 = (void **)ppvVar17[5];
      while (ppvVar14 != ppvVar17 + 5) {
        pvVar9 = ppvVar14[0x27];
        if (pvVar9 == (void *)0x0) {
          bVar1 = (bool)(bVar2 ^ 1);
          if ((undefined *)ppvVar14[4] == &SUB_00000020) {
            bVar1 = false;
          }
          if (bVar1) {
            *(void ***)(param_1 + 0x11c) = ppvVar14;
            *(undefined4 *)(param_1 + 0x118) = 1;
            bVar2 = 1;
          }
          else {
LAB_0001912c:
            __android_log_print(5,"awplayer","<%s:%u>: stream->mMediaType == TYPE_UNKNOWN",
                                "SelectProgram",0xb61);
          }
        }
        else {
          if (pvVar9 == (void *)0x1) {
            *(undefined4 *)(param_1 + 0x128) = 1;
          }
          else {
            if (pvVar9 != (void *)0x2) goto LAB_0001912c;
            *(undefined4 *)(param_1 + 300) = 1;
          }
        }
        ppvVar14 = (void **)*ppvVar14;
      }
    }
    else {
      if (iVar8 == 2) {
        bVar2 = 0;
        ppvVar14 = (void **)ppvVar17[5];
        ppvVar6 = (void **)*ppvVar14;
        while (ppvVar14 != ppvVar17 + 5) {
          if (ppvVar14[0x27] == (void *)0x0) {
            bVar1 = (bool)(bVar2 ^ 1);
            if ((undefined *)ppvVar14[4] != &SUB_00000020) {
              bVar1 = false;
            }
            if (!bVar1) goto LAB_00019188;
            *(undefined4 *)(param_1 + 0x120) = 1;
            bVar2 = 1;
            *(void ***)(param_1 + 0x124) = ppvVar14;
          }
          else {
LAB_00019188:
            DestroyStream(ppvVar14);
          }
          ppvVar14 = ppvVar6;
          ppvVar6 = (void **)*ppvVar6;
        }
      }
    }
  }
  goto LAB_00019396;
LAB_00019320:
  if (ppvVar6 == ppvVar17 + 5) goto code_r0x00019324;
  ppvVar19 = ppvVar14;
  if (ppvVar6[0x27] == (void *)0x0) {
    if (ppvVar6 != *(void ***)(param_1 + 0x11c)) goto LAB_0001930c;
  }
  else {
    if (ppvVar6[0x27] == (void *)0x1) {
      uVar21 = VectorSub(*(undefined8 *)(ppvVar6 + 0x30),
                         *(undefined8 *)(*(int *)(param_1 + 0x11c) + 0xc0),8);
      uVar16 = (uint)((ulonglong)uVar21 >> 0x20);
      uVar10 = (int)uVar16 >> 0x1f;
      uVar11 = (uint)uVar21 ^ uVar10;
      uVar15 = uVar11 - uVar10;
      uVar10 = ((uVar16 ^ uVar10) - uVar10) - (uint)(uVar11 < uVar10);
      if ((local_30 <= uVar15 || !CARRY4(uVar10,~uStack44)) &&
          (local_30 > uVar15 || uVar10 < uVar10 + ~uStack44 + 1)) {
        ppvVar19 = ppvVar6;
        local_30 = uVar15;
        uStack44 = uVar10;
        if (ppvVar14 != (void **)0x0) {
          DestroyStream(ppvVar14);
        }
        goto LAB_0001931a;
      }
    }
LAB_0001930c:
    DestroyStream(ppvVar6);
  }
LAB_0001931a:
  ppvVar6 = ppvVar20;
  ppvVar14 = ppvVar19;
  ppvVar20 = (void **)*ppvVar20;
  goto LAB_00019320;
code_r0x00019324:
  if (ppvVar14 != (void **)0x0) {
    *(undefined4 *)(param_1 + 0x128) = 1;
  }
LAB_00019396:
  *(void ***)(param_1 + 0x134) = ppvVar17;
LAB_0001939a:
  iVar8 = *(int *)(param_1 + 0x134);
  puVar5 = (undefined4 *)(iVar8 + 0x14);
  puVar13 = (undefined4 *)*puVar5;
  puVar18 = *(undefined4 **)(undefined4 *)*puVar5;
  do {
    if (puVar13 == puVar5) {
      puVar13 = *(undefined4 **)(iVar8 + 0x14);
      while (puVar13 != puVar5) {
        *(undefined *)(param_1 + puVar13[3] + 0x138) = 1;
        puVar13 = (undefined4 *)*puVar13;
      }
      *(undefined4 *)(param_1 + 0x57e4) = 0;
      *(undefined4 *)(param_1 + 0x57e8) = 0;
      return 0;
    }
    uVar10 = puVar13[0x27];
    if (uVar10 < 3) {
      if (uVar10 == 0) {
        if (-1 < (int)(*(uint *)(param_1 + 0x2148) << 0x1b)) {
          if (puVar13[4] == 0x20) {
            puVar12 = *(undefined4 **)(param_1 + 0x124);
          }
          else {
            puVar12 = *(undefined4 **)(param_1 + 0x11c);
          }
          if (puVar13 == puVar12) goto LAB_000193ea;
        }
        goto LAB_000193e6;
      }
      uVar11 = *(uint *)(param_1 + 0x2148);
      if (uVar10 == 1) {
        uVar11 = uVar11 & 8;
      }
      else {
        uVar11 = uVar11 & 0x20;
      }
      if (uVar11 != 0) goto LAB_000193e6;
    }
    else {
LAB_000193e6:
      DestroyStream(puVar13);
    }
LAB_000193ea:
    puVar13 = puVar18;
    puVar18 = (undefined4 *)*puVar18;
  } while( true );
}



undefined4 * TSPrefetch(uint param_1,undefined4 *param_2)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 uVar3;
  uint uVar4;
  pthread_mutex_t *__mutex;
  
  iVar2 = *(int *)(param_1 + 0x213c);
  uVar4 = iVar2 - 1;
  if (uVar4 != 0) {
    uVar4 = 1;
  }
  if (iVar2 == 3) {
    uVar4 = 0;
  }
  else {
    uVar4 = uVar4 & 1;
  }
  if (uVar4 == 0) {
    if (*(int *)(param_1 + 0x2150) != 7) {
      if (iVar2 == 3) {
        memcpy(param_2,(void *)(param_1 + 0x57a0),0x40);
        return (undefined4 *)0x0;
      }
      __mutex = (pthread_mutex_t *)(param_1 + 0x2140);
      pthread_mutex_lock(__mutex);
      if (*(int *)(param_1 + 0x214c) == 0) {
        *(undefined4 *)(param_1 + 0x213c) = 2;
        pthread_mutex_unlock(__mutex);
        puVar1 = GetEs(param_1,param_2);
        pthread_mutex_lock(__mutex);
        uVar3 = 1;
        if (-1 < (int)puVar1) {
          memcpy((void *)(param_1 + 0x57a0),param_2,0x40);
          uVar3 = 3;
        }
        *(undefined4 *)(param_1 + 0x213c) = uVar3;
        pthread_mutex_unlock(__mutex);
        pthread_cond_signal((pthread_cond_t *)(param_1 + 0x2144));
        return puVar1;
      }
      pthread_mutex_unlock(__mutex);
    }
  }
  else {
    __android_log_print(5,"awplayer",
                                                
                        "<%s:%u>: status != CDX_PSR_IDLE && status!= CDX_PSR_PREFETCHED, TSPrefetch invaild"
                        ,"TSPrefetch",0xfcd,param_2);
    *(undefined4 *)(param_1 + 0x2150) = 5;
  }
  return (undefined4 *)0xffffffff;
}



int EstimateDuration(uint param_1)

{
  undefined8 *puVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  char *__ptr;
  int iVar5;
  int extraout_r1;
  undefined *puVar6;
  int iVar7;
  undefined4 *puVar8;
  char **ppcVar9;
  int iVar10;
  bool bVar11;
  undefined8 uVar12;
  ulonglong uVar13;
  undefined8 uVar14;
  longlong lVar15;
  
  iVar7 = *(int *)(param_1 + 0x14);
  bVar11 = *(int *)(param_1 + 0x10) != 0;
  if ((int)(iVar7 - (uint)!bVar11) < 0 !=
      (iVar7 < 0 && (int)(iVar7 + -1 + (uint)bVar11) < 0 != iVar7 < 0)) {
    __android_log_print(5,"awplayer","<%s:%u>: mTSParser->fileSize <= 0, EstimateDuration fail",
                        "EstimateDuration",0xe0a);
    return 0;
  }
  iVar7 = *(int *)(param_1 + 0x134);
  puVar8 = *(undefined4 **)(undefined4 *)(iVar7 + 0x14);
  while (puVar8 != (undefined4 *)(iVar7 + 0x14)) {
    if (puVar8[0x2e] != 0) {
      uVar3 = puVar8[0x30];
      uVar4 = puVar8[0x31];
      bVar11 = *(uint *)(iVar7 + 0x30) <= uVar3;
      if ((bVar11 || !CARRY4(uVar4,~*(uint *)(iVar7 + 0x34))) &&
          (!bVar11 || uVar4 < uVar4 + ~*(uint *)(iVar7 + 0x34) + 1)) {
        *(uint *)(iVar7 + 0x30) = uVar3;
        *(uint *)(iVar7 + 0x34) = uVar4;
      }
    }
    puVar8 = (undefined4 *)*puVar8;
  }
  while ((~*(uint *)(*(int *)(param_1 + 0x134) + 0x30) |
         ~*(uint *)(*(int *)(param_1 + 0x134) + 0x34)) == 0) {
    if (*(int *)(param_1 + 0x5800) != 0) {
      uVar2 = 0xe22;
      puVar6 = &DAT_00028dfc;
      goto LAB_000195e2;
    }
    puVar8 = GetEs(param_1,(undefined4 *)0x0);
    if ((int)puVar8 < 0) {
      uVar2 = 0xe28;
      puVar6 = &DAT_00028e53;
LAB_000195e2:
      __android_log_print(6,"awplayer",puVar6,"EstimateDuration",uVar2);
      return -1;
    }
  }
  ppcVar9 = *(char ***)(param_1 + 8);
  uVar2 = FUN_000157dc(ppcVar9);
  if (extraout_r1 < 0) {
    uVar2 = 0xe65;
    puVar6 = &DAT_00028e78;
    goto LAB_000195e2;
  }
  puVar1 = (undefined8 *)(*(int *)(param_1 + 0x134) + 0x30);
  uVar3 = *(uint *)puVar1;
  iVar7 = *(int *)(*(int *)(param_1 + 0x134) + 0x34);
  uVar14 = *puVar1;
  if (*(int *)(param_1 + 0x20) == 0) {
    iVar7 = extraout_r1;
    __ptr = (char *)malloc(0x180000);
    if (__ptr == (char *)0x0) {
      __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","EstimateDuration",0xebb,
                          "tmpBuf",uVar2,iVar7);
    }
    iVar5 = ProbeByteRate(__ptr,0x180000,param_1);
    if (iVar5 < 0) {
      uVar2 = 0xebf;
      puVar6 = &DAT_00028eb1;
LAB_000197e8:
      __android_log_print(6,"awplayer",puVar6,"EstimateDuration",uVar2);
      goto LAB_00019804;
    }
  }
  else {
    iVar10 = extraout_r1;
    uVar4 = FUN_00015900(ppcVar9);
    if ((uVar4 & 1) == 0) {
      *(undefined4 *)(param_1 + 0x38) = 0xffffffff;
      if ((*(uint *)(param_1 + 0xe8) | *(uint *)(param_1 + 0xec)) != 0) {
        lVar15 = __aeabi_uldivmod(*(undefined4 *)(param_1 + 0x10),*(undefined4 *)(param_1 + 0x14));
        *(int *)(param_1 + 0x28) = (int)(lVar15 * 1000);
        *(int *)(param_1 + 0x2c) = (int)((ulonglong)(lVar15 * 1000) >> 0x20);
        return 0;
      }
      *(undefined4 *)(param_1 + 0x28) = 1800000;
      *(undefined4 *)(param_1 + 0x2c) = 0;
      return 0;
    }
    __ptr = (char *)malloc(*(int *)(param_1 + 0xa0) * 100);
    if (__ptr == (char *)0x0) {
      __android_log_print(3,"awplayer","<%s:%u>: CDX_CHECK(%s) failed.","EstimateDuration",0xe78,
                          "tmpBuf",uVar2,iVar10);
    }
    iVar10 = 0x13;
    do {
      iVar5 = FUN_00015ee8((int *)ppcVar9);
      if (iVar5 < 0) {
        uVar2 = 0xe80;
        puVar6 = &DAT_00028b40;
        goto LAB_000197e8;
      }
      iVar5 = FUN_00015524(ppcVar9);
      if (iVar5 < 1) {
        __android_log_print(6,"awplayer",&DAT_00028500,"EstimateDuration",0xe86);
LAB_00019800:
        iVar5 = -1;
        goto LAB_00019804;
      }
      uVar13 = ProbeLastPTS(__ptr,iVar5,param_1);
      uVar4 = (uint)(uVar13 >> 0x20);
      if (*(int *)(param_1 + 0x214c) != 0) goto LAB_00019800;
      bVar11 = (uint)uVar13 <= uVar3;
      if ((int)((iVar7 - uVar4) - (uint)!bVar11) < 0 !=
          (iVar7 < 0 == -1 < (longlong)uVar13 &&
          (int)(iVar7 + ~uVar4 + (uint)bVar11) < 0 != iVar7 < 0)) {
        uVar12 = VectorSub(((ulonglong)uVar4 << 0x20) + (uVar13 & 0xffffffff),uVar14,8);
        uVar4 = __aeabi_ldivmod((int)uVar12,(int)((ulonglong)uVar12 >> 0x20),0x5a,0);
        if (uVar4 < 36000000) goto LAB_0001973e;
      }
      iVar10 = iVar10 + -1;
    } while (iVar10 != 0);
    if ((*(uint *)(param_1 + 0xe8) | *(uint *)(param_1 + 0xec)) == 0) {
      uVar4 = 1800000;
    }
    else {
      iVar7 = __aeabi_uldivmod(*(undefined4 *)(param_1 + 0x10),*(undefined4 *)(param_1 + 0x14));
      uVar4 = iVar7 * 1000;
      if (35999999 < uVar4) {
        uVar4 = 1800000;
      }
    }
LAB_0001973e:
    lVar15 = (ulonglong)*(uint *)(param_1 + 0x10) * 1000;
    uVar14 = __aeabi_ldivmod((int)lVar15,
                             *(int *)(param_1 + 0x14) * 1000 + (int)((ulonglong)lVar15 >> 0x20),
                             uVar4,0);
    *(uint *)(param_1 + 0x28) = uVar4;
    *(undefined4 *)(param_1 + 0x2c) = 0;
    *(undefined4 *)(param_1 + 0x38) = 1;
    *(int *)(param_1 + 0x30) = (int)uVar14;
    *(int *)(param_1 + 0x34) = (int)((ulonglong)uVar14 >> 0x20);
  }
  iVar5 = FUN_00015ee8((int *)ppcVar9);
LAB_00019804:
  if (__ptr != (char *)0x0) {
    free(__ptr);
  }
  return iVar5;
}



undefined8 ResetCacheBuffer(int *param_1,undefined4 param_2,undefined4 param_3)

{
  undefined4 uVar1;
  
  if (((param_1 == (int *)0x0) || (*param_1 == 0)) || (param_1[1] == 0)) {
    param_1 = (int *)0x1130;
    __android_log_print(6,"awplayer",&DAT_00028ed9,"ResetCacheBuffer",0x1130,param_2,param_3);
    uVar1 = 0xffffffff;
  }
  else {
    param_1[2] = 0;
    param_1[3] = 0;
    param_1[4] = 0;
    param_1[5] = -1;
    uVar1 = 0;
  }
  return CONCAT44(param_1,uVar1);
}



undefined4 TSForceStop(int param_1)

{
  undefined4 uVar1;
  uint uVar2;
  pthread_mutex_t *__mutex;
  
  __mutex = (pthread_mutex_t *)(param_1 + 0x2140);
  pthread_mutex_lock(__mutex);
  *(undefined4 *)(param_1 + 0x214c) = 1;
  *(undefined4 *)(param_1 + 0x2150) = 4;
  uVar1 = FUN_00015a20(*(char ***)(param_1 + 8));
  while( true ) {
    uVar2 = *(int *)(param_1 + 0x213c) - 1;
    if (uVar2 != 0) {
      uVar2 = 1;
    }
    if (*(int *)(param_1 + 0x213c) == 3) {
      uVar2 = 0;
    }
    else {
      uVar2 = uVar2 & 1;
    }
    if (uVar2 == 0) break;
    pthread_cond_wait((pthread_cond_t *)(param_1 + 0x2144),__mutex);
  }
  pthread_mutex_unlock(__mutex);
  *(undefined4 *)(param_1 + 0x213c) = 1;
  *(undefined4 *)(param_1 + 0x2150) = 4;
  return uVar1;
}



undefined4 TSClose(void *param_1)

{
  TSForceStop((int)param_1);
  if (*(undefined4 **)((int)param_1 + 8) != (undefined4 *)0x0) {
    FUN_0001585c(*(undefined4 **)((int)param_1 + 8));
    *(undefined4 *)((int)param_1 + 8) = 0;
  }
  DestroyPrograms((int)param_1);
  DestroyPSISections((int)param_1);
  if (*(void **)((int)param_1 + 0xfc) != (void *)0x0) {
    free(*(void **)((int)param_1 + 0xfc));
  }
  if (*(void **)((int)param_1 + 0x114) != (void *)0x0) {
    free(*(void **)((int)param_1 + 0x114));
  }
  if (*(int *)((int)param_1 + 0x57f4) != 0) {
    (**(code **)(*(int *)((int)param_1 + 0x57f0) + 4))();
  }
  if (*(void **)((int)param_1 + 0x5824) != (void *)0x0) {
    free(*(void **)((int)param_1 + 0x5824));
  }
  pthread_mutex_destroy((pthread_mutex_t *)((int)param_1 + 0x2140));
  pthread_cond_destroy((pthread_cond_t *)((int)param_1 + 0x2144));
  free(param_1);
  return 0;
}



undefined8 TSClrForceStop(int param_1,undefined4 param_2,undefined4 param_3)

{
  char **ppcVar1;
  int iVar2;
  
  if (*(int *)(param_1 + 0x213c) == 1) {
    *(undefined4 *)(param_1 + 0x214c) = 0;
    ppcVar1 = *(char ***)(param_1 + 8);
    if (ppcVar1 != (char **)0x0) {
      iVar2 = FUN_00015a20(ppcVar1);
      if (iVar2 < 0) {
        param_1 = 0x139c;
        __android_log_print(5,"awplayer","<%s:%u>: CdxStreamClrForceStop fail","TSClrForceStop",
                            0x139c,param_2,param_3);
      }
      ppcVar1 = (char **)0x0;
    }
  }
  else {
    iVar2 = 0x1392;
    __android_log_print(5,"awplayer","<%s:%u>: mTSParser->status != CDX_PSR_IDLE","TSClrForceStop",
                        0x1392,param_2,param_3);
    *(undefined4 *)(param_1 + 0x2150) = 5;
    ppcVar1 = (char **)0xffffffff;
    param_1 = iVar2;
  }
  return CONCAT44(param_1,ppcVar1);
}



undefined4 GetCacheState(int param_1,int *param_2)

{
  int iVar1;
  undefined4 uVar2;
  int local_20;
  int local_1c;
  int local_18;
  
  iVar1 = FUN_00015a20(*(char ***)(param_1 + 8));
  if (iVar1 < 0) {
    __android_log_print(6,"awplayer",&DAT_00028f53,"GetCacheState",0x13a7);
    uVar2 = 0xffffffff;
  }
  else {
    param_2[2] = local_18;
    *param_2 = local_20 + *(int *)(param_1 + 0x100);
    uVar2 = 0;
    param_2[1] = local_1c + *(int *)(param_1 + 0x104);
  }
  return uVar2;
}



uint TSControl(int param_1,int param_2,undefined8 *param_3)

{
  uint uVar1;
  size_t sVar2;
  undefined *puVar3;
  undefined8 *puVar4;
  undefined4 uVar5;
  ulonglong uVar6;
  undefined8 uVar7;
  char *local_24;
  
  if (param_2 == 10) {
    uVar1 = GetCacheState(param_1,(int *)param_3);
    return uVar1;
  }
  if (param_2 < 0xb) {
    if (param_2 == 7) {
      __android_log_print(3,"awplayer","<%s:%u>: CDX_PSR_CMD_SET_LASTSEGMENT_FLAG","TSControl",
                          0x13d6);
      *(undefined4 *)(param_1 + 0x5848) = 1;
      return 0;
    }
    if (param_2 < 8) {
      if (param_2 == 5) {
        uVar5 = *(undefined4 *)((int)param_3 + 4);
        *(undefined4 *)(param_1 + 0x28) = *(undefined4 *)param_3;
        *(undefined4 *)(param_1 + 0x2c) = uVar5;
        return 0;
      }
      if (param_2 != 6) {
        return 0;
      }
      __android_log_print(3,"awplayer",
                          "<%s:%u>: replace stream!!!mTSParser->cdxStream(%p), param(%p)",
                          "TSControl",0x13bf,*(undefined4 *)(param_1 + 8),param_3);
      if (*(undefined4 **)(param_1 + 8) != (undefined4 *)0x0) {
        FUN_0001585c(*(undefined4 **)(param_1 + 8));
      }
      *(undefined8 **)(param_1 + 8) = param_3;
      *(undefined4 *)(param_1 + 0x2138) = 0;
      *(undefined4 *)(param_1 + 0x5848) = 0;
      if (*(int *)(param_1 + 0x584c) == 1) {
        ResetCacheBuffer((int *)(param_1 + 0xfc),1,0);
        ResetStreamsInProgram(*(int *)(param_1 + 0x134));
        ResetPSISection(param_1);
      }
      *(undefined4 *)(param_1 + 0x2150) = 0;
      return 0;
    }
    if (param_2 == 8) {
      __android_log_print(3,"awplayer","<%s:%u>: CDX_PSR_CMD_CLR_INFO","TSControl",0x13d2);
      *(undefined4 *)(param_1 + 0x584c) = 1;
      return 0;
    }
    if (param_2 != 9) {
      return 0;
    }
    if (*(char ***)(param_1 + 8) != (char **)0x0) {
      puVar4 = param_3;
      uVar6 = FUN_00015900(*(char ***)(param_1 + 8));
      if ((uVar6 & 1) == 0) {
        return (uint)uVar6 & 1;
      }
      uVar7 = ResetCacheBuffer((int *)(param_1 + 0xfc),(int)(uVar6 >> 0x20),puVar4);
      if ((int)uVar7 < 0) {
        __android_log_print(6,"awplayer",&DAT_00028ed9,"TSControl",0x13e6);
        *(undefined4 *)(param_1 + 0x2150) = 6;
        return 0xffffffff;
      }
      uVar7 = *param_3;
      if (*(int *)(param_1 + 0x130) != 0) {
        uVar7 = VectorAdd(uVar7,4,8);
      }
      uVar1 = FUN_00015ee8(*(int **)(param_1 + 8));
      if ((int)uVar1 < 0) {
        __android_log_print(6,"awplayer",&DAT_00028b40,"TSControl",0x13f2);
      }
      *(undefined4 *)(param_1 + 0x2138) = 0;
      *(undefined4 *)(param_1 + 0xf8) = 0;
      ResetStreamsInProgram(*(int *)(param_1 + 0x134));
      ResetPSISection(param_1);
      uVar5 = __aeabi_ldivmod((int)uVar7,(int)((ulonglong)uVar7 >> 0x20),0xc0,0);
      *(undefined4 *)(param_1 + 0xdc) = uVar5;
      return uVar1;
    }
    puVar3 = &DAT_0002900d;
    uVar5 = 0x13dc;
  }
  else {
    if (param_2 == 0xe) {
      *(undefined8 **)(param_1 + 0x57f0) = param_3;
      return 0;
    }
    if (param_2 < 0xf) {
      if (param_2 == 0xb) {
        uVar1 = TSForceStop(param_1);
        return uVar1;
      }
      if (param_2 != 0xc) {
        return 0;
      }
      uVar7 = TSClrForceStop(param_1,0xc,param_3);
      return (uint)uVar7;
    }
    if (param_2 != 0x13) {
      if (param_2 == 0x109) {
        *(undefined4 *)(param_1 + 0x57f8) = *(undefined4 *)param_3;
        *(undefined4 *)(param_1 + 0x57fc) = *(undefined4 *)((int)param_3 + 4);
        return 0;
      }
      if (param_2 != 0x11) {
        return 0;
      }
      if (*(char ***)(param_1 + 8) != (char **)0x0) {
        uVar1 = FUN_000159a4(*(char ***)(param_1 + 8));
        return uVar1;
      }
      return 0;
    }
    __android_log_print(3,"awplayer","<%s:%u>: *********** CDX_PSR_CMD_GET_URL","TSControl",0x140f);
    FUN_000159a4(*(char ***)(param_1 + 8));
    sVar2 = strlen(local_24);
    if ((int)(sVar2 + 1) < 0x1001) {
      __android_log_print(3,"awplayer","<%s:%u>: --- ts parser get url= %s","TSControl",0x1417,
                          local_24);
      memcpy(param_3,local_24,sVar2 + 1);
      return 0;
    }
    puVar3 = &DAT_00029080;
    uVar5 = 0x1414;
  }
  __android_log_print(6,"awplayer",puVar3,"TSControl",uVar5);
  return 0xffffffff;
}



undefined4 TSInit(char *param_1)

{
  char *pcVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined4 *puVar5;
  undefined4 uVar6;
  undefined *puVar7;
  char *pcVar8;
  int iVar9;
  char **ppcVar10;
  char **ppcVar11;
  size_t __n;
  uint uVar12;
  char **ppcVar13;
  char *pcVar14;
  void *__dest;
  bool bVar15;
  undefined8 uVar16;
  undefined4 uVar17;
  undefined4 uVar18;
  int local_80;
  undefined4 local_7c;
  undefined4 auStack104 [4];
  undefined4 local_58;
  undefined4 uStack84;
  size_t local_44;
  
  ppcVar13 = *(char ***)(param_1 + 8);
  if (ppcVar13 == (char **)0x0) {
    pcVar1 = "!(stream)";
    uVar17 = 0x1bd;
    param_1 = "stream";
LAB_00019dfa:
    pcVar14 = "CdxStreamSize";
    __android_log_assert
              (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamSize",uVar17,param_1);
  }
  else {
    pcVar14 = *ppcVar13;
    if (pcVar14 == (char *)0x0) {
      pcVar1 = "!(stream->ops)";
      uVar17 = 0x1be;
      param_1 = "stream->ops";
      goto LAB_00019dfa;
    }
  }
  uVar16 = 0xffffffffffffffff;
  if (*(code **)(pcVar14 + 0x34) != (code *)0x0) {
    uVar16 = (**(code **)(pcVar14 + 0x34))(ppcVar13);
  }
  *(int *)(param_1 + 0x10) = (int)uVar16;
  *(int *)(param_1 + 0x14) = (int)((ulonglong)uVar16 >> 0x20);
  iVar2 = FUN_00015900(ppcVar13);
  iVar2 = -((iVar2 << 0x1d) >> 0x1f);
  *(int *)(param_1 + 0x20) = iVar2;
  if (*(int *)(param_1 + 0x57ec) == 0) {
    uVar17 = 0x1000;
    if (iVar2 == 0) {
      uVar17 = 0x7d000;
    }
  }
  else {
    uVar17 = 0x524;
  }
  *(undefined4 *)(param_1 + 0x57e0) = uVar17;
  *(undefined4 *)(param_1 + 0x30) = 0;
  *(undefined4 *)(param_1 + 0x34) = 0;
  *(undefined4 *)(param_1 + 0x28) = 0;
  *(undefined4 *)(param_1 + 0x2c) = 0;
  *(undefined4 *)(param_1 + 0x38) = 0xffffffff;
  while (*(uint *)(param_1 + 0x104) < 0x1000) {
    iVar2 = FUN_00015524(ppcVar13);
    if (iVar2 < 0) {
      uVar17 = 0x1178;
      puVar7 = &DAT_00028500;
      goto LAB_0001a39a;
    }
    if (iVar2 == 0) {
      __android_log_print(5,"awplayer","<%s:%u>: eos, fileSize(%u)","TSInit",0x117d,
                          *(undefined4 *)(param_1 + 0x104));
      break;
    }
    *(int *)(param_1 + 0x104) = *(int *)(param_1 + 0x104) + iVar2;
    *(int *)(param_1 + 0x108) = *(int *)(param_1 + 0x108) + iVar2;
  }
  uVar12 = *(uint *)(param_1 + 0x104);
  iVar2 = *(int *)(param_1 + 0xfc);
  if (0x3fc < uVar12) {
    iVar3 = FUN_00015de4(iVar2,uVar12,0xbc);
    iVar4 = FUN_00015de4(iVar2,uVar12,0xc0);
    iVar2 = FUN_00015de4(iVar2,uVar12,0xcc);
    if (iVar4 < iVar3 && iVar2 < iVar3) {
      uVar12 = 0xbc;
LAB_0001a688:
      *(uint *)(param_1 + 0xa0) = uVar12;
      if (*(int *)(param_1 + 0x130) != 0) {
        *(int *)(param_1 + 0x10c) = *(int *)(param_1 + 0x10c) + 4;
        *(int *)(param_1 + 0x104) = *(int *)(param_1 + 0x104) + -4;
      }
      uVar17 = 0xffffffff;
      iVar2 = 0;
      *(undefined4 *)(param_1 + 0xa4) = 0;
      do {
        if (*(int *)(param_1 + 0xa4) == 2) {
          DestroyPrograms((int)param_1);
          FUN_0001533c((uint)param_1,0xffffffff,-1);
          DestroyPSISections((int)param_1);
        }
        iVar3 = 0;
        do {
          if (*(int *)(param_1 + 0x214c) != 0) {
            uVar17 = 0x119f;
            puVar7 = &DAT_0002911d;
            goto LAB_0001a39a;
          }
          if (*(int *)(param_1 + 0xa4) == 0) {
            if (param_1[0x98] != '\0') {
              ppcVar11 = *(char ***)(param_1 + 0x90);
              pcVar14 = (char *)0x1;
              while (pcVar1 = pcVar14, ppcVar11 != (char **)(param_1 + 0x90)) {
                if (*(int *)(param_1 + 0x130) < 2) {
                  puVar5 = VideoInProgram((int)ppcVar11);
                  if (puVar5 != (undefined4 *)0x0) {
                    pcVar8 = (char *)0x1;
                    goto LAB_0001a042;
                  }
                  puVar5 = AudioInProgram((int)ppcVar11);
                  if (puVar5 == (undefined4 *)0x0) {
                    pcVar14 = (char *)0x0;
                  }
                }
                else {
                  pcVar8 = ppcVar11[7];
                  pcVar1 = pcVar8;
                  if (pcVar8 == (char *)0x0) goto LAB_0001a042;
                }
                ppcVar11 = (char **)*ppcVar11;
              }
              pcVar8 = (char *)0x0;
LAB_0001a042:
              if (((uint)pcVar8 | (uint)pcVar1) != 0) break;
            }
            do {
              iVar4 = FUN_000155c8((int)param_1);
              if (iVar4 < 0) {
                uVar17 = 0x11d7;
                puVar7 = &DAT_00028b7f;
                goto LAB_0001a39a;
              }
            } while ((iVar4 != 0) && (*(uint *)(param_1 + 0x104) < uVar12));
            if (iVar3 == 0) {
              iVar2 = *(int *)(param_1 + 0x10c);
              uVar17 = *(undefined4 *)(param_1 + 0x110);
            }
          }
          else {
            if (iVar3 == 0) {
              *(int *)(param_1 + 0x10c) = iVar2;
              *(undefined4 *)(param_1 + 0x110) = uVar17;
              *(int *)(param_1 + 0x104) = *(int *)(param_1 + 0x108) - iVar2;
              if (*(int *)(param_1 + 0xa4) == 1) {
                memset(param_1 + 0x138,0,0x2000);
                param_1[0x2100] = '\x01';
                param_1[0x2101] = '\x01';
                param_1[0x2102] = '\x01';
                param_1[0x2103] = '\x01';
                param_1[0x2104] = '\x01';
                param_1[0x2105] = '\x01';
                param_1[0x2106] = '\x01';
                param_1[0x2107] = '\x01';
              }
              else {
                memset(param_1 + 0x138,1,0x2000);
                param_1[0x138] = '\0';
              }
            }
            if ((*(int *)(param_1 + 0xa4) == 1) && (param_1[0x98] != '\0')) {
              ppcVar11 = *(char ***)(param_1 + 0x90);
              while (ppcVar11 != (char **)(param_1 + 0x90)) {
                puVar5 = VideoInProgram((int)ppcVar11);
                if (puVar5 != (undefined4 *)0x0) goto LAB_0001a206;
                ppcVar11 = (char **)*ppcVar11;
              }
            }
            do {
              iVar4 = FUN_000155c8((int)param_1);
              if (iVar4 < 0) {
                uVar17 = 0x1224;
                puVar7 = &DAT_00028b7f;
                goto LAB_0001a39a;
              }
            } while ((iVar4 != 0) && (*(uint *)(param_1 + 0x104) < uVar12));
          }
          if (*(uint *)(param_1 + 0x104) < uVar12) {
            __android_log_print(3,"awplayer","<%s:%u>: eos","TSInit",0x1231);
            break;
          }
          iVar9 = *(int *)(param_1 + 0x110);
          iVar4 = *(int *)(param_1 + 0x10c);
          __n = iVar9 - iVar4;
          if (0xbb < (int)__n || iVar9 < 1) {
            __dest = (void *)(*(int *)(param_1 + 0xfc) + iVar4);
            if ((int)uVar12 < (int)__n || iVar9 < 1) {
              *(uint *)(param_1 + 0x10c) = uVar12 + iVar4;
            }
            else {
              *(undefined4 *)(param_1 + 0x110) = 0xffffffff;
              *(uint *)(param_1 + 0x10c) = uVar12 - __n;
            }
          }
          else {
            __dest = *(void **)(param_1 + 0x114);
            memcpy(__dest,(void *)(*(int *)(param_1 + 0xfc) + iVar4),__n);
            memcpy((void *)((int)__dest + __n),*(void **)(param_1 + 0xfc),0xbc - __n);
            *(uint *)(param_1 + 0x10c) = uVar12 - __n;
            *(undefined4 *)(param_1 + 0x110) = 0xffffffff;
          }
          iVar4 = *(int *)(param_1 + 0x104);
          *(uint *)(param_1 + 0x104) = iVar4 - uVar12;
          puVar5 = feedTSPacket((uint)param_1,__dest,0xbc,iVar4);
          if (puVar5 != (undefined4 *)0x0) {
            uVar17 = 0x1253;
            puVar7 = &DAT_00028ba2;
            goto LAB_0001a39a;
          }
          iVar3 = iVar3 + 1;
        } while (iVar3 != 0x1400);
LAB_0001a206:
        if (*(int *)(param_1 + 0xa8) != 0) {
          iVar3 = FUN_00019010((int)param_1);
          if ((iVar3 < 0) || (*(int *)(param_1 + 0x134) == 0)) {
            uVar17 = 0x1277;
            puVar7 = &DAT_00028bc9;
            goto LAB_0001a39a;
          }
          iVar3 = *(int *)(param_1 + 0xa4);
          *(undefined4 *)(param_1 + 0xa4) = 0xffffffff;
          bVar15 = iVar3 == 2;
          if (bVar15) {
            *(int *)(param_1 + 0x10c) = iVar2;
          }
          if (bVar15) {
            *(undefined4 *)(param_1 + 0x110) = uVar17;
            iVar3 = *(int *)(param_1 + 0x108) - iVar2;
          }
          else {
            iVar2 = *(int *)(param_1 + 0x10c);
            uVar17 = *(undefined4 *)(param_1 + 0x110);
          }
          if (bVar15) {
            *(int *)(param_1 + 0x104) = iVar3;
          }
          if (*(int *)(param_1 + 0x2148) << 0x19 < 0) {
            if (*(int *)(param_1 + 0x20) == 0) {
              iVar3 = FUN_00015900(ppcVar13);
              if (iVar3 << 0x1f < 0) {
                *(undefined4 *)(param_1 + 0x38) = 0;
                goto LAB_0001a302;
              }
            }
            if ((*(int *)(param_1 + 0x20) != 0) &&
               (iVar3 = FUN_00015900(ppcVar13), iVar3 << 0x1f < 0)) {
              *(undefined4 *)(param_1 + 0x38) = 1;
            }
          }
          else {
            iVar3 = EstimateDuration((uint)param_1);
            if (iVar3 < 0) {
              uVar17 = 0x1296;
              puVar7 = &DAT_0002918e;
              goto LAB_0001a39a;
            }
          }
LAB_0001a302:
          iVar3 = FUN_00015900(ppcVar13);
          if (iVar3 << 0x1e < 0) {
            *(undefined4 *)(param_1 + 0x38) = 2;
          }
          AdjustBufferOfStreams(*(int *)(param_1 + 0x134));
          if (*(int *)(param_1 + 0x5800) != 0) {
            __android_log_print(6,"awplayer",&DAT_000291b9,"TSInit",0x12b0);
          }
          *(int *)(param_1 + 0x10c) = iVar2;
          *(undefined4 *)(param_1 + 0x110) = uVar17;
          *(int *)(param_1 + 0x104) = *(int *)(param_1 + 0x108) - iVar2;
          *(undefined4 *)(param_1 + 0xdc) = 0;
          *(undefined4 *)(param_1 + 0xf8) = 0;
          if ((1 < *(int *)(param_1 + 0x130)) || (*(int *)(param_1 + 0x11c) == 0))
          goto LAB_0001a4da;
          bVar15 = false;
          goto LAB_0001a384;
        }
        if (*(int *)(param_1 + 0xa4) == 2) goto LAB_0001a23e;
        iVar3 = *(int *)(param_1 + 0xa4) + 1;
        *(int *)(param_1 + 0xa4) = iVar3;
        __android_log_print(3,"awplayer","<%s:%u>: autoGuess = %d","TSInit",0x1268,iVar3);
      } while( true );
    }
    if (iVar2 < iVar4 && iVar3 < iVar4) {
      uVar12 = 0xc0;
      goto LAB_0001a688;
    }
    if (iVar3 < iVar2 && iVar4 < iVar2) {
      uVar12 = 0xcc;
      goto LAB_0001a688;
    }
  }
  uVar17 = 0x1187;
  puVar7 = &DAT_000290f5;
  goto LAB_0001a39a;
LAB_0001a23e:
  uVar17 = 0x126d;
  puVar7 = &DAT_00029167;
  goto LAB_0001a39a;
LAB_0001a384:
  if (*(int *)(param_1 + 0x214c) == 0) {
    puVar5 = GetEs((uint)param_1,auStack104);
    if ((int)puVar5 < 0) {
      uVar6 = 5;
      pcVar14 = "<%s:%u>: GetEs fail, may be EOS";
      uVar18 = 0x12c6;
LAB_0001a49e:
      __android_log_print(uVar6,"awplayer",pcVar14,"TSInit",uVar18);
LAB_0001a4da:
      if (*(int *)(param_1 + 0x5800) == 0) {
        *(int *)(param_1 + 0x10c) = iVar2;
        *(undefined4 *)(param_1 + 0x110) = uVar17;
        *(int *)(param_1 + 0x104) = *(int *)(param_1 + 0x108) - iVar2;
        ResetStreamsInProgram(*(int *)(param_1 + 0x134));
        ResetPSISection((int)param_1);
      }
      else {
        __android_log_print(5,"awplayer","<%s:%u>: mCacheBuffer->endPos != -1","TSInit",0x132c);
        iVar3 = *(int *)(param_1 + 0x134);
        puVar5 = *(undefined4 **)(iVar3 + 0x14);
        while (puVar5 != (undefined4 *)(iVar3 + 0x14)) {
          if (puVar5[0x39] != 0) {
            __android_log_print(3,"awplayer",
                                "<%s:%u>: stream->probeBufSize(%u), stream->probeDataSize(%u)",
                                "TSInit",0x1334,puVar5[0x3a],puVar5[0x3b]);
          }
          puVar5 = (undefined4 *)*puVar5;
        }
        local_7c = 0;
        local_80 = iVar2;
        uVar12 = TSControl((int)param_1,9,(undefined8 *)&local_80);
        if ((int)uVar12 < 0) {
          __android_log_print(5,"awplayer","<%s:%u>: CDX_PSR_CMD_STREAM_SEEK fail.","TSInit",0x133d)
          ;
        }
      }
      *(undefined4 *)(param_1 + 0xdc) = 0;
      FUN_00016bd0((int)param_1,(undefined4 *)(param_1 + 0x2158));
      __android_log_print(3,"awplayer","<%s:%u>: mProgramCount = %u, mStreamCount = %u",
                          "PrintTsStatus",0x59,param_1[0x98],*(undefined4 *)(param_1 + 0xa8));
      ppcVar13 = *(char ***)(param_1 + 0x90);
      while (ppcVar13 != (char **)(param_1 + 0x90)) {
        pcVar1 = ppcVar13[9];
        pcVar14 = ppcVar13[10];
        ppcVar11 = ppcVar13;
        __android_log_print(3,"awplayer",
                                                        
                            "<%s:%u>: mProgramNumber = 0x%04x, mProgramMapPID = 0x%04x, mStreamCount = %u, audioCount = %u, videoCount = %u, subsCount = %u, program = %p "
                            ,"PrintTsStatus",0x69,ppcVar13[2],ppcVar13[3],ppcVar13[7],ppcVar13[8],
                            pcVar1,pcVar14,ppcVar13);
        ppcVar10 = (char **)ppcVar13[5];
        while (ppcVar10 != ppcVar13 + 5) {
          __android_log_print(3,"awplayer",
                                                            
                              "<%s:%u>: mElementaryPID = 0x%04x, mStreamType = 0x%04x, mMediaType = %u, codec_id = 0x%x "
                              ,"PrintTsStatus",0x73,ppcVar10[3],ppcVar10[4],ppcVar10[0x27],
                              ppcVar10[0x28],pcVar1,pcVar14,ppcVar11);
          ppcVar10 = (char **)*ppcVar10;
        }
        ppcVar13 = (char **)*ppcVar13;
      }
      *(undefined4 *)(param_1 + 0xf8) = 0;
      *(undefined4 *)(param_1 + 0x2150) = 0;
      pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0x2140));
      *(undefined4 *)(param_1 + 0x213c) = 1;
      pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0x2140));
      pthread_cond_signal((pthread_cond_t *)(param_1 + 0x2144));
      return 0;
    }
    iVar3 = *(int *)(param_1 + 0xf8);
    if (bVar15) {
LAB_0001a40c:
      bVar15 = true;
    }
    else {
      if (*(uint *)(iVar3 + 0x9c) < 3) {
        *(undefined4 *)(param_1 + 0x5840) = local_58;
        *(undefined4 *)(param_1 + 0x5844) = uStack84;
        goto LAB_0001a40c;
      }
    }
    if ((*(int *)(iVar3 + 0x9c) == 0) && (iVar3 == *(int *)(param_1 + 0x11c))) {
      if (*(uint *)(iVar3 + 0xe8) < local_44 + *(int *)(iVar3 + 0xec)) {
        __android_log_print(6,"awplayer",&DAT_00029209,"TSInit",0x12d6);
        *(undefined4 *)(param_1 + 0xf8) = 0;
        goto LAB_0001a4da;
      }
      memcpy((void *)(*(int *)(iVar3 + 0xe4) + *(int *)(iVar3 + 0xec)),*(void **)(iVar3 + 0x70),
             local_44);
      *(size_t *)(iVar3 + 0xec) = *(int *)(iVar3 + 0xec) + local_44;
      *(undefined4 *)(param_1 + 0xf8) = 0;
      iVar4 = ProbeVideoSpecificData
                        ((int)(param_1 + 0x5804),*(void **)(iVar3 + 0xe4),*(uint *)(iVar3 + 0xec),
                         *(int *)(iVar3 + 0xa0),3);
      if (iVar4 == -3) {
        uVar6 = 6;
        pcVar14 = "<%s:%u>: \x1b[40;31mprobeVideoSpecificData error\x1b[0m";
        uVar18 = 0x12f2;
        goto LAB_0001a49e;
      }
      if (iVar4 == 1) goto LAB_0001a4da;
      if (iVar4 == -2) {
        *(undefined4 *)(iVar3 + 0xec) = 0;
      }
      else {
        if (iVar4 != -1) {
          __android_log_print(6,"awplayer",&DAT_00029269,"TSInit",0x1305,iVar4);
        }
      }
    }
    else {
      *(undefined4 *)(param_1 + 0xf8) = 0;
    }
    goto LAB_0001a384;
  }
  uVar17 = 0x12c0;
  puVar7 = &DAT_0002911d;
LAB_0001a39a:
  __android_log_print(6,"awplayer",puVar7,"TSInit",uVar17);
  *(undefined4 *)(param_1 + 0x2150) = 2;
  pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0x2140));
  *(undefined4 *)(param_1 + 0x213c) = 1;
  pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0x2140));
  pthread_cond_signal((pthread_cond_t *)(param_1 + 0x2144));
  return 0xffffffff;
}



undefined8 FindNextPTS(int param_1,char *param_2,int param_3,char **param_4)

{
  char *pcVar1;
  byte *pbVar2;
  char *pcVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  char *pcVar7;
  ulonglong uVar8;
  
  iVar6 = *(int *)(param_1 + 0xa0);
  *param_4 = (char *)0x0;
  param_4[1] = (char *)0x0;
  pcVar7 = param_2 + (param_3 - iVar6);
  pcVar1 = param_2;
  do {
    if (pcVar7 < pcVar1) {
LAB_0001a980:
      uVar4 = 0xffffffff;
      uVar5 = 0xffffffff;
LAB_0001a988:
      return CONCAT44(uVar5,uVar4);
    }
    if (*(int *)(param_1 + 0x214c) != 0) {
      __android_log_print(5,"awplayer","<%s:%u>: mTSParser->forceStop","FindNextPTS",0x1446);
      goto LAB_0001a980;
    }
    if (*pcVar1 != 'G') {
      while ((pcVar3 = pcVar1 + 1, *pcVar1 != 'G' || (pcVar3[iVar6 + -1] != 'G'))) {
        pcVar1 = pcVar3;
        if (pcVar7 < pcVar3) goto LAB_0001a980;
      }
      if (pcVar7 <= pcVar1) goto LAB_0001a980;
    }
    if ((int)((uint)(byte)pcVar1[1] << 0x19) < 0) {
      uVar4 = CONCAT11(pcVar1[1],pcVar1[2]) & 0x1fff;
      uVar5 = 1 - uVar4;
      if (1 < uVar4) {
        uVar5 = 0;
      }
      if (*(char *)(param_1 + uVar4 + 0x138) == '\0') {
        uVar5 = uVar5 | 1;
      }
      if (uVar5 == 0) {
        uVar5 = ((uint)(byte)pcVar1[3] << 0x1a) >> 0x1e;
        uVar4 = 1 - uVar5;
        if (1 < uVar5) {
          uVar4 = 0;
        }
        if (uVar5 == 2) {
          uVar4 = uVar4 | 1;
        }
        if (uVar4 == 0) {
          pbVar2 = (byte *)(pcVar1 + 4);
          if (uVar5 == 3) {
            pbVar2 = pbVar2 + (byte)pcVar1[4] + 1;
          }
          if (pbVar2 < pcVar1 + 0xbc) {
            while (pbVar2 < pcVar1 + 0xaf) {
              if (((uint)pbVar2[1] << 8 | (uint)*pbVar2 << 0x10 | (uint)pbVar2[2]) == 1) {
                uVar5 = pbVar2[3] | 0x100;
                uVar4 = uVar5 - 0x1bd;
                if (uVar4 != 0) {
                  uVar4 = 1;
                }
                if (uVar5 - 0x1c0 < 0x30) {
                  uVar4 = 0;
                }
                else {
                  uVar4 = uVar4 & 1;
                }
                if (((uVar4 == 0) || (uVar5 == 0x1fd)) && ((pbVar2[7] & 0xc0) != 0)) {
                  uVar5 = (pbVar2[9] & 0xe) >> 3;
                  uVar4 = (pbVar2[9] & 0xe) << 0x1d | (uint)pbVar2[10] << 0x16 |
                          (uint)(pbVar2[0xd] >> 1) | (uint)pbVar2[0xc] << 7 |
                          (pbVar2[0xb] & 0xfe) << 0xe;
                  uVar8 = CONCAT44(uVar5,uVar4) ^ 0x1ffffffff;
                  if (((uint)(uVar8 >> 0x20) | (uint)uVar8) != 0) {
                    *param_4 = pcVar1 + -(int)param_2;
                    param_4[1] = (char *)((int)(pcVar1 + -(int)param_2) >> 0x1f);
                    goto LAB_0001a988;
                  }
                }
              }
              pbVar2 = pbVar2 + 1;
            }
          }
        }
      }
    }
    pcVar1 = pcVar1 + iVar6;
  } while( true );
}



int SeekToTime(int param_1,undefined4 param_2,uint param_3,int param_4,int param_5)

{
  char **ppcVar1;
  char *__ptr;
  int iVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  uint uVar5;
  char *pcVar6;
  int iVar7;
  uint uVar8;
  int iVar9;
  uint uVar10;
  int iVar11;
  bool bVar12;
  undefined8 uVar13;
  longlong lVar14;
  longlong lVar15;
  longlong lVar16;
  ulonglong uVar17;
  longlong lVar18;
  uint local_48;
  uint uStack68;
  char *local_30;
  undefined4 uStack44;
  
  ppcVar1 = *(char ***)(param_1 + 8);
  if (param_5 == 0) {
    uVar10 = 90000;
  }
  else {
    if (param_5 == 1) {
      uVar10 = 90000;
    }
    else {
      uVar10 = 0;
    }
  }
  iVar7 = *(int *)(param_1 + 0x38);
  if (iVar7 == 0) {
    FUN_000157dc(ppcVar1);
    uVar4 = *(undefined4 *)(param_1 + 0xa0);
    local_30 = (char *)0x0;
    uStack44 = 0;
    uVar13 = VectorAdd(CONCAT44(param_4 << 3 | param_3 >> 0x1d,param_3 << 3),
                       CONCAT44(param_4,param_3),8);
    uVar8 = *(uint *)(param_1 + 0x30);
    uVar13 = __aeabi_ldivmod((int)uVar13,(int)((ulonglong)uVar13 >> 0x20),100,0);
    iVar11 = *(int *)(param_1 + 0x34);
    lVar15 = VectorAdd(uVar13,*(undefined8 *)(*(int *)(param_1 + 0x134) + 0x30),8);
    __ptr = (char *)malloc(0x2fd0);
    if (__ptr == (char *)0x0) {
      iVar7 = -1;
      __android_log_print(6,"awplayer",&DAT_00027e24,"SeekToTime",0x14c0);
    }
    else {
      lVar16 = (ulonglong)param_3 * (ulonglong)uVar8;
      lVar16 = __aeabi_uldivmod((int)lVar16,
                                (int)((ulonglong)lVar16 >> 0x20) +
                                uVar8 * param_4 + param_3 * iVar11,1000000,0);
      __aeabi_ldivmod();
      lVar16 = lVar16 - CONCAT44(iVar7,uVar4);
      iVar7 = FUN_00015ee8((int *)ppcVar1);
      if (iVar7 < 0) {
        uVar4 = 0x14c6;
LAB_0001abf0:
        pcVar6 = "<%s:%u>: \x1b[40;31mCdxStreamSeek fail\x1b[0m";
        uVar3 = 6;
LAB_0001abf4:
        __android_log_print(uVar3,"awplayer",pcVar6,"SeekToTime",uVar4);
      }
      else {
        local_48 = (uint)lVar15;
        uStack68 = (uint)((ulonglong)lVar15 >> 0x20);
        iVar9 = 10;
        iVar11 = uStack68 + CARRY4(local_48,uVar10);
        do {
          iVar2 = FUN_00015524(ppcVar1);
          if (iVar2 < 1) {
            uVar4 = 0x14cf;
            pcVar6 = "<%s:%u>: CdxStreamRead fail";
LAB_0001ab1c:
            uVar3 = 5;
            goto LAB_0001abf4;
          }
          uVar17 = FindNextPTS(param_1,__ptr,iVar2,&local_30);
          uVar5 = (uint)(uVar17 >> 0x20);
          uVar8 = (uint)uVar17;
          if ((~uVar8 | ~uVar5) == 0) {
            uVar4 = 0x14d9;
            pcVar6 = "<%s:%u>: FindNextPTS fail";
            goto LAB_0001ab1c;
          }
          if ((int)((uVar5 - uStack68) - (uint)(local_48 > uVar8)) < 0 ==
              ((longlong)uVar17 < 0 == -1 < lVar15 &&
              (int)(uVar5 + ~uStack68 + (uint)(local_48 <= uVar8)) < 0 != (longlong)uVar17 < 0)) {
            lVar14 = ((ulonglong)uVar5 << 0x20) + (uVar17 & 0xffffffff);
            lVar18 = lVar15;
          }
          else {
            lVar14 = lVar15;
            lVar18 = ((ulonglong)uVar5 << 0x20) + (uVar17 & 0xffffffff);
          }
          uVar13 = VectorSub(lVar14,lVar18,8);
          lVar14 = lVar16 + CONCAT44(uStack44,local_30);
          bVar12 = uVar8 <= local_48 + uVar10;
          uVar4 = (undefined4)((ulonglong)uVar13 >> 0x20);
          if ((int)((iVar11 - uVar5) - (uint)!bVar12) < 0 ==
              (iVar11 < 0 == -1 < (longlong)uVar17 &&
              (int)(iVar11 + ~uVar5 + (uint)bVar12) < 0 != iVar11 < 0)) {
            lVar16 = uVar17 - 0x34;
            iVar2 = (int)((ulonglong)lVar16 >> 0x20);
            bVar12 = local_48 <= (uint)lVar16;
            if ((int)((iVar2 - uStack68) - (uint)!bVar12) < 0 ==
                (lVar16 < 0 == -1 < lVar15 &&
                (int)(iVar2 + ~uStack68 + (uint)bVar12) < 0 != lVar16 < 0)) break;
            lVar16 = __aeabi_ldivmod((int)uVar13,uVar4,90000,0);
            lVar16 = lVar14 + lVar16 * *(longlong *)(param_1 + 0x30);
            iVar2 = *(int *)(param_1 + 0x14);
            uVar8 = (uint)((ulonglong)lVar16 >> 0x20);
            bVar12 = (uint)lVar16 <= *(uint *)(param_1 + 0x10);
            if ((int)((iVar2 - uVar8) - (uint)!bVar12) < 0 !=
                (iVar2 < 0 == -1 < lVar16 && (int)(iVar2 + ~uVar8 + (uint)bVar12) < 0 != iVar2 < 0))
            break;
          }
          else {
            lVar18 = __aeabi_ldivmod((int)uVar13,uVar4,90000,0);
            lVar18 = lVar18 * *(longlong *)(param_1 + 0x30);
            lVar16 = lVar14 - lVar18;
            if ((int)(((int)((ulonglong)lVar14 >> 0x20) - (int)((ulonglong)lVar18 >> 0x20)) -
                     (uint)((uint)lVar14 < (uint)lVar18)) < 0) {
              lVar16 = 0;
            }
          }
          iVar2 = FUN_00015ee8((int *)ppcVar1);
          if (iVar2 < 0) {
            uVar4 = 0x1500;
            goto LAB_0001abf0;
          }
          FUN_000157dc(ppcVar1);
          iVar9 = iVar9 + -1;
        } while (iVar9 != 0);
      }
      free(__ptr);
    }
  }
  else {
    if (iVar7 == 1) {
      lVar15 = (ulonglong)*(uint *)(param_1 + 0x30) * (ulonglong)param_3;
      uVar13 = __aeabi_uldivmod((int)lVar15,
                                *(uint *)(param_1 + 0x30) * param_4 +
                                param_3 * *(int *)(param_1 + 0x34) +
                                (int)((ulonglong)lVar15 >> 0x20),1000000,0);
      uVar4 = *(undefined4 *)(param_1 + 0xa0);
      uVar3 = 0;
      __aeabi_ldivmod((int)uVar13,(int)((ulonglong)uVar13 >> 0x20),uVar4,0);
      VectorSub(uVar13,CONCAT44(uVar3,uVar4),8);
      iVar7 = FUN_00015ee8((int *)ppcVar1);
    }
    else {
      iVar7 = 0;
    }
  }
  return iVar7;
}



int TSSeekTo(char *param_1,undefined4 param_2,uint param_3,uint param_4)

{
  longlong lVar1;
  char *pcVar2;
  undefined4 *puVar3;
  undefined4 extraout_r1;
  code *pcVar4;
  int iVar5;
  uint uVar6;
  undefined *puVar7;
  char *pcVar8;
  int iVar9;
  pthread_mutex_t *__mutex;
  char **ppcVar10;
  uint uVar11;
  undefined8 uVar12;
  undefined4 uVar13;
  
  if ((*(int *)(param_1 + 0x213c) != 1) || (*(int *)(param_1 + 0x38) == -1)) {
    __android_log_print(6,"awplayer",&DAT_0002949d,"TSSeekTo",0x1550);
    *(undefined4 *)(param_1 + 0x2150) = 6;
    return -1;
  }
  if ((int)param_4 < 0) {
    __android_log_print(6,"awplayer",&DAT_000294cb,"TSSeekTo",0x1557);
    *(undefined4 *)(param_1 + 0x2150) = 5;
    return -1;
  }
  uVar6 = param_3;
  if (((*(uint *)(param_1 + 0x2148) & 0x40) == 0) &&
     (uVar6 = (uint)((ulonglong)*(uint *)(param_1 + 0x28) * 1000),
     uVar11 = ~(*(int *)(param_1 + 0x2c) * 1000 +
               (int)((ulonglong)*(uint *)(param_1 + 0x28) * 1000 >> 0x20)),
     param_3 < uVar6 && CARRY4(param_4,uVar11) ||
     param_3 >= uVar6 && param_4 + uVar11 + 1 <= param_4)) {
    *(undefined4 *)(param_1 + 0x2150) = 7;
    return 0;
  }
  __mutex = (pthread_mutex_t *)(param_1 + 0x2140);
  pthread_mutex_lock(__mutex);
  if (*(int *)(param_1 + 0x214c) != 0) {
    pthread_mutex_unlock(__mutex);
    return -1;
  }
  *(undefined4 *)(param_1 + 0x213c) = 4;
  pthread_mutex_unlock(__mutex);
  *(undefined4 *)(param_1 + 0x2150) = 0;
  ppcVar10 = *(char ***)(param_1 + 8);
  uVar12 = ResetCacheBuffer((int *)(param_1 + 0xfc),extraout_r1,uVar6);
  if ((int)uVar12 < 0) {
    __android_log_print(6,"awplayer",&DAT_00028ed9,"TSSeekTo",0x1570);
    *(undefined4 *)(param_1 + 0x2150) = 6;
  }
  else {
    if (*(int *)(param_1 + 0x38) != 2) {
      do {
        uVar6 = *(uint *)(*(int *)(param_1 + 0x134) + 0x30);
        uVar11 = *(uint *)(*(int *)(param_1 + 0x134) + 0x34);
        if ((~uVar6 | ~uVar11) != 0) {
          iVar9 = 0;
          lVar1 = (ulonglong)uVar6 * 100;
          uVar12 = __aeabi_ldivmod((int)lVar1,uVar11 * 100 + (int)((ulonglong)lVar1 >> 0x20),
                                   0xfffffff7,0xffffffff);
          uVar12 = VectorAdd(uVar12,*(undefined8 *)(param_1 + 0x40),8);
          uVar6 = param_3 - (uint)uVar12;
          uVar11 = (param_4 - (int)((ulonglong)uVar12 >> 0x20)) - (uint)(param_3 < (uint)uVar12);
          if ((uVar6 | uVar11) == 0) goto LAB_0001af40;
          iVar9 = uVar11 - (uVar6 == 0);
          if (iVar9 < 0 ==
              ((int)uVar11 < 0 && (int)((uVar11 - 1) + (uint)(uVar6 != 0)) < 0 != (int)uVar11 < 0))
          {
            iVar5 = 1;
          }
          else {
            iVar5 = 2;
          }
          iVar9 = SeekToTime((int)param_1,iVar9,param_3,param_4,iVar5);
          if (iVar9 < 0) {
            *(undefined4 *)(param_1 + 0x2150) = 6;
            goto LAB_0001af40;
          }
          *(undefined4 *)(param_1 + 0x48) = 0;
          *(undefined4 *)(param_1 + 0x4c) = 0;
          *(undefined4 *)(param_1 + 0x50) = 0;
          lVar1 = (ulonglong)*(uint *)(*(int *)(param_1 + 0x134) + 0x30) * 100;
          uVar13 = (undefined4)lVar1;
          iVar5 = *(int *)(*(int *)(param_1 + 0x134) + 0x34) * 100 + (int)((ulonglong)lVar1 >> 0x20)
          ;
          goto LAB_0001af28;
        }
        if (*(int *)(param_1 + 0x5800) != 0) {
          uVar13 = 0x15a5;
          puVar7 = &DAT_000294ee;
          goto LAB_0001ae66;
        }
        puVar3 = GetEs((uint)param_1,(undefined4 *)0x0);
      } while (-1 < (int)puVar3);
      uVar13 = 0x15ac;
      goto LAB_0001ae22;
    }
    if (ppcVar10 == (char **)0x0) {
      pcVar2 = "!(stream)";
      uVar13 = 0x19c;
      param_1 = "stream";
LAB_0001add2:
      pcVar8 = "CdxStreamSeekToTime";
      __android_log_assert
                (pcVar2,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamSeekToTime",uVar13,
                 param_1);
    }
    else {
      pcVar8 = *ppcVar10;
      if (pcVar8 == (char *)0x0) {
        __mutex = (pthread_mutex_t *)0x19d;
        pcVar2 = "!(stream->ops)";
        uVar13 = 0x19d;
        param_1 = "stream->ops";
        goto LAB_0001add2;
      }
    }
    pcVar4 = *(code **)(pcVar8 + 0x28);
    if (pcVar4 != (code *)0x0) {
      iVar9 = (*pcVar4)(ppcVar10,pcVar4,param_3,param_4);
      if (-1 < iVar9) {
LAB_0001ae30:
        uVar6 = *(uint *)(*(int *)(param_1 + 0x134) + 0x30);
        uVar11 = *(uint *)(*(int *)(param_1 + 0x134) + 0x34);
        if ((~uVar6 | ~uVar11) != 0) {
          lVar1 = (ulonglong)uVar6 * 100;
          uVar13 = (undefined4)lVar1;
          iVar5 = uVar11 * 100 + (int)((ulonglong)lVar1 >> 0x20);
LAB_0001af28:
          uVar12 = __aeabi_ldivmod(uVar13,iVar5,9,0);
          uVar12 = VectorAdd(CONCAT44(param_4,param_3),uVar12,8);
          *(undefined8 *)(param_1 + 0x40) = uVar12;
          goto LAB_0001af40;
        }
        if (*(int *)(param_1 + 0x5800) == 0) goto LAB_0001ae08;
        uVar13 = 0x1581;
        puVar7 = &DAT_00028dfc;
LAB_0001ae66:
        __android_log_print(6,"awplayer",puVar7,"TSSeekTo",uVar13);
        *(undefined4 *)(param_1 + 0x2150) = 6;
        goto LAB_0001ae2a;
      }
      goto LAB_0001af40;
    }
  }
LAB_0001ae2a:
  iVar9 = -1;
LAB_0001af40:
  *(undefined4 *)(param_1 + 0x2138) = 0;
  *(undefined4 *)(param_1 + 0xf8) = 0;
  ResetStreamsInProgram(*(int *)(param_1 + 0x134));
  ResetPSISection((int)param_1);
  pthread_mutex_lock(__mutex);
  *(undefined4 *)(param_1 + 0x213c) = 1;
  pthread_mutex_unlock(__mutex);
  pthread_cond_signal((pthread_cond_t *)(param_1 + 0x2144));
  __android_log_print(3,"awplayer","<%s:%u>: TSSeekTo end, ret = %d, OutputTimeUs = %lld","TSSeekTo"
                      ,0x15e5,iVar9,*(undefined4 *)(param_1 + 0x40),*(undefined4 *)(param_1 + 0x44))
  ;
  return iVar9;
LAB_0001ae08:
  puVar3 = GetEs((uint)param_1,(undefined4 *)0x0);
  if ((int)puVar3 < 0) goto code_r0x0001ae12;
  goto LAB_0001ae30;
code_r0x0001ae12:
  uVar13 = 0x1588;
LAB_0001ae22:
  __android_log_print(6,"awplayer",&DAT_00028e53,"TSSeekTo",uVar13);
  goto LAB_0001ae2a;
}



undefined4 __CdxMovParserGetStatus(int param_1)

{
  return *(undefined4 *)(param_1 + 0x54);
}



undefined8 FUN_0001b030(int *param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  uint uVar2;
  
  if ((uint)param_1[1] < 8) {
    param_1 = (int *)0x4a2;
    __android_log_print(6,"CdxMovParser",&DAT_0002957c,"__CdxMovParserProbe",0x4a2,param_2,param_3);
    uVar2 = 0;
  }
  else {
    iVar1 = *(int *)(*param_1 + 4);
    if (((iVar1 != 0x7461646d && iVar1 != 0x70797466) &&
        (iVar1 != 0x70797473 && iVar1 != 0x666f6f6d)) &&
       (iVar1 != 0x70696b73 && iVar1 != 0x766f6f6d)) {
      uVar2 = (uint)(iVar1 == 0x61746475);
      if (iVar1 == 0x64697575) {
        uVar2 = 1;
      }
      if (uVar2 == 0) goto LAB_0001b0e4;
    }
    param_1 = (int *)0x4ac;
    __android_log_print(3,"CdxMovParser","<%s:%u>:  --- probe: it is mov parser",
                        "__CdxMovParserProbe",0x4ac,param_2,param_3);
    uVar2 = 100;
  }
LAB_0001b0e4:
  return CONCAT44(param_1,uVar2);
}



undefined4 FUN_0001b180(int param_1,char *param_2)

{
  char *pcVar1;
  int *piVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  char *pcVar5;
  code *pcVar6;
  int iVar7;
  uint uVar8;
  int **unaff_r6;
  undefined4 *puVar9;
  undefined4 uVar10;
  int iVar11;
  int **__src;
  undefined8 uVar12;
  undefined4 uVar13;
  int *local_38;
  
  if (param_1 == 0) {
    pcVar1 = "!(parser)";
    uVar13 = 0x2c6;
    pcVar5 = "__CdxMovParserGetMediaInfo";
    param_2 = s_parser_00027c35;
  }
  else {
    do {
      if (*(int *)(param_1 + 0x54) == 0) break;
      usleep(100);
    } while (*(int *)(param_1 + 0x50) == 0);
    memset(param_2,0,0x3648);
    unaff_r6 = *(int ***)(param_1 + 0x68);
    piVar2 = *unaff_r6;
    if (piVar2 != (int *)0x0) goto LAB_0001b204;
    pcVar1 = "!(stream)";
    pcVar5 = "CdxStreamSize";
    uVar13 = 0x1bd;
    param_2 = "stream";
  }
  while( true ) {
    piVar2 = (int *)__android_log_assert
                              (pcVar1,"CdxMovParser","<%s:%d>CDX_CHECK(%s) failed.",pcVar5,uVar13,
                               param_2);
LAB_0001b204:
    if (*piVar2 != 0) break;
    unaff_r6 = (int **)0x1be;
    pcVar1 = "!(stream->ops)";
    pcVar5 = "CdxStreamSize";
    uVar13 = 0x1be;
    param_2 = "stream->ops";
  }
  pcVar6 = *(code **)(*piVar2 + 0x34);
  if (pcVar6 == (code *)0x0) {
    uVar12 = 0xffffffffffffffff;
  }
  else {
    uVar12 = (*pcVar6)();
  }
  __src = unaff_r6 + 0x78;
  *(int *)param_2 = (int)uVar12;
  *(int *)((int)param_2 + 4) = (int)((ulonglong)uVar12 >> 0x20);
  *(undefined4 *)((int)param_2 + 0x10) = 1;
  *(undefined4 *)((int)param_2 + 0x14) = 0;
  memcpy((undefined4 *)((int)param_2 + 0x35f4),unaff_r6 + 0x70,0x20);
  memcpy((undefined4 *)((int)param_2 + 0x33e4),__src,0x20);
  memcpy((undefined4 *)((int)param_2 + 0x330c),__src,0x20);
  memcpy((undefined4 *)((int)param_2 + 0x3574),__src,0x20);
  memcpy((undefined4 *)((int)param_2 + 0x3534),__src,0x20);
  memcpy((undefined4 *)((int)param_2 + 0x339c),__src,0x20);
  local_38 = (int *)0x0;
  while ((int)local_38 < (int)unaff_r6[0x3f]) {
    piVar2 = unaff_r6[(int)local_38 + 0x42];
    iVar7 = piVar2[0x26];
    if (iVar7 == 0) {
      if (piVar2[0x14] == 0) {
        iVar7 = piVar2[0x3b];
        puVar9 = (undefined4 *)((int)param_2 + (*(int *)((int)param_2 + 0x2c) * 0xf + 0x492) * 4);
        *(int *)((int)param_2 + (*(int *)((int)param_2 + 0x2c) * 0xf + 0x492) * 4) = iVar7;
        __android_log_print(3,"CdxMovParser","<%s:%u>: --- codecformat = %x",
                            "__CdxMovParserGetMediaInfo",0x2f2,iVar7);
        puVar9[1] = piVar2[0x28];
        puVar9[2] = piVar2[0x29];
        iVar11 = piVar2[0x16];
        if (iVar11 == 0) {
          __android_log_print(5,"CdxMovParser",
                              "<%s:%u>: sample duration is 0, cannot get the framerate",
                              "__CdxMovParserGetMediaInfo",0x2fc,iVar7);
          puVar9[3] = 0;
        }
        else {
          uVar13 = __aeabi_ldivmod((int)((longlong)piVar2[0x17] * 1000),
                                   (int)((ulonglong)((longlong)piVar2[0x17] * 1000) >> 0x20),iVar11,
                                   iVar11 >> 0x1f);
          puVar9[3] = uVar13;
          __android_log_print(3,"CdxMovParser",
                                                            
                              "<%s:%u>: ---- frame rate = %d, st->time_scale: %d, st->sample_duration: %d"
                              ,"__CdxMovParserGetMediaInfo",0x2f8,uVar13,piVar2[0x17],piVar2[0x16]);
        }
        uVar13 = puVar9[2];
        __android_log_print(3,"CdxMovParser","<%s:%u>: width = %d, height = %d",
                            "__CdxMovParserGetMediaInfo",0x300,puVar9[1],uVar13);
        if (piVar2[0x2f] != 0) {
          __android_log_print(3,"CdxMovParser","<%s:%u>: extradataSize = %d",
                              "__CdxMovParserGetMediaInfo",0x303,piVar2[0x2f],uVar13);
          puVar9[7] = piVar2[0x2f];
          puVar9[8] = piVar2[0x2e];
        }
        unaff_r6[*(int *)((int)param_2 + 0x2c) + 0xc] = local_38;
        iVar7 = *(int *)((int)param_2 + 0x2c) + 1;
        *(int *)((int)param_2 + 0x2c) = iVar7;
        if (4 < iVar7) {
          __android_log_print(5,"CdxMovParser","<%s:%u>: video stream number<%d> > MAX_STREAM_NUM",
                              "__CdxMovParserGetMediaInfo",0x30b,iVar7,uVar13);
        }
        memcpy((undefined4 *)((int)param_2 + 0x3634),piVar2 + 0x58,4);
      }
    }
    else {
      if (iVar7 == 1) {
        iVar7 = *(int *)((int)param_2 + 0x24);
        puVar9 = (undefined4 *)((int)param_2 + (iVar7 * 0x24 + 0x12) * 4);
        *(int *)((int)param_2 + (iVar7 * 0x24 + 0x12) * 4) = piVar2[0x3b];
        puVar9[1] = piVar2[0x3c];
        puVar9[2] = piVar2[0x2b];
        puVar9[3] = piVar2[0x2d];
        puVar9[4] = piVar2[0x2a];
        puVar9[5] = piVar2[0x27];
        puVar9[6] = piVar2[0x27];
        memcpy(puVar9 + 10,piVar2 + 0x1e,0x20);
        __android_log_print(3,"CdxMovParser","<%s:%u>: ********* audio %d************",
                            "__CdxMovParserGetMediaInfo",799,*(undefined4 *)((int)param_2 + 0x24));
        __android_log_print(3,"CdxMovParser","<%s:%u>: ****eCodecFormat:    %d",
                            "__CdxMovParserGetMediaInfo",800,
                            *(undefined4 *)((int)param_2 + (iVar7 * 0x24 + 0x12) * 4));
        __android_log_print(3,"CdxMovParser","<%s:%u>: ****eSubCodecFormat: %d",
                            "__CdxMovParserGetMediaInfo",0x321,puVar9[1]);
        __android_log_print(3,"CdxMovParser","<%s:%u>: ****nChannelNum:     %d",
                            "__CdxMovParserGetMediaInfo",0x322,puVar9[2]);
        __android_log_print(3,"CdxMovParser","<%s:%u>: ****nBitsPerSample:  %d",
                            "__CdxMovParserGetMediaInfo",0x323,puVar9[3]);
        __android_log_print(3,"CdxMovParser","<%s:%u>: ****nSampleRate:     %d",
                            "__CdxMovParserGetMediaInfo",0x324,puVar9[4]);
        __android_log_print(3,"CdxMovParser","<%s:%u>: ****nAvgBitrate:     %d",
                            "__CdxMovParserGetMediaInfo",0x325,puVar9[5]);
        __android_log_print(3,"CdxMovParser","<%s:%u>: ****nMaxBitRate:     %d",
                            "__CdxMovParserGetMediaInfo",0x326,puVar9[6]);
        __android_log_print(3,"CdxMovParser","<%s:%u>: ****extradataSize    %d",
                            "__CdxMovParserGetMediaInfo",0x327,piVar2[0x2f]);
        __android_log_print(3,"CdxMovParser","<%s:%u>: ***************************",
                            "__CdxMovParserGetMediaInfo",0x328);
        if (piVar2[0x2f] != 0) {
          puVar9[0x1b] = piVar2[0x2e];
          puVar9[0x1a] = piVar2[0x2f];
        }
        unaff_r6[*(int *)((int)param_2 + 0x24) + 0x11] = local_38;
        iVar7 = *(int *)((int)param_2 + 0x24);
        *(int *)((int)param_2 + 0x24) = iVar7 + 1;
        if (4 < iVar7 + 1) {
          __android_log_print(5,"CdxMovParser","<%s:%u>: audio stream number<%d> > MAX_STREAM_NUM",
                              "__CdxMovParserGetMediaInfo",0x334,
                              *(undefined4 *)((int)param_2 + 0x2c));
        }
      }
      else {
        if (iVar7 == 2) {
          puVar9 = (undefined4 *)((int)param_2 + *(int *)((int)param_2 + 0x34) * 0x41 * 4);
          puVar9[0x4b9] = piVar2[0x3b];
          puVar9[0x4ba] = piVar2[0x3c];
          memcpy(puVar9 + 0x4a2,piVar2 + 0x1e,0x20);
          if (piVar2[0x2f] != 0) {
            puVar9[0x4e1] = piVar2[0x2e];
            puVar9[0x4e0] = piVar2[0x2f];
          }
          __android_log_print(3,"CdxMovParser","<%s:%u>: ***************subtitle %d**********",
                              "__CdxMovParserGetMediaInfo",0x344,
                              *(undefined4 *)((int)param_2 + 0x34));
          __android_log_print(3,"CdxMovParser","<%s:%u>: ****eCodecFormat:    %d",
                              "__CdxMovParserGetMediaInfo",0x345,puVar9[0x4b9]);
          __android_log_print(3,"CdxMovParser","<%s:%u>: ****eSubCodecFormat: %d",
                              "__CdxMovParserGetMediaInfo",0x346,puVar9[0x4ba]);
          __android_log_print(3,"CdxMovParser","<%s:%u>: ****strLang:         %s",
                              "__CdxMovParserGetMediaInfo",0x347,puVar9 + 0x4a2);
          __android_log_print(3,"CdxMovParser","<%s:%u>: ****extradatasize:   %d",
                              "__CdxMovParserGetMediaInfo",0x348,piVar2[0x2f]);
          __android_log_print(3,"CdxMovParser","<%s:%u>: ************************************",
                              "__CdxMovParserGetMediaInfo",0x349);
          unaff_r6[*(int *)((int)param_2 + 0x34) + 0x16] = local_38;
          piVar2[0x57] = 1;
          *(int *)((int)param_2 + 0x34) = *(int *)((int)param_2 + 0x34) + 1;
        }
      }
    }
    local_38 = (int *)((int)local_38 + 1U & 0xff);
  }
  uVar13 = *(undefined4 *)((int)param_2 + 0x2c);
  uVar4 = *(undefined4 *)((int)param_2 + 0x24);
  uVar10 = *(undefined4 *)((int)param_2 + 0x34);
  __android_log_print(3,"CdxMovParser",
                      "<%s:%u>: streamNum = %d, videoNum = %d, audioNum = %d, subtitleNum = %d",
                      "__CdxMovParserGetMediaInfo",0x350,unaff_r6[0x3f],uVar13,uVar4,uVar10);
  *(undefined4 *)((int)param_2 + 0x28) = 0;
  *(undefined4 *)((int)param_2 + 0x38) = 0;
  *(undefined4 *)((int)param_2 + 0x30) = 0;
  *(undefined2 *)(unaff_r6 + 0x4f) = *(undefined2 *)(unaff_r6 + 0xc);
  *(undefined2 *)((int)unaff_r6 + 0x13e) =
       *(undefined2 *)(unaff_r6 + *(int *)((int)param_2 + 0x28) + 0x11);
  *(undefined2 *)(unaff_r6 + 0x50) =
       *(undefined2 *)(unaff_r6 + *(int *)((int)param_2 + 0x38) + 0x16);
  CdxMovSetStream(param_1);
  *(undefined4 *)((int)param_2 + 0x20) = *(undefined4 *)(param_1 + 0x74);
  uVar3 = *(undefined4 *)(param_1 + 0x74);
  __android_log_print(3,"CdxMovParser","<%s:%u>: -- mov duration = %d","__CdxMovParserGetMediaInfo",
                      0x35d,uVar3);
  if ((unaff_r6[0xb] == (int *)0x0) ||
     ((*(char *)(param_1 + 0x6c) != '\0' && (*(int *)(param_1 + 0x78) == 0)))) {
    __android_log_print(3,"CdxMovParser","<%s:%u>: can not seek","__CdxMovParserGetMediaInfo",0x361,
                        uVar3,uVar13,uVar4,uVar10);
    uVar13 = 0;
  }
  else {
    uVar13 = 1;
  }
  *(undefined4 *)((int)param_2 + 0xc) = uVar13;
  uVar8 = 0;
  while ((int)uVar8 < (int)unaff_r6[0x3f]) {
    __android_log_print(3,"CdxMovParser",
                        "<%s:%u>: --i = %d, stsd_type = %d, stream_index = %d, nb_streams = %d",
                        "__CdxMovParserGetMediaInfo",0x36d,uVar8,unaff_r6[uVar8 + 0x42][0x12],
                        unaff_r6[uVar8 + 0x42][0x13],unaff_r6[0x3f]);
    uVar8 = uVar8 + 1 & 0xff;
  }
  *(undefined4 *)(param_1 + 0x58) = 1;
  return 0;
}



void FUN_0001b8a8(char **param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (char **)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x17d;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = *param_1;
    if (pcVar2 != (char *)0x0) goto LAB_0001b8ec;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x17e;
    pcVar3 = "stream->ops";
  }
  while( true ) {
    pcVar2 = "CdxStreamControl";
    __android_log_assert
              (pcVar1,"CdxMovParser","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamControl",uVar4,pcVar3)
    ;
LAB_0001b8ec:
    if (*(code **)(pcVar2 + 0x18) != (code *)0x0) break;
    pcVar1 = "!(stream->ops->control)";
    uVar4 = 0x17f;
    pcVar3 = "stream->ops->control";
  }
  (**(code **)(pcVar2 + 0x18))();
  return;
}



undefined8 FUN_0001b94c(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  bool bVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  
  if (param_1 == 0) {
    iVar4 = 0x173;
    __android_log_print(6,"CdxMovParser",&DAT_000299e0,"__CdxMovParserClose",0x173,param_2,param_3);
    iVar2 = -1;
  }
  else {
    *(undefined4 *)(param_1 + 0x50) = 1;
    iVar4 = param_1;
    FUN_0001b8a8(*(char ***)(param_1 + 8));
    piVar3 = (int *)(param_1 + 0x5c);
    DataMemoryBarrier(0x1f);
    do {
      ExclusiveAccess(piVar3);
      bVar1 = (bool)hasExclusiveAccess(piVar3);
    } while (!bVar1);
    *piVar3 = *piVar3 + -1;
    DataMemoryBarrier(0x1f);
    while( true ) {
      piVar3 = (int *)(param_1 + 0x5c);
      DataMemoryBarrier(0x1f);
      do {
        ExclusiveAccess(piVar3);
        iVar2 = *piVar3;
        bVar1 = (bool)hasExclusiveAccess(piVar3);
      } while (!bVar1);
      *piVar3 = iVar2;
      DataMemoryBarrier(0x1f);
      if (iVar2 == 0) break;
      iVar4 = 0x17f;
      __android_log_print(3,"CdxMovParser","<%s:%u>: wait for ref = %d","__CdxMovParserClose",0x17f,
                          iVar2,param_3);
      usleep(10000);
    }
    CdxMovClose(param_1);
    CdxMovExit((void *)param_1);
  }
  return CONCAT44(iVar4,iVar2);
}



undefined4
FUN_0001ba1c(int *param_1,undefined param_2,undefined param_3,undefined param_4,undefined4 param_5)

{
  char *pcVar1;
  int iVar2;
  int extraout_r1;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (int *)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x194;
    pcVar3 = "stream";
  }
  else {
    iVar2 = *param_1;
    if (iVar2 != 0) goto LAB_0001ba60;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x195;
    pcVar3 = "stream->ops";
  }
  __android_log_assert
            (pcVar1,"CdxMovParser","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamSeek",uVar4,pcVar3);
  iVar2 = extraout_r1;
LAB_0001ba60:
  if (*(code **)(iVar2 + 0x24) == (code *)0x0) {
    uVar4 = 0xffffffff;
  }
  else {
    uVar4 = (**(code **)(iVar2 + 0x24))();
  }
  return uVar4;
}



undefined4 FUN_0001ba9c(char **param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (char **)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x1ac;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = *param_1;
    if (pcVar2 != (char *)0x0) goto LAB_0001bae0;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x1ad;
    pcVar3 = "stream->ops";
  }
  pcVar2 = "CdxStreamTell";
  __android_log_assert
            (pcVar1,"CdxMovParser","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamTell",uVar4,pcVar3);
LAB_0001bae0:
  if (*(code **)(pcVar2 + 0x30) == (code *)0x0) {
    uVar4 = 0xffffffff;
  }
  else {
    uVar4 = (**(code **)(pcVar2 + 0x30))();
  }
  return uVar4;
}



void FUN_0001bb1c(undefined4 *param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (undefined4 *)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x154;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = (char *)*param_1;
    if (pcVar2 != (char *)0x0) goto LAB_0001bb60;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x155;
    pcVar3 = "stream->ops";
  }
  while( true ) {
    pcVar2 = "CdxStreamRead";
    __android_log_assert
              (pcVar1,"CdxMovParser","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamRead",uVar4,pcVar3);
LAB_0001bb60:
    if (*(code **)(pcVar2 + 8) != (code *)0x0) break;
    pcVar1 = "!(stream->ops->read)";
    uVar4 = 0x156;
    pcVar3 = "stream->ops->read";
  }
  (**(code **)(pcVar2 + 8))();
  return;
}



undefined4 FUN_0001bbc0(int param_1,void *param_2)

{
  undefined4 uVar1;
  uint uVar2;
  int iVar3;
  undefined4 extraout_r1;
  char *pcVar4;
  int iVar5;
  int *piVar6;
  int **ppiVar7;
  int iVar8;
  int *piVar9;
  int *piVar10;
  undefined8 uVar11;
  
  ppiVar7 = *(int ***)(param_1 + 0x68);
  piVar10 = *ppiVar7;
  if (*(int *)(param_1 + 0x54) == 7) {
    uVar1 = 0x19f;
    pcVar4 = "<%s:%u>: ---EOS";
LAB_0001be92:
    __android_log_print(5,"CdxMovParser",pcVar4,"__CdxMovParserPrefetch",uVar1);
  }
  else {
    iVar5 = *(int *)(param_1 + 0x58);
    uVar2 = iVar5 - 1;
    if (uVar2 != 0) {
      uVar2 = 1;
    }
    if (iVar5 == 3) {
      uVar2 = 0;
    }
    else {
      uVar2 = uVar2 & 1;
    }
    if (uVar2 != 0) {
      __android_log_print(5,"CdxMovParser","<%s:%u>: the status of prefetch is error",
                          "__CdxMovParserPrefetch",0x1a5);
      *(undefined4 *)(param_1 + 0x54) = 5;
      return 0xffffffff;
    }
    if (*(int *)(param_1 + 0x50) == 0) {
      if (iVar5 == 3) {
        __android_log_print(5,"CdxMovParser","<%s:%u>: ----- prefetch in prefetching, care******",
                            "__CdxMovParserPrefetch",0x1b3);
        *(undefined4 *)((int)param_2 + 0x24) = *(undefined4 *)(param_1 + 0x34);
        *(undefined4 *)((int)param_2 + 0x20) = *(undefined4 *)(param_1 + 0x30);
        uVar1 = *(undefined4 *)(param_1 + 0x24);
        *(undefined4 *)((int)param_2 + 0x10) = *(undefined4 *)(param_1 + 0x20);
        *(undefined4 *)((int)param_2 + 0x14) = uVar1;
        uVar1 = *(undefined4 *)(param_1 + 0x2c);
        *(undefined4 *)((int)param_2 + 0x18) = *(undefined4 *)(param_1 + 0x28);
        *(undefined4 *)((int)param_2 + 0x1c) = uVar1;
        *(undefined4 *)((int)param_2 + 0x28) = *(undefined4 *)(param_1 + 0x38);
        *(undefined4 *)(param_1 + 0x58) = 3;
        return 0;
      }
      *(undefined4 *)(param_1 + 0x58) = 2;
      memset(param_2,0,0x40);
      iVar5 = CdxMovRead(param_1,extraout_r1);
      if (iVar5 == 1) {
        *(undefined4 *)(param_1 + 0x54) = 7;
        __android_log_print(5,"CdxMovParser","<%s:%u>: Try to read sample failed! end of stream",
                            "__CdxMovParserPrefetch",0x1c3);
        *(undefined4 *)(param_1 + 0x58) = 1;
        return 0xffffffff;
      }
      if (iVar5 == -1) {
        __android_log_print(5,"CdxMovParser","<%s:%u>: --- parser IO_ERR, maybe forcestop",
                            "__CdxMovParserPrefetch",0x1ca);
        *(undefined4 *)(param_1 + 0x58) = 1;
        return 0xffffffff;
      }
      piVar9 = ppiVar7[5];
      piVar6 = ppiVar7[(int)ppiVar7[10] + 0x42];
      *(int **)((int)param_2 + 0x24) = piVar9;
      iVar5 = piVar6[0x12];
      if (iVar5 == 1) {
        *(undefined4 *)((int)param_2 + 0x20) = 0;
        uVar11 = __aeabi_ldivmod((int)((ulonglong)(uint)piVar6[0x4c] * 1000000),
                                 piVar6[0x4d] * 1000000 +
                                 (int)((ulonglong)(uint)piVar6[0x4c] * 1000000 >> 0x20),piVar6[0x17]
                                 ,piVar6[0x17] >> 0x1f);
        uVar2 = piVar6[0x36] * 1000000;
        *(uint *)((int)param_2 + 0x10) = (uint)uVar11 + uVar2;
        *(uint *)((int)param_2 + 0x14) =
             (int)((ulonglong)uVar11 >> 0x20) +
             ((int)uVar2 >> 0x1f) + (uint)CARRY4((uint)uVar11,uVar2);
        if (*(int *)(param_1 + 100) == 0) {
          iVar5 = piVar6[0x40];
          iVar8 = *(int *)(param_1 + 0x68);
          if (piVar6[0x46] <= piVar6[5]) {
            iVar3 = ReadStss(iVar8,(int)piVar6,piVar6[0x46] << 2);
            if (iVar3 == iVar5) {
              piVar6[0x46] = piVar6[0x46] + 1;
            }
            else {
              do {
                if ((iVar5 <= iVar3) || (piVar6[5] < piVar6[0x46])) goto LAB_0001bec2;
                iVar3 = ReadStss(iVar8,(int)piVar6,piVar6[0x46] << 2);
                piVar6[0x46] = piVar6[0x46] + 1;
              } while (iVar3 != iVar5);
            }
            *(uint *)((int)param_2 + 0x28) = *(uint *)((int)param_2 + 0x28) | 8;
          }
        }
LAB_0001bec2:
        *(uint *)((int)param_2 + 0x28) = *(uint *)((int)param_2 + 0x28) | 6;
        *(undefined4 *)(param_1 + 0x34) = *(undefined4 *)((int)param_2 + 0x24);
        *(undefined4 *)(param_1 + 0x30) = *(undefined4 *)((int)param_2 + 0x20);
        uVar1 = *(undefined4 *)((int)param_2 + 0x14);
        *(undefined4 *)(param_1 + 0x20) = *(undefined4 *)((int)param_2 + 0x10);
        *(undefined4 *)(param_1 + 0x24) = uVar1;
        uVar1 = *(undefined4 *)((int)param_2 + 0x1c);
        *(undefined4 *)(param_1 + 0x28) = *(undefined4 *)((int)param_2 + 0x18);
        *(undefined4 *)(param_1 + 0x2c) = uVar1;
        *(undefined4 *)(param_1 + 0x38) = *(undefined4 *)((int)param_2 + 0x28);
        *(undefined4 *)(param_1 + 0x58) = 3;
        return 0;
      }
      if (iVar5 == 2) {
        *(int *)((int)param_2 + 0x2c) = piVar6[0x13];
        *(undefined4 *)((int)param_2 + 0x20) = 1;
        uVar11 = __aeabi_ldivmod((int)((ulonglong)(uint)piVar6[0x4c] * 1000000),
                                 piVar6[0x4d] * 1000000 +
                                 (int)((ulonglong)(uint)piVar6[0x4c] * 1000000 >> 0x20),piVar6[0x17]
                                 ,piVar6[0x17] >> 0x1f);
        uVar2 = piVar6[0x36] * 1000000;
        *(uint *)((int)param_2 + 0x10) = (uint)uVar11 + uVar2;
        *(uint *)((int)param_2 + 0x14) =
             (int)((ulonglong)uVar11 >> 0x20) +
             ((int)uVar2 >> 0x1f) + (uint)CARRY4((uint)uVar11,uVar2);
        goto LAB_0001bec2;
      }
      if (iVar5 != 3) goto LAB_0001bec2;
      iVar5 = piVar6[0x13];
      *(undefined4 *)((int)param_2 + 0x20) = 2;
      *(int *)((int)param_2 + 0x2c) = iVar5;
      uVar11 = __aeabi_ldivmod((int)((ulonglong)(uint)piVar6[0x4c] * 1000000),
                               piVar6[0x4d] * 1000000 +
                               (int)((ulonglong)(uint)piVar6[0x4c] * 1000000 >> 0x20),piVar6[0x17],
                               piVar6[0x17] >> 0x1f);
      uVar2 = piVar6[0x36] * 1000000;
      *(uint *)((int)param_2 + 0x10) = (uint)uVar11 + uVar2;
      *(uint *)((int)param_2 + 0x14) =
           (int)((ulonglong)uVar11 >> 0x20) +
           ((int)uVar2 >> 0x1f) + (uint)CARRY4((uint)uVar11,uVar2);
      uVar11 = __aeabi_ldivmod((int)((ulonglong)(uint)piVar6[0x4e] * 1000000),
                               piVar6[0x4f] * 1000000 +
                               (int)((ulonglong)(uint)piVar6[0x4e] * 1000000 >> 0x20),piVar6[0x17],
                               piVar6[0x17] >> 0x1f);
      uVar2 = piVar6[0x36] * 1000000;
      *(uint *)((int)param_2 + 0x18) = (uint)uVar11 + uVar2;
      *(uint *)((int)param_2 + 0x1c) =
           (int)((ulonglong)uVar11 >> 0x20) +
           ((int)uVar2 >> 0x1f) + (uint)CARRY4((uint)uVar11,uVar2);
      if (piVar6[0x3b] != 0x201) goto LAB_0001bec2;
      if (piVar9 == (int *)0x2) {
        *(undefined4 *)(param_1 + 0x58) = 1;
        uVar1 = FUN_0001bbc0(param_1,param_2);
        return uVar1;
      }
      iVar5 = FUN_0001ba1c(piVar10,(char)((ulonglong)uVar11 >> 0x20),(char)ppiVar7[6],
                           (char)ppiVar7[7],0);
      if (-1 < iVar5) {
        iVar5 = FUN_0001bb1c(piVar10);
        if (-1 < iVar5) {
          if (0 < *(int *)((int)param_2 + 0x24) + -2) {
            *(undefined4 *)((int)param_2 + 0x24) = 0;
          }
          uVar11 = VectorAdd(*(undefined8 *)(ppiVar7 + 6),2,8);
          *(undefined8 *)(ppiVar7 + 6) = uVar11;
          goto LAB_0001bec2;
        }
        *(undefined4 *)(param_1 + 0x58) = 1;
        uVar1 = 0x209;
        pcVar4 = "<%s:%u>: ---  read error";
        goto LAB_0001be92;
      }
      __android_log_print(5,"CdxMovParser","<%s:%u>:  seek failed","__CdxMovParserPrefetch",0x200);
    }
    *(undefined4 *)(param_1 + 0x58) = 1;
  }
  return 0xffffffff;
}



void FUN_0001bf60(char **param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (char **)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x174;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = *param_1;
    if (pcVar2 != (char *)0x0) goto LAB_0001bfa4;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x175;
    pcVar3 = "stream->ops";
  }
  while( true ) {
    pcVar2 = "CdxStreamAttribute";
    __android_log_assert
              (pcVar1,"CdxMovParser","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamAttribute",uVar4,
               pcVar3);
LAB_0001bfa4:
    if (*(code **)(pcVar2 + 0x14) != (code *)0x0) break;
    pcVar1 = "!(stream->ops->attribute)";
    uVar4 = 0x176;
    pcVar3 = "stream->ops->attribute";
  }
  (**(code **)(pcVar2 + 0x14))();
  return;
}



uint FUN_0001c004(char **param_1,uint param_2)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  undefined extraout_r1;
  uint uVar5;
  
  iVar1 = __stack_chk_guard;
  uVar3 = param_2;
  if (param_2 != 0) {
    iVar2 = FUN_0001bf60(param_1);
    if (iVar2 << 0x1f < 0) {
      uVar3 = FUN_0001ba1c((int *)param_1,extraout_r1,(char)param_2,0,1);
    }
    else {
      if (param_2 < 0xa001) {
        uVar5 = 10;
        do {
          uVar3 = param_2;
          if (0xfff < (int)param_2) {
            uVar3 = 0x1000;
          }
          uVar4 = FUN_0001bb1c(param_1);
          if (uVar4 != uVar3) goto LAB_0001c088;
          param_2 = param_2 - uVar4;
          uVar3 = param_2;
        } while ((param_2 != 0) && (uVar3 = uVar5 - 1, uVar5 = uVar3, uVar3 != 0));
      }
      else {
        __android_log_print(6,"CdxMovParser",&DAT_00029b4b,"CdxStreamSkip",0x1e0,param_2);
LAB_0001c088:
        uVar3 = 0xffffffff;
      }
    }
  }
  if (iVar1 != __stack_chk_guard) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return uVar3;
}



undefined4 FUN_0001c0bc(int param_1,undefined4 *param_2)

{
  undefined4 uVar1;
  int iVar2;
  uint uVar3;
  void *__ptr;
  int iVar4;
  undefined4 extraout_r1;
  undefined1 *puVar5;
  char *pcVar6;
  char **ppcVar7;
  char **ppcVar8;
  undefined8 uVar9;
  size_t __size;
  longlong lVar10;
  
  if (param_1 == 0) {
    return 0xffffffff;
  }
  ppcVar8 = *(char ***)(param_1 + 0x68);
  if (*(int *)(param_1 + 0x58) != 3) {
    *(undefined4 *)(param_1 + 0x54) = 5;
    puVar5 = &DAT_00029b8f;
    uVar1 = 0x232;
    goto LAB_0001c24c;
  }
  *(undefined4 *)(param_1 + 0x58) = 4;
  uVar9 = *(undefined8 *)(ppcVar8 + 6);
  ppcVar7 = (char **)*ppcVar8;
  if (ppcVar8[0xb] == (char *)0x0) {
    uVar1 = FUN_0001ba9c(ppcVar7);
    lVar10 = VectorSub(uVar9,CONCAT44(extraout_r1,uVar1),8);
    iVar2 = (int)((ulonglong)lVar10 >> 0x20);
    __size = (size_t)lVar10;
    if (lVar10 < 0) {
      *(undefined4 *)(param_1 + 0x58) = 1;
      __android_log_print(6,"CdxMovParser",0x29bcd,"__CdxMovParserRead",0x24d);
      return 0xffffffff;
    }
    if ((int)(iVar2 - (uint)(0x9fff >= __size)) < 0 ==
        (lVar10 < 0 && (int)(iVar2 + -1 + (uint)(0x9fff < __size)) < 0 != lVar10 < 0)) {
      __ptr = malloc(__size);
      iVar2 = FUN_0001bb1c(ppcVar7);
      free(__ptr);
      if (-1 < iVar2) goto LAB_0001c1c6;
      pcVar6 = "<%s:%u>: read error , diff = %lld";
      uVar1 = 0x261;
    }
    else {
      uVar3 = FUN_0001c004(ppcVar7,__size);
      if ((int)uVar3 < 0) {
        uVar1 = 0x255;
        pcVar6 = "<%s:%u>: skip error";
        goto LAB_0001c184;
      }
LAB_0001c1c6:
      if ((int)param_2[9] <= (int)param_2[2]) {
        iVar2 = 0;
        if (ppcVar8[0xb6] == (char *)0x0) {
          iVar2 = FUN_0001bb1c(ppcVar7);
        }
        if ((int)param_2[9] <= iVar2) goto LAB_0001c27e;
        uVar1 = 0x271;
        pcVar6 = "<%s:%u>: read error";
        goto LAB_0001c184;
      }
      iVar2 = 0;
      if (ppcVar8[0xb6] == (char *)0x0) {
        iVar2 = FUN_0001bb1c(ppcVar7);
        if (iVar2 < 0) {
          *(undefined4 *)(param_1 + 0x58) = 1;
          uVar1 = 0x293;
          puVar5 = &DAT_00029c37;
LAB_0001c24c:
          __android_log_print(6,"CdxMovParser",puVar5,"__CdxMovParserRead",uVar1);
          return 0xffffffff;
        }
        iVar4 = FUN_0001bb1c(ppcVar7);
        if (iVar4 < 0) {
          *(undefined4 *)(param_1 + 0x58) = 1;
          uVar1 = 0x29b;
          puVar5 = &DAT_00029c37;
          goto LAB_0001c24c;
        }
        iVar2 = iVar2 + iVar4;
      }
      if ((int)param_2[9] <= iVar2) {
LAB_0001c27e:
        *(undefined4 *)(param_1 + 0x58) = 1;
        return 0;
      }
      pcVar6 = "<%s:%u>: read size<%d> less than length<%d>";
      uVar1 = 0x2a3;
    }
    __android_log_print(5,"CdxMovParser",pcVar6,"__CdxMovParserRead",uVar1);
  }
  else {
    iVar2 = FUN_0001ba1c((int *)ppcVar7,(char)ppcVar8[0xb],(char)uVar9,
                         (char)((ulonglong)uVar9 >> 0x20),0);
    if (-1 < iVar2) goto LAB_0001c1c6;
    uVar1 = 0x242;
    pcVar6 = "<%s:%u>:  seek failed";
LAB_0001c184:
    __android_log_print(5,"CdxMovParser",pcVar6,"__CdxMovParserRead",uVar1);
  }
  *(undefined4 *)(param_1 + 0x58) = 1;
  return 0xffffffff;
}



void FUN_0001c300(undefined4 *param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (undefined4 *)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x164;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = (char *)*param_1;
    if (pcVar2 != (char *)0x0) goto LAB_0001c344;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x165;
    pcVar3 = "stream->ops";
  }
  while( true ) {
    pcVar2 = "CdxStreamClose";
    __android_log_assert
              (pcVar1,"CdxMovParser","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamClose",uVar4,pcVar3);
LAB_0001c344:
    if (*(code **)(pcVar2 + 0xc) != (code *)0x0) break;
    pcVar1 = "!(stream->ops->close)";
    uVar4 = 0x166;
    pcVar3 = "stream->ops->close";
  }
  (**(code **)(pcVar2 + 0xc))();
  return;
}



undefined4 FUN_0001c3a4(int param_1,undefined4 param_2,char **param_3)

{
  int iVar1;
  undefined4 uVar2;
  char *extraout_r1;
  undefined *puVar3;
  char *pcVar4;
  char *pcVar5;
  char **ppcVar6;
  uint uVar7;
  undefined8 uVar8;
  char *local_28;
  char *local_24;
  char *local_20;
  char *local_1c;
  
  uVar8 = CONCAT44(param_2,param_1);
  if (param_1 == 0) {
    param_1 = 0x3c3;
    uVar8 = __android_log_assert
                      ("!(parser)","CdxMovParser","<%s:%d>CDX_CHECK(%s) failed.",
                       "__CdxMovParserControl",0x3c3,s_parser_00027c35);
  }
  iVar1 = (int)uVar8;
  ppcVar6 = *(char ***)(iVar1 + 0x68);
  switch((int)((ulonglong)uVar8 >> 0x20)) {
  case 0:
    uVar2 = 0x3cd;
    pcVar4 = "<%s:%u>: -- switch audio ";
    pcVar5 = "__CdxMovParserControl";
    break;
  default:
    goto LAB_0001c568;
  case 6:
    __android_log_print(3,"CdxMovParser",
                        "<%s:%u>: replace stream! previous stream=%p, current stream=%p",
                        "__CdxMovParserControl",0x3d8,*(undefined4 *)(iVar1 + 8),param_3);
    if (*(undefined4 **)(param_1 + 8) != (undefined4 *)0x0) {
      FUN_0001c300(*(undefined4 **)(param_1 + 8));
    }
    *(char ***)(param_1 + 8) = param_3;
    *(undefined4 *)(param_1 + 0x54) = 0;
    *ppcVar6 = (char *)param_3;
    pcVar4 = (char *)FUN_0001ba9c(param_3);
    ppcVar6[0x26] = pcVar4;
    ppcVar6[0x27] = extraout_r1;
    return 0;
  case 10:
    iVar1 = FUN_0001b8a8(*(char ***)(iVar1 + 8));
    if (-1 < iVar1) {
      *param_3 = local_28;
      param_3[1] = local_24;
      param_3[2] = local_20;
      param_3[3] = local_1c;
      return 0;
    }
    uVar2 = 0x134;
    puVar3 = &DAT_00028f53;
    pcVar4 = "MovGetCacheState";
    goto LAB_0001c51c;
  case 0xb:
    if (ppcVar6 != (char **)0x0) {
      if (0 < *(int *)(iVar1 + 0x58)) {
        ppcVar6 = (char **)*ppcVar6;
        *(undefined4 *)(param_1 + 0x50) = 1;
        if (ppcVar6 != (char **)0x0) {
          FUN_0001b8a8(ppcVar6);
        }
        while( true ) {
          uVar7 = *(int *)(param_1 + 0x58) - 1;
          if (uVar7 != 0) {
            uVar7 = 1;
          }
          if (*(int *)(param_1 + 0x58) == 3) {
            uVar7 = 0;
          }
          else {
            uVar7 = uVar7 & 1;
          }
          if (uVar7 == 0) break;
          usleep(2000);
        }
        *(undefined4 *)(param_1 + 0x58) = 1;
        *(undefined4 *)(param_1 + 0x54) = 4;
        __android_log_print(3,"CdxMovParser","<%s:%u>: -- mov ForceStop end",
                            "__CdxMovParserForceStop",0x399);
        return 0;
      }
      uVar2 = 0x385;
      pcVar4 = "__CdxMovParserForceStop";
LAB_0001c4a0:
      __android_log_print(5,"CdxMovParser","<%s:%u>: mov->status < CDX_PSR_IDLE, can not forceStop",
                          pcVar4,uVar2);
      *(undefined4 *)(param_1 + 0x54) = 5;
      return 0xffffffff;
    }
    uVar2 = 0x37e;
    puVar3 = &DAT_00029cde;
    pcVar4 = "__CdxMovParserForceStop";
LAB_0001c51c:
    __android_log_print(6,"CdxMovParser",puVar3,pcVar4,uVar2);
    return 0xffffffff;
  case 0xc:
    if (ppcVar6 == (char **)0x0) {
      uVar2 = 0x3a7;
      puVar3 = &DAT_00029cde;
      pcVar4 = "__CdxMovParserClrForceStop";
      goto LAB_0001c51c;
    }
    if (*(int *)(iVar1 + 0x58) < 1) {
      uVar2 = 0x3ae;
      pcVar4 = "__CdxMovParserClrForceStop";
      goto LAB_0001c4a0;
    }
    ppcVar6 = (char **)*ppcVar6;
    *(undefined4 *)(param_1 + 0x50) = 0;
    if (ppcVar6 != (char **)0x0) {
      FUN_0001b8a8(ppcVar6);
    }
    uVar2 = 0x3bb;
    pcVar4 = "<%s:%u>: -- mov clear ForceStop end";
    pcVar5 = "__CdxMovParserClrForceStop";
  }
  __android_log_print(3,"CdxMovParser",pcVar4,pcVar5,uVar2);
LAB_0001c568:
  return 0;
}



char ** FUN_0001c5ec(char **param_1,uint param_2,undefined4 param_3,int param_4)

{
  bool bVar1;
  char **ppcVar2;
  uint uVar3;
  undefined *puVar4;
  char **ppcVar5;
  char *pcVar6;
  undefined4 uVar7;
  int local_24;
  
  uVar3 = param_2;
  local_24 = param_4;
  ppcVar2 = (char **)CdxMovInit(&local_24);
  if (ppcVar2 == (char **)0x0) {
    uVar7 = 0x457;
    puVar4 = &DAT_00029d98;
  }
  else {
    pcVar6 = ppcVar2[0x1a];
    ppcVar5 = ppcVar2 + 0x17;
    ppcVar2[0x16] = (char *)0x0;
    ppcVar2[0x15] = (char *)0x1;
    ppcVar2[2] = (char *)param_1;
    do {
      ExclusiveAccess(ppcVar5);
      bVar1 = (bool)hasExclusiveAccess(ppcVar5);
    } while (!bVar1);
    *ppcVar5 = (char *)0x1;
    DataMemoryBarrier(0x1f);
    uVar3 = FUN_0001bf60(param_1);
    uVar3 = uVar3 & 1;
    *(uint *)(pcVar6 + 0x2c) = uVar3;
    __android_log_print(3,"CdxMovParser","<%s:%u>: --- c->bSeekAble = %d","__CdxMovParserOpen",0x46d
                        ,uVar3,param_3);
    ppcVar2[1] = (char *)&PTR_FUN_0001c3a4_1_0003159c;
    if (-1 < local_24) {
      if ((param_2 & 0x1000) != 0) {
        __android_log_print(3,"CdxMovParser","<%s:%u>: smooth streaming...","__CdxMovParserOpen",
                            0x478,uVar3,param_3);
        ppcVar2[0x19] = (char *)0x1;
        *(undefined4 *)(pcVar6 + 0x2c4) = 1;
      }
      if ((param_2 & 0x8000) != 0) {
        __android_log_print(3,"CdxMovParser","<%s:%u>: playready smooth streaming...",
                            "__CdxMovParserOpen",0x47e,uVar3,param_3);
        *(undefined4 *)(pcVar6 + 0x2d4) = 1;
      }
      if ((param_2 & 0x200) != 0) {
        __android_log_print(3,"CdxMovParser","<%s:%u>: ---- flags = %x","__CdxMovParserOpen",0x484,
                            param_2);
        ppcVar2[0x18] = (char *)0x1;
        *(undefined4 *)(pcVar6 + 0x2c0) = 1;
      }
      ppcVar2[0x23] = (char *)0x0;
      ppcVar2[0x24] = (char *)0x0;
      ppcVar2[0x25] = (char *)0x0;
      return ppcVar2;
    }
    puVar4 = &DAT_00029df8;
    uVar7 = 0x473;
  }
  __android_log_print(6,"CdxMovParser",puVar4,"__CdxMovParserOpen",uVar7,uVar3,param_3);
  if (param_1 != (char **)0x0) {
    FUN_0001c300(param_1);
    param_1 = (char **)0x0;
  }
  return param_1;
}



void __CdxMovParserInit(int param_1,undefined4 param_2)

{
  bool bVar1;
  int iVar2;
  int *piVar3;
  
  piVar3 = (int *)(param_1 + 0x5c);
  DataMemoryBarrier(0x1f);
  do {
    ExclusiveAccess(piVar3);
    bVar1 = (bool)hasExclusiveAccess(piVar3);
  } while (!bVar1);
  *piVar3 = *piVar3 + 1;
  DataMemoryBarrier(0x1f);
  iVar2 = CdxMovOpen(param_1,*(char ***)(param_1 + 8));
  if (iVar2 < 0) {
    __android_log_print(6,"CdxMovParser",&DAT_00029e95,"__CdxMovParserInit",0x42b,param_2);
    *(undefined4 *)(param_1 + 0x54) = 2;
    DataMemoryBarrier(0x1f);
    do {
      ExclusiveAccess(piVar3);
      bVar1 = (bool)hasExclusiveAccess(piVar3);
    } while (!bVar1);
    *piVar3 = *piVar3 + -1;
    DataMemoryBarrier(0x1f);
  }
  else {
    __android_log_print(3,"CdxMovParser","<%s:%u>: ***** mov open success!!","__CdxMovParserInit",
                        0x434,param_2);
    DataMemoryBarrier(0x1f);
    do {
      ExclusiveAccess(piVar3);
      bVar1 = (bool)hasExclusiveAccess(piVar3);
    } while (!bVar1);
    *piVar3 = *piVar3 + -1;
    DataMemoryBarrier(0x1f);
    *(undefined4 *)(param_1 + 0x58) = 1;
    *(undefined4 *)(param_1 + 0x54) = 0;
  }
  return;
}



undefined4 FUN_0001c814(undefined4 *param_1)

{
  return *param_1;
}



undefined4 FUN_0001c82c(undefined *param_1)

{
  return CONCAT22(CONCAT11(*param_1,param_1[1]),CONCAT11(param_1[2],param_1[3]));
}



undefined8 FUN_0001c844(undefined *param_1)

{
  undefined4 uVar1;
  undefined4 uVar2;
  
  uVar1 = FUN_0001c82c(param_1);
  uVar2 = FUN_0001c82c(param_1 + 4);
  return CONCAT44(uVar1,uVar2);
}



void FUN_0001c85e(int param_1,int param_2,int param_3)

{
  FUN_0001c82c((undefined *)(*(int *)(param_1 + 4) + param_3 + *(int *)(param_2 + 0x1c)));
  return;
}



void FUN_0001c86a(int param_1,int param_2,int param_3)

{
  if (*(int *)(param_2 + 0x54) != 0) {
    return;
  }
  FUN_0001c82c((undefined *)(*(int *)(param_1 + 4) + param_3 + *(int *)(param_2 + 0x20)));
  return;
}



void FUN_0001c87c(int param_1,int param_2,int param_3)

{
  FUN_0001c82c((undefined *)(*(int *)(param_1 + 4) + param_3 + *(int *)(param_2 + 0x2c)));
  return;
}



ulonglong FUN_0001c888(int param_1,int param_2,int param_3)

{
  uint uVar1;
  ulonglong uVar2;
  
  if (*(int *)(param_2 + 0x30) == 0) {
    uVar1 = FUN_0001c82c((undefined *)
                         (*(int *)(param_1 + 4) + *(int *)(param_2 + 0x24) + param_3 * 4));
    return (ulonglong)uVar1;
  }
  uVar2 = FUN_0001c844((undefined *)(*(int *)(param_1 + 4) + *(int *)(param_2 + 0x24) + param_3 * 8)
                      );
  return uVar2;
}



int FUN_0001c8ae(uint *param_1,int param_2)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  uint *puVar4;
  uint uVar5;
  bool bVar6;
  
  iVar2 = 0;
  iVar3 = 1;
  puVar4 = param_1;
  while (iVar3 < param_2) {
    uVar5 = puVar4[3];
    bVar6 = param_1[iVar2 * 2] <= puVar4[2];
    uVar1 = ~(param_1 + iVar2 * 2)[1];
    if ((bVar6 || !CARRY4(uVar5,uVar1)) && (!bVar6 || uVar5 < uVar5 + uVar1 + 1)) {
      iVar2 = iVar3;
    }
    iVar3 = iVar3 + 1;
    puVar4 = puVar4 + 2;
  }
  return iVar2;
}



uint FUN_0001c8dc(int param_1,uint *param_2,int *param_3)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  
  iVar3 = *param_3;
  iVar4 = *(int *)(param_1 + 4);
  *param_2 = (uint)*(byte *)(iVar4 + iVar3);
  uVar1 = 0;
  *param_3 = iVar3 + 1;
  iVar3 = 5;
  do {
    iVar3 = iVar3 + -1;
    if (iVar3 == 0) {
      return uVar1;
    }
    uVar2 = (uint)*(byte *)(iVar4 + *param_3);
    *param_3 = *param_3 + 1;
    uVar1 = uVar2 & 0x7f | uVar1 << 7;
  } while ((int)(uVar2 << 0x18) < 0);
  return uVar1;
}



undefined4 FUN_0001c90c(int param_1,int param_2,int param_3,int param_4)

{
  int iVar1;
  int iVar2;
  
  iVar2 = *(int *)(param_1 + (*(int *)(param_1 + 0xfc) + 0x41) * 4);
  iVar1 = FUN_0001c82c((undefined *)(*(int *)(param_1 + 4) + param_4 + 4));
  if (iVar1 == 0) {
    __android_log_print(5,"awplayer",
                        "<%s:%u>: ---- stco entries is %d, maybe an ISO base media file",
                        "MovParseStco",0x10aa,0);
  }
  else {
    if (719999 < iVar1) {
      return 0xffffffff;
    }
  }
  if (param_3 < iVar1) {
    return 0xffffffff;
  }
  *(int *)(iVar2 + 0x10) = iVar1;
  *(int *)(iVar2 + 0x24) = param_4 + 8;
  if (param_2 == 0x34366f63) {
    *(undefined4 *)(iVar2 + 0x30) = 1;
  }
  return 0;
}



undefined4 FUN_0001c98c(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  
  iVar2 = *(int *)(param_1 + (*(int *)(param_1 + 0xfc) + 0x41) * 4);
  iVar1 = FUN_0001c814((undefined4 *)(*(int *)(param_1 + 4) + param_2 + 8));
  if (iVar1 == 0x65646976) {
    *(undefined4 *)(iVar2 + 0x98) = 0;
    *(short *)(param_1 + 0x142) = *(short *)(param_1 + 0x142) + 1;
    *(char *)(*(int *)(param_1 + 0x1b0) + 0x6c) =
         *(char *)(*(int *)(param_1 + 0x1b0) + 0x6c) + '\x01';
    *(undefined4 *)(param_1 + 0x130) = *(undefined4 *)(iVar2 + 0xd8);
  }
  else {
    if (iVar1 == 0x6e756f73) {
      if (*(ushort *)(param_1 + 0x144) < 0x20) {
        *(undefined4 *)(iVar2 + 0x98) = 1;
        *(short *)(param_1 + 0x144) = *(short *)(param_1 + 0x144) + 1;
        *(char *)(*(int *)(param_1 + 0x1b0) + 0x6d) =
             *(char *)(*(int *)(param_1 + 0x1b0) + 0x6d) + '\x01';
      }
    }
    else {
      if ((iVar1 == 0x74786574) && (*(ushort *)(param_1 + 0x146) < 0x20)) {
        *(undefined4 *)(iVar2 + 0x98) = 2;
        *(short *)(param_1 + 0x146) = *(short *)(param_1 + 0x146) + 1;
        *(char *)(*(int *)(param_1 + 0x1b0) + 0x6e) =
             *(char *)(*(int *)(param_1 + 0x1b0) + 0x6e) + '\x01';
      }
    }
  }
  return 0;
}



undefined8 FUN_0001ca3c(int param_1,int param_2,int param_3)

{
  void *__dest;
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  size_t __size;
  
  iVar3 = *(int *)(param_1 + 4);
  iVar2 = *(int *)(param_1 + (*(int *)(param_1 + 0xfc) + 0x41) * 4);
  if (*(int *)(iVar2 + 0xb8) != 0) {
    param_1 = 0xc1f;
    __android_log_print(5,"awplayer","<%s:%u>: mov extradata has been init???","MovParseAvcc",0xc1f,
                        param_2,param_3);
    free(*(void **)(iVar2 + 0xb8));
  }
  __size = param_2 - 8;
  __dest = malloc(__size);
  *(void **)(iVar2 + 0xb8) = __dest;
  if (__dest == (void *)0x0) {
    uVar1 = 0xffffffff;
  }
  else {
    *(size_t *)(iVar2 + 0xbc) = __size;
    memcpy(__dest,(void *)(iVar3 + param_3),__size);
    uVar1 = 0;
  }
  return CONCAT44(param_1,uVar1);
}



undefined4 FUN_0001caa4(int param_1,uint param_2,int param_3)

{
  void *__dest;
  size_t __size;
  int iVar1;
  int iVar2;
  
  iVar2 = *(int *)(param_1 + 4);
  iVar1 = *(int *)(param_1 + (*(int *)(param_1 + 0xfc) + 0x41) * 4);
  if (0 < *(int *)(param_1 + 0xfc)) {
    if (0x40000000 < param_2) {
      return 0xffffffff;
    }
    if (*(void **)(iVar1 + 0xb8) != (void *)0x0) {
      free(*(void **)(iVar1 + 0xb8));
    }
    __size = param_2 - 8;
    __dest = malloc(__size);
    *(void **)(iVar1 + 0xb8) = __dest;
    if (__dest == (void *)0x0) {
      return 0xffffffff;
    }
    *(size_t *)(iVar1 + 0xbc) = __size;
    memcpy(__dest,(void *)(iVar2 + param_3),__size);
  }
  return 0;
}



undefined4 FUN_0001caf8(char **param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (char **)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x1ac;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = *param_1;
    if (pcVar2 != (char *)0x0) goto LAB_0001cb3c;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x1ad;
    pcVar3 = "stream->ops";
  }
  pcVar2 = "CdxStreamTell";
  __android_log_assert
            (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamTell",uVar4,pcVar3);
LAB_0001cb3c:
  if (*(code **)(pcVar2 + 0x30) == (code *)0x0) {
    uVar4 = 0xffffffff;
  }
  else {
    uVar4 = (**(code **)(pcVar2 + 0x30))();
  }
  return uVar4;
}



void FUN_0001cb78(char **param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (char **)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x174;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = *param_1;
    if (pcVar2 != (char *)0x0) goto LAB_0001cbbc;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x175;
    pcVar3 = "stream->ops";
  }
  while( true ) {
    pcVar2 = "CdxStreamAttribute";
    __android_log_assert
              (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamAttribute",uVar4,pcVar3);
LAB_0001cbbc:
    if (*(code **)(pcVar2 + 0x14) != (code *)0x0) break;
    pcVar1 = "!(stream->ops->attribute)";
    uVar4 = 0x176;
    pcVar3 = "stream->ops->attribute";
  }
  (**(code **)(pcVar2 + 0x14))();
  return;
}



undefined4
FUN_0001cc1c(int *param_1,undefined param_2,undefined param_3,undefined param_4,undefined4 param_5)

{
  char *pcVar1;
  int iVar2;
  int extraout_r1;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (int *)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x194;
    pcVar3 = "stream";
  }
  else {
    iVar2 = *param_1;
    if (iVar2 != 0) goto LAB_0001cc60;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x195;
    pcVar3 = "stream->ops";
  }
  __android_log_assert
            (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamSeek",uVar4,pcVar3);
  iVar2 = extraout_r1;
LAB_0001cc60:
  if (*(code **)(iVar2 + 0x24) == (code *)0x0) {
    uVar4 = 0xffffffff;
  }
  else {
    uVar4 = (**(code **)(iVar2 + 0x24))();
  }
  return uVar4;
}



void FUN_0001cc9c(undefined4 *param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (undefined4 *)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x154;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = (char *)*param_1;
    if (pcVar2 != (char *)0x0) goto LAB_0001cce0;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x155;
    pcVar3 = "stream->ops";
  }
  while( true ) {
    pcVar2 = "CdxStreamRead";
    __android_log_assert
              (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamRead",uVar4,pcVar3);
LAB_0001cce0:
    if (*(code **)(pcVar2 + 8) != (code *)0x0) break;
    pcVar1 = "!(stream->ops->read)";
    uVar4 = 0x156;
    pcVar3 = "stream->ops->read";
  }
  (**(code **)(pcVar2 + 8))();
  return;
}



uint FUN_0001cd40(char **param_1,uint param_2)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  undefined extraout_r1;
  uint uVar5;
  
  iVar1 = __stack_chk_guard;
  uVar3 = param_2;
  if (param_2 != 0) {
    iVar2 = FUN_0001cb78(param_1);
    if (iVar2 << 0x1f < 0) {
      uVar3 = FUN_0001cc1c((int *)param_1,extraout_r1,(char)param_2,0,1);
    }
    else {
      if (param_2 < 0xa001) {
        uVar5 = 10;
        do {
          uVar3 = param_2;
          if (0xfff < (int)param_2) {
            uVar3 = 0x1000;
          }
          uVar4 = FUN_0001cc9c(param_1);
          if (uVar4 != uVar3) goto LAB_0001cdc4;
          param_2 = param_2 - uVar4;
          uVar3 = param_2;
        } while ((param_2 != 0) && (uVar3 = uVar5 - 1, uVar5 = uVar3, uVar3 != 0));
      }
      else {
        __android_log_print(6,"awplayer",&DAT_00029b4b,"CdxStreamSkip",0x1e0,param_2);
LAB_0001cdc4:
        uVar3 = 0xffffffff;
      }
    }
  }
  if (iVar1 != __stack_chk_guard) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return uVar3;
}



// WARNING: Could not reconcile some variable overlaps

uint FUN_0001cdf8(int param_1,undefined4 *param_2,uint param_3,uint param_4)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  void *pvVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  char *pcVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  bool bVar13;
  undefined8 uVar14;
  longlong lVar15;
  undefined4 uVar16;
  uint local_60;
  int iStack92;
  uint local_50;
  int iStack76;
  undefined4 local_34;
  undefined4 local_30;
  int local_2c;
  
  local_2c = __stack_chk_guard;
  iVar11 = 0;
  local_34 = 0;
  local_30 = 0;
  FUN_0001cc9c(param_2);
  FUN_0001cc9c(param_2);
  iVar2 = FUN_0001c82c((undefined *)&local_34);
  iVar3 = FUN_0001c82c((undefined *)&local_30);
  iVar10 = param_1;
  do {
    if (*(int *)(param_1 + 0xfc) <= iVar11) {
      uVar16 = 0x395;
      pcVar9 = "<%s:%u>: Worning: sidx- could not find corresponding stream id!";
      uVar4 = 5;
LAB_0001cea0:
      __android_log_print(uVar4,"awplayer",pcVar9,"MovParseSidx",uVar16);
LAB_0001d08e:
      uVar8 = 0xffffffff;
LAB_0001d092:
      if (local_2c != __stack_chk_guard) {
                    // WARNING: Subroutine does not return
        __stack_chk_fail();
      }
      return uVar8;
    }
    piVar1 = (int *)(iVar10 + 0x108);
    iVar10 = iVar10 + 4;
    if (*(int *)(*piVar1 + 0x74) == iVar2) {
      *(int *)(*piVar1 + 0x5c) = iVar3;
      if ((char)local_34 == '\0') {
        if (7 < (int)(param_3 - 0x14)) {
          iVar10 = -0x1c;
          FUN_0001cc9c(param_2);
          iVar2 = FUN_0001c82c((undefined *)&local_30);
          lVar15 = (longlong)iVar2;
          goto LAB_0001cefa;
        }
        uVar16 = 0x3a1;
        pcVar9 = "<%s:%u>: \x1b[40;31mthe size of \'sidx\' is error!\x1b[0m";
      }
      else {
        if ((int)(param_3 - 0x14) < 0x10) {
          uVar16 = 0x3b1;
          pcVar9 = "<%s:%u>: \x1b[40;31mthe size of \'sidx\' is error!\x1b[0m";
        }
        else {
          iVar10 = -0x24;
          FUN_0001cc9c(param_2);
          FUN_0001cc9c(param_2);
          lVar15 = FUN_0001c844((undefined *)&local_34);
LAB_0001cefa:
          if ((int)(param_3 + iVar10) < 4) goto LAB_0001d08e;
          FUN_0001cc9c(param_2);
          if ((int)(param_3 + iVar10 + -4) < CONCAT11(local_34._2_1_,local_34._3_1_) * 0xc)
          goto LAB_0001d08e;
          iVar10 = (int)CONCAT11(local_34._2_1_,local_34._3_1_) + *(int *)(param_1 + 0x74);
          pvVar5 = realloc(*(void **)(param_1 + 0x70),iVar10 * 0x20);
          if (pvVar5 != (void *)0x0) {
            iVar11 = *(int *)(param_1 + 0x74);
            *(void **)(param_1 + 0x70) = pvVar5;
            local_50 = 0;
            iStack76 = 0;
            uVar8 = 0;
            local_60 = 0;
            iStack92 = 0;
            iVar2 = iVar11 << 5;
            while (iVar11 < iVar10) {
              iVar11 = iVar11 + 1;
              FUN_0001cc9c(param_2);
              uVar6 = FUN_0001c82c((undefined *)&local_34);
              FUN_0001cc9c(param_2);
              uVar7 = FUN_0001c82c((undefined *)&local_34);
              uVar8 = uVar8 & ~((int)uVar6 >> 0x20);
              if ((int)uVar6 < 0) {
                uVar8 = 1;
              }
              FUN_0001cc9c(param_2);
              uVar14 = VectorAdd(CONCAT44(iStack92,local_60),*(undefined8 *)(param_1 + 0x78),8);
              *(undefined8 *)(*(int *)(param_1 + 0x70) + iVar2) = uVar14;
              uVar14 = VectorAdd((ulonglong)CONCAT14(CARRY4(param_3,param_4),param_3 + param_4),
                                 lVar15,8);
              uVar14 = VectorAdd(uVar14,CONCAT44(iStack76,local_50),8);
              *(undefined8 *)(*(int *)(param_1 + 0x70) + iVar2 + 8) = uVar14;
              *(uint *)(*(int *)(param_1 + 0x70) + iVar2 + 0x18) = uVar6 & 0x7fffffff;
              iVar12 = *(int *)(param_1 + 0x70) + iVar2;
              uVar14 = __aeabi_uldivmod((int)((ulonglong)uVar7 * 1000),
                                        (int)((ulonglong)uVar7 * 1000 >> 0x20),iVar3,iVar3 >> 0x1f);
              *(int *)(iVar12 + 0x10) = (int)uVar14;
              *(int *)(iVar12 + 0x14) = (int)((ulonglong)uVar14 >> 0x20);
              bVar13 = CARRY4(local_50,uVar6 & 0x7fffffff);
              local_50 = local_50 + (uVar6 & 0x7fffffff);
              iStack76 = iStack76 + (uint)bVar13;
              bVar13 = CARRY4(local_60,uVar7);
              local_60 = local_60 + uVar7;
              iStack92 = iStack92 + (uint)bVar13;
              iVar2 = iVar2 + 0x20;
            }
            *(int *)(param_1 + 0x74) = iVar10;
            uVar14 = VectorAdd(*(undefined8 *)(param_1 + 0x78),CONCAT44(iStack92,local_60),8);
            *(undefined8 *)(param_1 + 0x78) = uVar14;
            iVar10 = __aeabi_uldivmod((int)((ulonglong)local_60 * 1000),
                                      iStack92 * 1000 + (int)((ulonglong)local_60 * 1000 >> 0x20),
                                      iVar3,iVar3 >> 0x1f);
            *(int *)(param_1 + 0x80) = *(int *)(param_1 + 0x80) + iVar10;
            if (uVar8 != 0) {
              free(*(void **)(param_1 + 0x70));
              *(undefined4 *)(param_1 + 0x70) = 0;
              *(undefined4 *)(param_1 + 0x78) = 0;
              *(undefined4 *)(param_1 + 0x7c) = 0;
              uVar8 = 0;
              *(undefined4 *)(param_1 + 0x74) = 0;
              *(undefined4 *)(param_1 + 0x80) = 0;
            }
            goto LAB_0001d092;
          }
          uVar16 = 0x3d0;
          pcVar9 = "<%s:%u>: \x1b[40;31msidx realloc error!\x1b[0m";
        }
      }
      uVar4 = 6;
      goto LAB_0001cea0;
    }
    iVar11 = iVar11 + 1;
  } while( true );
}



undefined4 FUN_0001d0dc(int param_1,int param_2)

{
  byte bVar1;
  uint __size;
  void *__dest;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  int local_28;
  uint local_24;
  uint local_20;
  uint local_1c [2];
  
  iVar4 = *(int *)(param_1 + 4);
  local_28 = param_2 + 4;
  iVar3 = *(int *)(param_1 + (*(int *)(param_1 + 0xfc) + 0x41) * 4);
  FUN_0001c8dc(param_1,&local_24,&local_28);
  if (local_24 == 3) {
    local_28 = local_28 + 3;
  }
  else {
    local_28 = local_28 + 2;
  }
  FUN_0001c8dc(param_1,&local_24,&local_28);
  if (local_24 != 4) {
    return 0;
  }
  bVar1 = *(byte *)(iVar4 + local_28);
  local_28 = local_28 + 0xd;
  if (bVar1 < 0x69) {
    if ((bVar1 < 0x66) && (bVar1 != 0x40)) {
      if (bVar1 < 0x41) {
        if (bVar1 == 0x20) {
          uVar2 = 0x10a;
        }
        else {
          if (bVar1 != 0x21) goto LAB_0001d1a6;
          uVar2 = 0x115;
        }
      }
      else {
        if (bVar1 < 0x60) goto LAB_0001d1a6;
        if (bVar1 == 0x6a) goto LAB_0001d17a;
        uVar2 = 0x103;
      }
    }
    else {
      uVar2 = 4;
    }
  }
  else {
    if (bVar1 == 0x6b) {
LAB_0001d184:
      uVar2 = 3;
    }
    else {
      if (bVar1 < 0x6c) {
        if (bVar1 == 0x69) goto LAB_0001d184;
        if (bVar1 != 0x6a) goto LAB_0001d1a6;
LAB_0001d17a:
        uVar2 = 0x102;
      }
      else {
        if (bVar1 == 0x6c) {
          uVar2 = 0x101;
        }
        else {
          if (bVar1 != 0xdd) goto LAB_0001d1a6;
          __android_log_print(5,"awplayer","<%s:%u>: it is ogg audio, not support","MovParseEsds",
                              0xcb3);
          uVar2 = 0;
        }
      }
    }
  }
  *(undefined4 *)(iVar3 + 0xec) = uVar2;
LAB_0001d1a6:
  __size = FUN_0001c8dc(param_1,&local_24,&local_28);
  if (local_24 != 5) {
    return 0;
  }
  if ((int)__size < 0x4001) {
    __dest = malloc(__size);
    *(void **)(iVar3 + 0xb8) = __dest;
    if (__dest != (void *)0x0) {
      *(uint *)(iVar3 + 0xbc) = __size;
      memcpy(__dest,(void *)(iVar4 + local_28),__size);
      iVar4 = *(int *)(iVar3 + 0xec);
      if (((iVar4 != 0x107 && iVar4 != 0x104) && (iVar4 != 0x108)) && (iVar4 != 0x10a)) {
        return 0;
      }
      local_20 = 0;
      local_1c[0] = 0;
      mov_getvolhdr(*(byte **)(iVar3 + 0xb8),__size,&local_20,local_1c);
      if (local_20 == 0) {
        return 0;
      }
      if (local_1c[0] != 0) {
        *(uint *)(iVar3 + 0xa4) = local_1c[0];
        *(uint *)(iVar3 + 0xa0) = local_20;
        __android_log_print(3,"awplayer","<%s:%u>: esds width = %d, height = %d","MovParseEsds",
                            0xcd1,local_20,local_1c[0]);
        return 0;
      }
      return 0;
    }
  }
  return 0xffffffff;
}



void FUN_0001d270(undefined *param_1,void *param_2)

{
  ushort uVar1;
  
  uVar1 = CONCAT11(*param_1,param_1[1]);
  if (0x1f < uVar1) {
    uVar1 = 0x20;
  }
                    // WARNING: Treating indirect jump as call
  memcpy(param_2,param_1 + 4,(size_t)uVar1);
  return;
}



void ReadStss(int param_1,int param_2,int param_3)

{
  FUN_0001c82c((undefined *)(*(int *)(param_1 + 4) + param_3 + *(int *)(param_2 + 0x28)));
  return;
}



// WARNING: Could not reconcile some variable overlaps

uint MovParseTraf(int param_1,char **param_2,undefined4 param_3,uint param_4)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  void *pvVar6;
  uint *__s;
  int iVar7;
  int iVar8;
  undefined *puVar9;
  int iVar10;
  char *pcVar11;
  int iVar12;
  int *piVar13;
  uint uVar14;
  uint uVar15;
  undefined4 *puVar16;
  int iVar17;
  uint uVar18;
  bool bVar19;
  undefined8 uVar20;
  uint local_1080;
  uint local_107c;
  uint local_1078;
  uint local_1070;
  uint uStack4204;
  uint local_1068;
  uint local_1060;
  undefined4 local_1048;
  undefined4 local_1044 [4];
  undefined auStack4148 [4];
  undefined4 auStack4144 [1023];
  int local_34;
  undefined4 local_8;
  uint local_4;
  
  local_34 = __stack_chk_guard;
  uVar1 = param_4;
  local_8 = param_3;
  local_4 = param_4;
  if (param_4 != 0) {
    local_1078 = 0;
    uVar1 = 0;
    while( true ) {
      if ((uVar1 != 0 || param_4 - 8 <= local_1078) ||
         (uVar1 = FUN_0001cc9c(param_2), (int)uVar1 < 8)) goto LAB_0001d9b8;
      iVar2 = FUN_0001c82c(auStack4148);
      iVar3 = FUN_0001c814(auStack4144);
      if ((iVar2 == 0) || (iVar3 == 0)) break;
      if (iVar3 == 0x64686674) {
        local_1048 = 0;
        local_1044[0] = 0;
        iVar3 = FUN_0001cc9c(param_2);
        uVar1 = local_1048;
        if (iVar3 < 4) {
          uVar4 = 0x199;
          puVar9 = &DAT_00029c37;
LAB_0001d376:
          __android_log_print(6,"awplayer",puVar9,"MovParseTfhd",uVar4);
        }
        else {
          FUN_0001cc9c(param_2);
          iVar3 = FUN_0001c82c((undefined *)&local_1048);
          if (iVar3 == 0) {
            uVar4 = 0x1a4;
            puVar9 = &DAT_0002a057;
            goto LAB_0001d376;
          }
          *(int *)(param_1 + 0xb0) = iVar3;
          iVar12 = 0;
          iVar10 = 0;
          while (iVar10 < *(int *)(param_1 + 0xdc)) {
            piVar13 = (int *)(*(int *)(param_1 + 0xd8) + iVar12);
            iVar12 = iVar12 + 0x14;
            if (*piVar13 == iVar3) goto LAB_0001d3be;
            iVar10 = iVar10 + 1;
          }
          if (*(int *)(param_1 + 0x2c4) == 0) {
            uVar4 = 0x1b7;
            puVar9 = &DAT_0002a079;
            goto LAB_0001d376;
          }
          piVar13 = (int *)0x0;
LAB_0001d3be:
          if ((uVar1 & 0x1000000) == 0) {
            iVar3 = iVar2 + -0x10;
            *(undefined4 *)(param_1 + 0xb8) = *(undefined4 *)(param_1 + 0xc0);
            *(undefined4 *)(param_1 + 0xbc) = *(undefined4 *)(param_1 + 0xc4);
          }
          else {
            FUN_0001cc9c(param_2);
            iVar3 = iVar2 + -0x18;
            uVar20 = FUN_0001c844((undefined *)&local_1048);
            *(int *)(param_1 + 0xb8) = (int)uVar20;
            *(int *)(param_1 + 0xbc) = (int)((ulonglong)uVar20 >> 0x20);
          }
          if ((uVar1 & 0x2000000) == 0) {
            if (piVar13 == (int *)0x0) {
              *(undefined4 *)(param_1 + 200) = 0;
            }
            else {
              *(int *)(param_1 + 200) = piVar13[1];
            }
          }
          else {
            iVar3 = iVar3 + -4;
            FUN_0001cc9c(param_2);
            uVar4 = FUN_0001c82c((undefined *)&local_1048);
            *(undefined4 *)(param_1 + 200) = uVar4;
          }
          if ((uVar1 & 0x8000000) == 0) {
            if (piVar13 == (int *)0x0) {
              *(undefined4 *)(param_1 + 0xcc) = 0;
            }
            else {
              *(int *)(param_1 + 0xcc) = piVar13[2];
            }
          }
          else {
            iVar3 = iVar3 + -4;
            FUN_0001cc9c(param_2);
            uVar4 = FUN_0001c82c((undefined *)&local_1048);
            *(undefined4 *)(param_1 + 0xcc) = uVar4;
          }
          if ((uVar1 & 0x10000000) == 0) {
            if (piVar13 == (int *)0x0) {
              *(undefined4 *)(param_1 + 0xd0) = 0;
            }
            else {
              *(int *)(param_1 + 0xd0) = piVar13[3];
            }
          }
          else {
            iVar3 = iVar3 + -4;
            FUN_0001cc9c(param_2);
            uVar4 = FUN_0001c82c((undefined *)&local_1048);
            *(undefined4 *)(param_1 + 0xd0) = uVar4;
          }
          if ((uVar1 & 0x20000000) == 0) {
            if (piVar13 == (int *)0x0) {
              *(undefined4 *)(param_1 + 0xd4) = 0;
            }
            else {
              *(int *)(param_1 + 0xd4) = piVar13[4];
            }
          }
          else {
            iVar3 = iVar3 + -4;
            FUN_0001cc9c(param_2);
            uVar4 = FUN_0001c82c((undefined *)&local_1048);
            *(undefined4 *)(param_1 + 0xd4) = uVar4;
          }
          if (-1 < iVar3) goto LAB_0001d988;
        }
        uVar4 = 0x32e;
        puVar9 = &DAT_0002a0ba;
        goto LAB_0001d958;
      }
      if (iVar3 == 0x6e757274) {
        local_1068 = *(uint *)(param_1 + 0xd4);
        iVar10 = 0;
        local_1048 = 0;
        local_1044[0] = 0;
        iVar3 = param_1;
        while (iVar10 < *(int *)(param_1 + 0xfc)) {
          iVar12 = *(int *)(iVar3 + 0x108);
          iVar3 = iVar3 + 4;
          if (*(int *)(iVar12 + 0x74) == *(int *)(param_1 + 0xb0)) goto LAB_0001d502;
          iVar10 = iVar10 + 1;
        }
        iVar12 = 0;
LAB_0001d502:
        if (*(int *)(param_1 + 0x2c4) != 0) {
          iVar12 = *(int *)(param_1 + 0x108);
          iVar10 = 0;
        }
        if (iVar12 == 0) {
          uVar4 = 0x272;
          pcVar11 = "<%s:%u>:  could not find corresponding track id for trun!";
          uVar5 = 5;
LAB_0001d7b6:
          __android_log_print(uVar5,"awplayer",pcVar11,"MovParseTrun",uVar4);
        }
        else {
          if (*(int *)(iVar12 + 0x98) == 0) {
            *(short *)(param_1 + 0x13c) = (short)iVar10;
          }
          else {
            if (*(int *)(iVar12 + 0x98) == 1) {
              *(short *)(param_1 + 0x13e) = (short)iVar10;
            }
          }
          FUN_0001cc9c(param_2);
          iVar3 = FUN_0001c82c((undefined *)local_1044);
          uVar1 = local_1048;
          if ((*(int *)(iVar12 + 0x34) == 0) && (iVar10 = *(int *)(iVar12 + 0x54), iVar10 != 0)) {
            piVar13 = (int *)malloc(8);
            if (piVar13 == (int *)0x0) goto LAB_0001d7dc;
            *(int **)(iVar12 + 0x38) = piVar13;
            *piVar13 = iVar10;
            *(undefined4 *)(*(int *)(iVar12 + 0x38) + *(int *)(iVar12 + 0x34) * 8 + 4) = 0;
            *(int *)(iVar12 + 0x34) = *(int *)(iVar12 + 0x34) + 1;
          }
          pvVar6 = realloc(*(void **)(iVar12 + 0x38),(iVar3 + *(int *)(iVar12 + 0x34)) * 8);
          if (pvVar6 != (void *)0x0) {
            *(void **)(iVar12 + 0x38) = pvVar6;
            iVar10 = iVar2 + -0x10;
            uVar14 = CONCAT11(local_1048._2_1_,local_1048._3_1_) & 1;
            if ((uVar1 & 0x1000000) != 0) {
              if (iVar10 < 4) goto LAB_0001d7dc;
              FUN_0001cc9c(param_2);
              uVar14 = FUN_0001c82c((undefined *)&local_1048);
              iVar10 = iVar2 + -0x14;
            }
            if ((uVar1 & 0x4000000) != 0) {
              if (iVar10 < 4) goto LAB_0001d7dc;
              FUN_0001cc9c(param_2);
              local_1068 = FUN_0001c82c((undefined *)&local_1048);
            }
            uVar15 = 0;
            *(uint *)(param_1 + 0x2d0) = uVar14;
            uVar18 = 0;
            local_1070 = *(uint *)(param_1 + 0xb8) + uVar14;
            uStack4204 = *(int *)(param_1 + 0xbc) + (uint)CARRY4(*(uint *)(param_1 + 0xb8),uVar14);
            while ((int)uVar15 < iVar3) {
              local_1080 = *(uint *)(param_1 + 0xd0);
              local_107c = local_1068;
              if (uVar15 != 0) {
                local_107c = *(uint *)(param_1 + 0xd4);
              }
              local_1060 = *(uint *)(param_1 + 0xcc);
              if ((uVar1 & 0x10000) != 0) {
                FUN_0001cc9c(param_2);
                local_1060 = FUN_0001c82c((undefined *)&local_1048);
              }
              if ((uVar1 & 0x20000) != 0) {
                FUN_0001cc9c(param_2);
                local_1080 = FUN_0001c82c((undefined *)&local_1048);
              }
              if ((uVar1 & 0x40000) != 0) {
                FUN_0001cc9c(param_2);
                local_107c = FUN_0001c82c((undefined *)&local_1048);
              }
              *(undefined4 *)(*(int *)(iVar12 + 0x38) + *(int *)(iVar12 + 0x34) * 8) = 1;
              if ((uVar1 & 0x80000) == 0) {
                *(uint *)(*(int *)(iVar12 + 0x38) + *(int *)(iVar12 + 0x34) * 8 + 4) =
                     CONCAT11(local_1048._2_1_,local_1048._3_1_) & 0x800;
              }
              else {
                FUN_0001cc9c(param_2);
                iVar8 = *(int *)(iVar12 + 0x34);
                iVar10 = *(int *)(iVar12 + 0x38);
                uVar4 = FUN_0001c82c((undefined *)&local_1048);
                *(undefined4 *)(iVar10 + iVar8 * 8 + 4) = uVar4;
              }
              *(int *)(iVar12 + 0x34) = *(int *)(iVar12 + 0x34) + 1;
              uVar14 = *(uint *)(iVar12 + 0x98);
              if (uVar14 != 1) {
                if (uVar18 == 0) {
                  uVar14 = 1 - (local_107c & 0x1010000);
                  uVar18 = uVar14;
                  if (1 < (local_107c & 0x1010000)) {
                    uVar14 = 0;
                    uVar18 = uVar14;
                  }
                }
                else {
                  uVar14 = 0;
                  uVar18 = 1;
                }
              }
              __s = (uint *)malloc(0x18);
              if (__s == (uint *)0x0) goto LAB_0001d7dc;
              memset(__s,0,0x18);
              __s[3] = local_1060;
              *__s = local_1070;
              __s[1] = uStack4204;
              __s[2] = local_1080;
              __s[5] = uVar15;
              __s[4] = uVar14;
              if (*(int *)(iVar12 + 0x98) == 0) {
                iVar10 = aw_list_add(*(int **)(param_1 + 0xe0),__s);
                if (iVar10 < 0) {
                  uVar4 = 0x2f9;
LAB_0001d7b2:
                  pcVar11 = "<%s:%u>: \x1b[40;31maw_list_add error!\x1b[0m";
                  uVar5 = 6;
                  goto LAB_0001d7b6;
                }
              }
              else {
                if ((*(int *)(iVar12 + 0x98) == 1) &&
                   (iVar10 = aw_list_add(*(int **)(param_1 + 0xe4),__s), iVar10 < 0)) {
                  uVar4 = 0x301;
                  goto LAB_0001d7b2;
                }
              }
              uVar15 = uVar15 + 1;
              bVar19 = CARRY4(local_1070,local_1080);
              local_1070 = local_1070 + local_1080;
              uStack4204 = uStack4204 + bVar19;
            }
            goto LAB_0001d988;
          }
        }
LAB_0001d7dc:
        uVar4 = 0x338;
        puVar9 = &DAT_0002a144;
        goto LAB_0001d958;
      }
      if (iVar3 != 0x64697575) {
        if (*(int *)(param_1 + 0x2c) == 0) {
          uVar1 = FUN_0001cd40(param_2,iVar2 - 8U);
        }
        else {
          uVar1 = FUN_0001cc1c((int *)param_2,(char)*(int *)(param_1 + 0x2c),(char)(iVar2 - 8U),0,1)
          ;
        }
        if (-1 < (int)uVar1) goto LAB_0001d98a;
        goto LAB_0001d9b4;
      }
      memset(&local_1048,0,0x14);
      FUN_0001cc9c(param_2);
      FUN_0001cc9c(param_2);
      uVar1 = local_1048 >> 0x18;
      if ((local_1048 & 0x1000000) != 0) {
        FUN_0001cc9c(param_2);
      }
      FUN_0001cc9c(param_2);
      iVar3 = FUN_0001c82c((undefined *)&local_1048);
      if (*(void **)(param_1 + 0x2d8) != (void *)0x0) {
        free(*(void **)(param_1 + 0x2d8));
      }
      pvVar6 = malloc(iVar3 * 0x90);
      *(void **)(param_1 + 0x2d8) = pvVar6;
      if (pvVar6 == (void *)0x0) {
        uVar4 = 0x22e;
        puVar9 = &DAT_00027e24;
LAB_0001d8d6:
        __android_log_print(6,"awplayer",puVar9,"MovParseSenc",uVar4);
        uVar4 = 0x341;
        puVar9 = &DAT_0002a144;
        goto LAB_0001d958;
      }
      iVar10 = 0;
      memset(pvVar6,0,iVar3 * 0x90);
      iVar12 = 0;
      while (iVar12 < iVar3) {
        FUN_0001cc9c(param_2);
        puVar16 = (undefined4 *)(*(int *)(param_1 + 0x2d8) + iVar10);
        uVar20 = FUN_0001c844((undefined *)&local_1048);
        *puVar16 = (int)uVar20;
        puVar16[1] = (int)((ulonglong)uVar20 >> 0x20);
        if ((uVar1 & 2) != 0) {
          FUN_0001cc9c(param_2);
          if (0x10 < CONCAT11((undefined)local_1048,local_1048._1_1_)) {
            uVar4 = 0x23b;
            puVar9 = &DAT_0002a16c;
            goto LAB_0001d8d6;
          }
          iVar17 = (uint)CONCAT11((undefined)local_1048,local_1048._1_1_) * 2;
          *(int *)(*(int *)(param_1 + 0x2d8) + iVar10 + 8) = iVar17;
          iVar8 = 0;
          while (iVar8 != iVar17) {
            FUN_0001cc9c(param_2);
            *(uint *)(*(int *)(param_1 + 0x2d8) + (iVar8 + 2) * 4 + iVar10 + 4) =
                 (uint)CONCAT11((undefined)local_1048,local_1048._1_1_);
            iVar7 = *(int *)(param_1 + 0x2d8);
            uVar4 = FUN_0001c82c((undefined *)((int)&local_1048 + 2));
            *(undefined4 *)(iVar7 + iVar10 + iVar8 * 4 + 0x10) = uVar4;
            iVar8 = iVar8 + 2;
          }
        }
        iVar12 = iVar12 + 1;
        iVar10 = iVar10 + 0x90;
      }
LAB_0001d988:
      uVar1 = 0;
LAB_0001d98a:
      local_1078 = local_1078 + iVar2;
    }
    uVar4 = 0x324;
    puVar9 = &DAT_0002a036;
LAB_0001d958:
    __android_log_print(6,"awplayer",puVar9,"MovParseTraf",uVar4);
LAB_0001d9b4:
    uVar1 = 0xffffffff;
  }
LAB_0001d9b8:
  if (local_34 == __stack_chk_guard) {
    return uVar1;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



int MovBuildKeyframeIdx(int param_1,int param_2)

{
  longlong lVar1;
  short sVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  undefined4 uVar6;
  int iVar7;
  int iVar8;
  uint uVar9;
  int iVar10;
  uint uVar11;
  uint uVar12;
  uint uVar13;
  bool bVar14;
  undefined8 uVar15;
  ulonglong uVar16;
  uint local_58;
  int iStack84;
  uint local_4c;
  uint local_48;
  uint local_44;
  uint local_40;
  uint local_3c;
  uint local_38;
  
  iVar8 = *(int *)(param_1 + 0x68);
  iVar7 = *(int *)(iVar8 + (*(ushort *)(iVar8 + 0x13c) + 0x42) * 4);
  uVar9 = *(uint *)(iVar7 + 0x54);
  if (uVar9 == 0) {
    *(undefined4 *)(iVar7 + 0x11c) = 0;
    *(undefined4 *)(iVar7 + 0x128) = 0;
    *(undefined4 *)(iVar7 + 300) = 0;
    *(undefined4 *)(iVar7 + 0x114) = 0;
    local_38 = 0xffffffff;
    uVar4 = uVar9;
    uVar13 = uVar9;
    local_4c = uVar9;
    local_48 = uVar9;
    local_44 = uVar9;
    local_40 = uVar9;
    local_3c = uVar9;
    while (local_44 < *(uint *)(iVar7 + 0x14)) {
      iVar3 = ReadStss(iVar8,iVar7,local_44 << 2);
      iVar3 = iVar3 + -1;
      *(int *)(iVar7 + 0x100) = iVar3;
      if (((int)local_4c <= iVar3) && (uVar12 = *(uint *)(iVar7 + 8), local_40 <= uVar12)) {
        iVar10 = local_40 * 0xc;
        do {
          local_48 = FUN_0001c85e(iVar8,iVar7,iVar10);
          uVar4 = FUN_0001c85e(iVar8,iVar7,iVar10 + 4);
          uVar13 = *(uint *)(iVar7 + 0x108);
          if (uVar13 + 1 < uVar12) {
            iVar5 = FUN_0001c85e(iVar8,iVar7,iVar10 + 0xc);
            local_3c = uVar4 * (iVar5 - local_48);
          }
          else {
            local_3c = 0x7ffffff;
          }
          local_4c = local_4c + local_3c;
          local_40 = local_40 + 1;
        } while (((int)local_4c <= iVar3) && (iVar10 = iVar10 + 0xc, uVar13 <= uVar12));
        uVar13 = 0;
      }
      if (uVar4 == 0) goto LAB_0001dc72;
      iVar5 = iVar3 + (local_3c - local_4c);
      iVar10 = iVar5;
      if (uVar4 != 1) {
        iVar10 = __aeabi_uidiv(iVar5,uVar4);
      }
      iVar10 = (local_48 - 1) + iVar10;
      uVar16 = FUN_0001c888(iVar8,iVar7,iVar10);
      iVar5 = iVar5 - uVar4 * ((1 - local_48) + iVar10);
      if (iVar5 == 0) {
        local_58 = 0;
        iStack84 = 0;
      }
      else {
        if (uVar13 == 0) {
          local_58 = 0;
          iStack84 = 0;
          while ((int)uVar13 < iVar5) {
            iVar10 = uVar13 * 4;
            uVar13 = uVar13 + 1;
            uVar12 = FUN_0001c86a(iVar8,iVar7,(iVar3 - iVar5) * 4 + iVar10);
            bVar14 = CARRY4(local_58,uVar12);
            local_58 = local_58 + uVar12;
            iStack84 = iStack84 + (uint)bVar14;
          }
          uVar13 = 1;
          local_38 = local_58;
        }
        else {
          iStack84 = 0;
          local_58 = local_38;
        }
      }
      uVar15 = VectorAdd(CONCAT44(iStack84,local_58),
                         (uVar16 & 0xffffffff00000000) + (uVar16 & 0xffffffff),8);
      *(undefined8 *)(*(int *)(iVar8 + 0x1ac) + uVar9 + 0x10) = uVar15;
      uVar6 = FUN_0001c86a(iVar8,iVar7,iVar3 * 4);
      *(undefined4 *)(*(int *)(iVar8 + 0x1ac) + uVar9) = uVar6;
      if (1 < *(uint *)(iVar7 + 0x18)) {
        uVar11 = *(uint *)(iVar7 + 0x100);
        uVar12 = *(uint *)(iVar7 + 0x11c);
        while (uVar12 <= uVar11) {
          iVar5 = *(int *)(iVar7 + 0x114);
          iVar10 = iVar5 * 8;
          iVar3 = FUN_0001c87c(iVar8,iVar7,iVar10);
          iVar10 = FUN_0001c87c(iVar8,iVar7,iVar10 + 4);
          uVar12 = *(int *)(iVar7 + 0x11c) + iVar3;
          *(uint *)(iVar7 + 0x11c) = uVar12;
          lVar1 = (longlong)iVar3 * (longlong)iVar10 + *(longlong *)(iVar7 + 0x128);
          *(int *)(iVar7 + 0x120) = iVar10;
          *(int *)(iVar7 + 0x128) = (int)lVar1;
          *(int *)(iVar7 + 300) = (int)((ulonglong)lVar1 >> 0x20);
          *(int *)(iVar7 + 0x114) = iVar5 + 1;
        }
        uVar16 = (ulonglong)(*(int *)(iVar7 + 0x11c) - uVar11) * (ulonglong)*(uint *)(iVar7 + 0x120)
        ;
        uVar15 = VectorSub(*(undefined8 *)(iVar7 + 0x128),
                           (uVar16 & 0xffffffff00000000) + (uVar16 & 0xffffffff),8);
        *(undefined8 *)(*(int *)(iVar8 + 0x1ac) + uVar9 + 8) = uVar15;
      }
      uVar9 = uVar9 + 0x18;
      local_44 = local_44 + param_2;
    }
    sVar2 = 0;
    *(undefined4 *)(iVar7 + 0x11c) = 0;
    *(undefined4 *)(iVar7 + 0x128) = 0;
    *(undefined4 *)(iVar7 + 300) = 0;
    *(undefined4 *)(iVar7 + 0x114) = 0;
    *(undefined4 *)(iVar7 + 0x100) = 0;
  }
  else {
LAB_0001dc72:
    sVar2 = -1;
  }
  return (int)sVar2;
}



uint * MovTimeToSampleSidx(int param_1,uint param_2,int param_3)

{
  longlong lVar1;
  int iVar2;
  uint uVar3;
  int *piVar4;
  int *piVar5;
  uint uVar6;
  int **ppiVar7;
  uint *puVar8;
  uint *puVar9;
  int *piVar10;
  int *piVar11;
  undefined8 uVar12;
  
  ppiVar7 = *(int ***)(param_1 + 0x68);
  piVar10 = ppiVar7[param_3 + 0x42];
  piVar11 = *ppiVar7;
  puVar9 = (uint *)ppiVar7[0x1c];
  lVar1 = (ulonglong)param_2 * (ulonglong)(uint)piVar10[0x17];
  uVar12 = __aeabi_uldivmod((int)lVar1,
                            piVar10[0x17] * ((int)param_2 >> 0x1f) + (int)((ulonglong)lVar1 >> 0x20)
                            ,1000,0,param_1,param_2);
  uVar3 = (uint)((ulonglong)uVar12 >> 0x20);
  uVar6 = (uint)uVar12;
  piVar4 = ppiVar7[0xb1];
  if (piVar4 == (int *)0x0) {
    if (puVar9 == (uint *)0x0) {
      __android_log_print(5,"awplayer","<%s:%u>: --- sidx is NULL, cannot seek",
                          "MovTimeToSampleSidx",0x501);
    }
    else {
      piVar5 = piVar4;
      puVar8 = puVar9;
      while (((int)piVar5 < (int)ppiVar7[0x1d] &&
             (uVar6 < *puVar8 && CARRY4(uVar3,~puVar8[1]) ||
              uVar6 >= *puVar8 && uVar3 + ~puVar8[1] + 1 <= uVar3))) {
        piVar4 = piVar5;
        piVar5 = (int *)((int)piVar5 + 1);
        puVar8 = puVar8 + 8;
      }
      puVar9 = puVar9 + (int)piVar4 * 8;
      uVar6 = puVar9[1];
      piVar10[0x4c] = *puVar9;
      piVar10[0x4d] = uVar6;
      iVar2 = FUN_0001cc1c(piVar11,0,(char)puVar9[2],(char)puVar9[3],0);
      if (iVar2 < 0) {
        puVar9 = (uint *)0xffffffff;
      }
      else {
        puVar9 = (uint *)0x0;
      }
    }
  }
  else {
    piVar10[0x4c] = uVar6;
    piVar10[0x4d] = uVar3;
    puVar9 = (uint *)0x0;
  }
  return puVar9;
}



int MovTimeToSample(int param_1,int param_2)

{
  longlong lVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  bool bVar9;
  undefined8 uVar10;
  uint local_30;
  uint uStack44;
  
  iVar7 = *(int *)(param_1 + 0x68);
  uVar5 = 0;
  iVar8 = 0;
  iVar6 = *(int *)(iVar7 + (*(ushort *)(iVar7 + 0x13c) + 0x42) * 4);
  lVar1 = (longlong)param_2 * (longlong)*(int *)(iVar6 + 0x5c);
  uVar10 = __aeabi_uldivmod((int)lVar1,(int)((ulonglong)lVar1 >> 0x20),1000,0);
  uVar4 = (uint)((ulonglong)uVar10 >> 0x20);
  local_30 = 0;
  uStack44 = 0;
  while( true ) {
    if (*(int *)(param_1 + 0x50) != 0) {
      return -1;
    }
    iVar2 = FUN_0001c87c(iVar7,iVar6,uVar5 * 8);
    iVar3 = FUN_0001c87c(iVar7,iVar6,uVar5 * 8 + 4);
    iVar8 = iVar8 + iVar2;
    lVar1 = (longlong)iVar2 * (longlong)iVar3 + CONCAT44(uStack44,local_30);
    local_30 = (uint)lVar1;
    uStack44 = (uint)((ulonglong)lVar1 >> 0x20);
    bVar9 = local_30 <= (uint)uVar10;
    if (((bVar9 || !CARRY4(uVar4,~uStack44)) && (!bVar9 || uVar4 < uVar4 + ~uStack44 + 1)) ||
       (*(uint *)(iVar6 + 0x18) < uVar5)) break;
    uVar5 = uVar5 + 1;
  }
  if (iVar3 == 0) {
    return 0;
  }
  uVar10 = VectorSub(lVar1,uVar10,8);
  iVar6 = __aeabi_uldivmod((int)uVar10,(int)((ulonglong)uVar10 >> 0x20),iVar3,iVar3 >> 0x1f);
  return iVar8 - iVar6;
}



int MovSeekSample(int param_1,uint param_2,int param_3)

{
  ulonglong uVar1;
  longlong lVar2;
  ulonglong uVar3;
  short sVar4;
  int iVar5;
  int iVar6;
  undefined4 uVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  uint uVar11;
  uint uVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  uint uVar17;
  uint uVar18;
  uint uVar19;
  int iVar20;
  uint uVar21;
  bool bVar22;
  undefined8 uVar23;
  longlong lVar24;
  uint local_6c;
  uint local_60;
  uint local_5c;
  uint local_58;
  uint local_50;
  uint local_44;
  int local_40;
  int local_3c;
  
  iVar14 = *(int *)(param_1 + 0x68);
  if ((*(short *)(iVar14 + 0x142) != 0) &&
     (iVar13 = *(int *)(iVar14 + (*(ushort *)(iVar14 + 0x13c) + 0x42) * 4),
     *(int *)(iVar13 + 0x48) == 1)) {
    *(undefined4 *)(iVar13 + 0x108) = 0;
    iVar15 = 0;
    iVar5 = FUN_0001c85e(iVar14,iVar13,0);
    do {
      iVar16 = iVar5;
      if (*(int *)(param_1 + 0x50) != 0) goto LAB_0001e768;
      iVar20 = *(int *)(iVar13 + 0x108);
      iVar5 = iVar20 * 0xc;
      iVar6 = FUN_0001c85e(iVar14,iVar13,iVar5 + 4);
      iVar5 = FUN_0001c85e(iVar14,iVar13,iVar5 + 0xc);
      uVar9 = *(uint *)(iVar13 + 8);
      uVar10 = iVar20 + 1;
      *(uint *)(iVar13 + 0x108) = uVar10;
      iVar20 = iVar6 * (iVar5 - iVar16);
      if (uVar9 <= uVar10) {
        iVar20 = 0x7ffffff;
      }
      iVar15 = iVar15 + iVar20;
      if (uVar9 <= uVar10) {
        iVar5 = 0x278d00;
      }
    } while ((iVar15 - 1U < param_2) && (uVar10 <= uVar9));
    iVar20 = iVar20 + param_2;
    iVar15 = iVar20 - iVar15;
    *(int *)(iVar13 + 0x144) = iVar6;
    if (iVar6 == 1) {
      iVar20 = iVar16 + -1 + iVar15;
    }
    *(int *)(iVar13 + 0x148) = iVar5 + -1;
    if (iVar6 == 1) {
      *(int *)(iVar13 + 0x110) = iVar20;
    }
    else {
      iVar5 = __aeabi_uidiv(iVar15,iVar6);
      *(int *)(iVar13 + 0x110) = iVar16 + -1 + iVar5;
    }
    *(int *)(iVar13 + 0xf8) = *(int *)(iVar13 + 0x110);
    iVar5 = *(int *)(iVar13 + 0x54);
    iVar15 = iVar15 - iVar6 * ((*(int *)(iVar13 + 0x110) + 1) - iVar16);
    *(int *)(iVar13 + 0xfc) = iVar15;
    if (iVar5 != 0) {
LAB_0001e768:
      sVar4 = -1;
      goto LAB_0001e76c;
    }
    *(uint *)(iVar13 + 0x10c) = param_2;
    *(uint *)(iVar13 + 0x100) = param_2;
    *(undefined4 *)(iVar13 + 0x104) = 0;
    while (iVar5 < iVar15) {
      iVar16 = iVar5 * 4;
      iVar5 = iVar5 + 1;
      iVar16 = FUN_0001c86a(iVar14,iVar13,(param_2 - iVar15) * 4 + iVar16);
      *(int *)(iVar13 + 0x104) = *(int *)(iVar13 + 0x104) + iVar16;
    }
    *(undefined4 *)(iVar13 + 0x114) = 0;
    *(undefined4 *)(iVar13 + 0x11c) = 0;
    *(undefined4 *)(iVar13 + 0x128) = 0;
    *(undefined4 *)(iVar13 + 300) = 0;
    do {
      if (*(int *)(param_1 + 0x50) != 0) goto LAB_0001e768;
      iVar15 = *(int *)(iVar13 + 0x114);
      iVar16 = iVar15 * 8;
      iVar5 = FUN_0001c87c(iVar14,iVar13,iVar16);
      uVar9 = FUN_0001c87c(iVar14,iVar13,iVar16 + 4);
      uVar10 = iVar5 + *(int *)(iVar13 + 0x11c);
      *(uint *)(iVar13 + 0x11c) = uVar10;
      uVar1 = (longlong)iVar5 * (longlong)(int)uVar9 + *(longlong *)(iVar13 + 0x128);
      uVar11 = (uint)(uVar1 >> 0x20);
      *(uint *)(iVar13 + 0x120) = uVar9;
      *(int *)(iVar13 + 0x114) = iVar15 + 1;
      *(int *)(iVar13 + 0x128) = (int)uVar1;
      *(uint *)(iVar13 + 300) = uVar11;
    } while (uVar10 <= param_2);
    uVar3 = (ulonglong)(uVar10 - param_2) * (ulonglong)uVar9;
    uVar23 = VectorSub(((ulonglong)uVar11 << 0x20) + (uVar1 & 0xffffffff),
                       (uVar3 & 0xffffffff00000000) + (uVar3 & 0xffffffff),8);
    *(undefined8 *)(iVar13 + 0x130) = uVar23;
  }
  local_40 = 0;
  local_3c = iVar14;
LAB_0001e756:
  if (local_40 < *(int *)(iVar14 + 0xfc)) {
    iVar13 = *(int *)(local_3c + 0x108);
    if (*(int *)(iVar13 + 0x48) == 2) {
      *(undefined4 *)(iVar13 + 0x110) = 0;
      uVar9 = *(uint *)(iVar13 + 0x5c);
      if (*(short *)(iVar14 + 0x142) == 0) {
        iVar16 = 0;
        iVar15 = 1000;
        uVar7 = (undefined4)((longlong)param_3 * (longlong)(int)uVar9);
        iVar5 = (int)((ulonglong)((longlong)param_3 * (longlong)(int)uVar9) >> 0x20);
      }
      else {
        iVar5 = *(int *)(iVar14 + (*(ushort *)(iVar14 + 0x13c) + 0x42) * 4);
        iVar15 = *(int *)(iVar5 + 0x5c);
        lVar24 = (ulonglong)*(uint *)(iVar5 + 0x130) * (ulonglong)uVar9;
        uVar7 = (undefined4)lVar24;
        iVar16 = iVar15 >> 0x1f;
        iVar5 = *(uint *)(iVar5 + 0x130) * ((int)uVar9 >> 0x1f) + uVar9 * *(int *)(iVar5 + 0x134) +
                (int)((ulonglong)lVar24 >> 0x20);
      }
      lVar24 = __aeabi_uldivmod(uVar7,iVar5,iVar15,iVar16);
      uVar18 = (uint)((ulonglong)lVar24 >> 0x20);
      uVar9 = (uint)lVar24;
      *(undefined4 *)(iVar13 + 0x108) = 0;
      *(undefined4 *)(iVar13 + 0x114) = 0;
      *(undefined4 *)(iVar13 + 0x11c) = 0;
      iVar5 = 0;
      *(undefined4 *)(iVar13 + 0x128) = 0;
      *(undefined4 *)(iVar13 + 300) = 0;
      uVar10 = FUN_0001c85e(iVar14,iVar13,4);
      uVar11 = FUN_0001c85e(iVar14,iVar13,0xc);
      local_50 = 0;
      *(undefined4 *)(iVar13 + 0x108) = 1;
      uVar8 = 0;
      if (*(uint *)(iVar13 + 8) < 2) {
        uVar11 = 0x7fffffff;
      }
      do {
        if (*(int *)(param_1 + 0x50) != 0) goto LAB_0001e768;
        uVar12 = *(uint *)(iVar13 + 0x114);
        if (uVar12 == 0) {
          iVar15 = FUN_0001c87c(iVar14,iVar13,iVar5);
          uVar8 = FUN_0001c87c(iVar14,iVar13,iVar5 + 4);
          *(int *)(iVar13 + 0x11c) = iVar15;
          *(undefined4 *)(iVar13 + 0x114) = 1;
          *(uint *)(iVar13 + 0x120) = uVar8;
          *(int *)(iVar13 + 0x128) = (int)((longlong)(int)uVar8 * (longlong)iVar15);
          *(int *)(iVar13 + 300) =
               (int)((ulonglong)((longlong)(int)uVar8 * (longlong)iVar15) >> 0x20);
        }
        else {
          uVar17 = *(uint *)(iVar13 + 0x11c);
          if ((uVar17 < uVar10) && (uVar12 <= *(int *)(iVar13 + 0x18) - 1U)) {
            iVar5 = uVar12 * 8;
            iVar15 = FUN_0001c87c(iVar14,iVar13,iVar5);
            uVar8 = FUN_0001c87c(iVar14,iVar13,iVar5 + 4);
            uVar12 = (uint)*(ushort *)(iVar14 + 0x142);
            if (uVar12 == 0) {
              local_6c = uVar12;
              while ((local_50 = local_6c + uVar17, (int)local_6c < iVar15 &&
                     (uVar19 = uVar8 + *(int *)(iVar13 + 0x128) + uVar12, uVar12 = uVar12 + uVar8,
                     bVar22 = uVar9 < uVar19, bVar22 && uVar18 != 0 || !bVar22))) {
                local_6c = local_6c + 1;
              }
            }
            *(uint *)(iVar13 + 0x11c) = iVar15 + uVar17;
            *(uint *)(iVar13 + 0x120) = uVar8;
            lVar2 = (longlong)iVar15 * (longlong)(int)uVar8 + *(longlong *)(iVar13 + 0x128);
            *(int *)(iVar13 + 0x128) = (int)lVar2;
            *(int *)(iVar13 + 300) = (int)((ulonglong)lVar2 >> 0x20);
            *(int *)(iVar13 + 0x114) = *(int *)(iVar13 + 0x114) + 1;
          }
        }
      } while (((lVar24 == 0) ||
               (bVar22 = uVar9 < *(uint *)(iVar13 + 0x128),
               bVar22 && CARRY4(uVar18,~*(uint *)(iVar13 + 300)) ||
               !bVar22 && uVar18 + ~*(uint *)(iVar13 + 300) + 1 <= uVar18)) &&
              (*(uint *)(iVar13 + 0x11c) < uVar10));
      if (*(int *)(iVar13 + 0x18) == 1) {
        local_50 = __aeabi_uldivmod(uVar9,uVar18,uVar8,(int)uVar8 >> 0x1f);
      }
      bVar22 = false;
      local_60 = 0;
      local_5c = 0;
      local_44 = uVar10;
      do {
        if (*(int *)(param_1 + 0x50) != 0) goto LAB_0001e768;
        if (uVar11 <= *(int *)(iVar13 + 0x110) + 1U) {
          iVar15 = *(int *)(iVar13 + 0x108);
          iVar5 = iVar15 * 0xc;
          local_44 = FUN_0001c85e(iVar14,iVar13,iVar5 + 4);
          uVar11 = FUN_0001c85e(iVar14,iVar13,iVar5 + 0xc);
          uVar12 = iVar15 + 1;
          *(uint *)(iVar13 + 0x108) = uVar12;
          if (*(uint *)(iVar13 + 8) <= uVar12) {
            uVar11 = 0x7fffffff;
          }
        }
        if (bVar22) {
          uVar10 = uVar10 + local_44;
        }
        iVar5 = *(int *)(iVar13 + 0x18);
        if (iVar5 == 1) {
          if (local_50 < uVar10) goto LAB_0001e2d2;
        }
        else {
          do {
            if (*(int *)(param_1 + 0x50) != 0) goto LAB_0001e768;
            uVar12 = *(uint *)(iVar13 + 0x11c);
            if ((uVar10 <= uVar12) || (uVar17 = *(uint *)(iVar13 + 0x114), iVar5 - 1U < uVar17))
            break;
            iVar15 = FUN_0001c87c(iVar14,iVar13,uVar17 * 8);
            uVar8 = FUN_0001c87c(iVar14,iVar13,uVar17 * 8 + 4);
            *(uint *)(iVar13 + 0x11c) = iVar15 + uVar12;
            lVar24 = (longlong)iVar15 * (longlong)(int)uVar8 + *(longlong *)(iVar13 + 0x128);
            uVar19 = (uint)lVar24;
            uVar21 = (uint)((ulonglong)lVar24 >> 0x20);
            *(uint *)(iVar13 + 0x114) = uVar17 + 1;
            *(uint *)(iVar13 + 0x120) = uVar8;
            uVar12 = ~uVar21;
            *(uint *)(iVar13 + 0x128) = uVar19;
            *(uint *)(iVar13 + 300) = uVar21;
          } while (uVar19 > uVar9 && CARRY4(uVar18,uVar12) ||
                   uVar19 <= uVar9 && uVar18 + uVar12 + 1 <= uVar18);
          local_60 = *(uint *)(iVar13 + 0x128);
          local_5c = *(uint *)(iVar13 + 300);
          if (*(uint *)(iVar13 + 0x11c) < uVar10) goto LAB_0001e2d2;
          lVar24 = (ulonglong)(*(uint *)(iVar13 + 0x11c) - uVar10) *
                   (ulonglong)*(uint *)(iVar13 + 0x120);
          uVar12 = (uint)lVar24;
          bVar22 = local_60 < uVar12;
          local_60 = local_60 - uVar12;
          local_5c = (local_5c - (int)((ulonglong)lVar24 >> 0x20)) - (uint)bVar22;
          if ((local_60 <= uVar9 || !CARRY4(uVar18,~local_5c)) &&
              (local_60 > uVar9 || uVar18 < uVar18 + ~local_5c + 1)) goto LAB_0001e2d2;
        }
        if (*(uint *)(iVar13 + 0x10) <= *(uint *)(iVar13 + 0x110)) goto code_r0x0001e2bc;
        bVar22 = true;
        *(uint *)(iVar13 + 0x110) = *(uint *)(iVar13 + 0x110) + 1;
      } while( true );
    }
    if (*(int *)(iVar13 + 0x48) != 3) goto LAB_0001e73e;
    uVar10 = *(uint *)(param_1 + 0x50);
    if (uVar10 == 0) {
      *(undefined4 *)(iVar13 + 0x110) = 0;
      *(undefined4 *)(iVar13 + 0x108) = 0;
      *(undefined4 *)(iVar13 + 0x114) = 0;
      local_58 = FUN_0001c85e(iVar14,iVar13,4);
      uVar9 = FUN_0001c85e(iVar14,iVar13,0xc);
      *(undefined4 *)(iVar13 + 0x108) = 1;
      if (*(uint *)(iVar13 + 8) < 2) {
        uVar9 = 0x7fffffff;
      }
      iVar5 = FUN_0001c87c(iVar14,iVar13,0);
      uVar8 = FUN_0001c87c(iVar14,iVar13,4);
      *(int *)(iVar13 + 0x11c) = iVar5;
      *(undefined4 *)(iVar13 + 0x114) = 1;
      *(uint *)(iVar13 + 0x120) = uVar8;
      *(int *)(iVar13 + 0x128) = (int)((longlong)(int)uVar8 * (longlong)iVar5);
      *(int *)(iVar13 + 300) = (int)((ulonglong)((longlong)(int)uVar8 * (longlong)iVar5) >> 0x20);
      uVar11 = *(uint *)(iVar13 + 0x5c);
      iVar5 = *(int *)(iVar14 + (*(ushort *)(iVar14 + 0x13c) + 0x42) * 4);
      lVar24 = (ulonglong)*(uint *)(iVar5 + 0x130) * (ulonglong)uVar11;
      uVar23 = __aeabi_uldivmod((int)lVar24,
                                *(uint *)(iVar5 + 0x130) * ((int)uVar11 >> 0x1f) +
                                uVar11 * *(int *)(iVar5 + 0x134) + (int)((ulonglong)lVar24 >> 0x20),
                                *(int *)(iVar5 + 0x5c),*(int *)(iVar5 + 0x5c) >> 0x1f);
      uVar18 = (uint)((ulonglong)uVar23 >> 0x20);
      uVar11 = (uint)uVar23;
      if (*(int *)(iVar13 + 0x18) == 1) {
        uVar10 = __aeabi_uldivmod(uVar11,uVar18,uVar8,(int)uVar8 >> 0x1f);
      }
      uVar12 = 0;
      local_60 = 0;
      local_5c = 0;
      while( true ) {
        if (*(int *)(param_1 + 0x50) != 0) goto LAB_0001e768;
        if (uVar9 < *(int *)(iVar13 + 0x110) + 1U) {
          iVar15 = *(int *)(iVar13 + 0x108);
          iVar5 = iVar15 * 0xc;
          local_58 = FUN_0001c85e(iVar14,iVar13,iVar5 + 4);
          uVar9 = FUN_0001c85e(iVar14,iVar13,iVar5 + 0xc);
          uVar17 = iVar15 + 1;
          *(uint *)(iVar13 + 0x108) = uVar17;
          if (*(uint *)(iVar13 + 8) <= uVar17) {
            uVar9 = 0x7fffffff;
          }
        }
        uVar12 = uVar12 + local_58;
        if (*(int *)(iVar13 + 0x18) == 1) {
          if (uVar10 < uVar12) goto LAB_0001e60e;
        }
        else {
          uVar17 = (uint)((ulonglong)local_58 * (ulonglong)uVar8);
          bVar22 = CARRY4(local_60,uVar17);
          local_60 = local_60 + uVar17;
          local_5c = local_5c +
                     local_58 * ((int)uVar8 >> 0x1f) +
                     (int)((ulonglong)local_58 * (ulonglong)uVar8 >> 0x20) + (uint)bVar22;
          if ((local_60 <= uVar11 || !CARRY4(uVar18,~local_5c)) &&
              (local_60 > uVar11 || uVar18 < uVar18 + ~local_5c + 1)) goto LAB_0001e60e;
          uVar17 = *(uint *)(iVar13 + 0x11c);
          if ((uVar17 < uVar12) &&
             (uVar19 = *(uint *)(iVar13 + 0x114), uVar19 < *(int *)(iVar13 + 0x18) - 1U)) {
            iVar5 = FUN_0001c87c(iVar14,iVar13,uVar19 * 8);
            uVar8 = FUN_0001c87c(iVar14,iVar13,uVar19 * 8 + 4);
            *(uint *)(iVar13 + 0x11c) = iVar5 + uVar17;
            lVar24 = (longlong)iVar5 * (longlong)(int)uVar8 + *(longlong *)(iVar13 + 0x128);
            *(uint *)(iVar13 + 0x120) = uVar8;
            *(int *)(iVar13 + 0x128) = (int)lVar24;
            *(int *)(iVar13 + 300) = (int)((ulonglong)lVar24 >> 0x20);
            *(uint *)(iVar13 + 0x114) = uVar19 + 1;
          }
        }
        if (*(uint *)(iVar13 + 0x10) <= *(uint *)(iVar13 + 0x110)) break;
        *(uint *)(iVar13 + 0x110) = *(uint *)(iVar13 + 0x110) + 1;
      }
      *(undefined2 *)(iVar13 + 0x150) = 1;
LAB_0001e60e:
      if (*(int *)(iVar13 + 0x18) == 1) {
        if (*(int *)(iVar13 + 0x10) == 1) {
          local_60 = (uint)((ulonglong)uVar8 * (ulonglong)uVar10);
          local_5c = uVar10 * ((int)uVar8 >> 0x1f) +
                     (int)((ulonglong)uVar8 * (ulonglong)uVar10 >> 0x20);
        }
        else {
          local_60 = (uint)((ulonglong)uVar8 * (ulonglong)uVar12);
          local_5c = uVar12 * ((int)uVar8 >> 0x1f) +
                     (int)((ulonglong)uVar8 * (ulonglong)uVar12 >> 0x20);
        }
      }
      iVar5 = 0;
      *(uint *)(iVar13 + 0x148) = uVar9;
      iVar15 = *(int *)(iVar13 + 0x110);
      *(uint *)(iVar13 + 0x130) = local_60;
      *(uint *)(iVar13 + 0x134) = local_5c;
      *(int *)(iVar13 + 0xf8) = iVar15;
      *(undefined4 *)(iVar13 + 0x108) = 0;
      *(uint *)(iVar13 + 0x144) = local_58;
      uVar9 = FUN_0001c85e(iVar14,iVar13,0);
      uVar11 = iVar15 + 1;
      *(uint *)(iVar13 + 0x140) = uVar9;
      do {
        if (*(int *)(param_1 + 0x50) != 0) goto LAB_0001e768;
        uVar18 = *(uint *)(iVar13 + 0x108);
        iVar15 = FUN_0001c85e(iVar14,iVar13,uVar18 * 0xc + 4);
        uVar8 = FUN_0001c85e(iVar14,iVar13,uVar18 * 0xc + 0xc);
        if ((uVar11 < uVar8) || (*(uint *)(iVar13 + 8) < uVar18)) break;
        *(uint *)(iVar13 + 0x108) = uVar18 + 1;
        iVar5 = iVar15 * (uVar8 - uVar9) + iVar5;
        uVar9 = uVar8;
      } while (uVar18 + 1 < *(uint *)(iVar13 + 8));
      iVar5 = iVar15 * (uVar11 - uVar9) + iVar5;
      *(int *)(iVar13 + 0x144) = iVar15;
      *(undefined4 *)(iVar13 + 0x148) = 0;
      iVar15 = iVar5;
      if (*(int *)(iVar13 + 0x54) != 0) {
        iVar15 = 0;
      }
      bVar22 = *(int *)(iVar13 + 0x10) != 1;
      *(int *)(iVar13 + 0x10c) = iVar15;
      if (bVar22) {
        *(int *)(iVar13 + 0x100) = iVar5;
      }
      if (bVar22) {
        *(undefined4 *)(iVar13 + 0x104) = 0;
      }
      if (bVar22) {
        *(undefined4 *)(iVar13 + 0xfc) = 0;
        goto LAB_0001e73e;
      }
      *(uint *)(iVar13 + 0x100) = uVar10;
      uVar9 = 0;
      *(undefined4 *)(iVar13 + 0x10c) = 0;
      *(undefined4 *)(iVar13 + 0x104) = 0;
      while (uVar9 != uVar10) {
        iVar15 = *(int *)(iVar13 + 0x10c);
        uVar9 = uVar9 + 1;
        iVar5 = FUN_0001c86a(iVar14,iVar13,iVar15 << 2);
        *(int *)(iVar13 + 0x10c) = iVar15 + 1;
        *(int *)(iVar13 + 0x104) = *(int *)(iVar13 + 0x104) + iVar5;
      }
      goto LAB_0001e734;
    }
    goto LAB_0001e768;
  }
  sVar4 = 0;
LAB_0001e76c:
  return (int)sVar4;
code_r0x0001e2bc:
  *(undefined2 *)(iVar13 + 0x150) = 1;
LAB_0001e2d2:
  if (*(int *)(iVar13 + 0x18) == 1) {
    if (*(int *)(iVar13 + 0x10) == 1) {
      local_60 = (uint)((ulonglong)uVar8 * (ulonglong)local_50);
      local_5c = local_50 * ((int)uVar8 >> 0x1f) +
                 (int)((ulonglong)uVar8 * (ulonglong)local_50 >> 0x20);
    }
    else {
      local_60 = (uint)((ulonglong)uVar8 * (ulonglong)uVar10);
      local_5c = uVar10 * ((int)uVar8 >> 0x1f) + (int)((ulonglong)uVar8 * (ulonglong)uVar10 >> 0x20)
      ;
    }
  }
  iVar5 = 0;
  *(uint *)(iVar13 + 0x148) = uVar11;
  *(uint *)(iVar13 + 0x130) = local_60;
  *(uint *)(iVar13 + 0x134) = local_5c;
  uVar10 = *(int *)(iVar13 + 0x110) + 1;
  *(int *)(iVar13 + 0xf8) = *(int *)(iVar13 + 0x110);
  *(undefined4 *)(iVar13 + 0x108) = 0;
  *(uint *)(iVar13 + 0x144) = local_44;
  uVar9 = FUN_0001c85e(iVar14,iVar13,0);
  *(uint *)(iVar13 + 0x140) = uVar9;
  do {
    if (*(int *)(param_1 + 0x50) != 0) goto LAB_0001e768;
    uVar18 = *(uint *)(iVar13 + 0x108);
    uVar11 = FUN_0001c85e(iVar14,iVar13,uVar18 * 0xc + 4);
    uVar8 = FUN_0001c85e(iVar14,iVar13,uVar18 * 0xc + 0xc);
    if ((uVar10 < uVar8) || (*(uint *)(iVar13 + 8) < uVar18)) break;
    *(uint *)(iVar13 + 0x108) = uVar18 + 1;
    iVar5 = uVar11 * (uVar8 - uVar9) + iVar5;
    uVar9 = uVar8;
  } while (uVar18 + 1 < *(uint *)(iVar13 + 8));
  iVar5 = uVar11 * (uVar10 - uVar9) + iVar5;
  *(uint *)(iVar13 + 0x144) = uVar11;
  *(undefined4 *)(iVar13 + 0x148) = 0;
  iVar15 = iVar5;
  if (*(int *)(iVar13 + 0x54) != 0) {
    iVar15 = 0;
  }
  *(int *)(iVar13 + 0x10c) = iVar15;
  if (*(int *)(iVar13 + 0x10) == 1) {
    *(undefined4 *)(iVar13 + 0x10c) = 0;
    *(undefined4 *)(iVar13 + 0x104) = 0;
    *(uint *)(iVar13 + 0x100) = local_50;
    uVar9 = 0;
    while (uVar9 != local_50) {
      iVar15 = *(int *)(iVar13 + 0x10c);
      uVar9 = uVar9 + 1;
      iVar5 = FUN_0001c86a(iVar14,iVar13,iVar15 << 2);
      *(int *)(iVar13 + 0x10c) = iVar15 + 1;
      *(int *)(iVar13 + 0x104) = *(int *)(iVar13 + 0x104) + iVar5;
    }
LAB_0001e734:
    *(uint *)(iVar13 + 0xfc) = uVar9;
    *(undefined4 *)(iVar14 + 0x1bc) = 1;
  }
  else {
    if (uVar11 < 0xb || *(uint *)(iVar13 + 0x18) < 2) {
      *(int *)(iVar13 + 0x100) = iVar5;
    }
    else {
      *(uint *)(iVar13 + 0x100) = iVar5 + uVar11;
      __android_log_print(3,"awplayer","<%s:%u>: --- sample_idx=%d","MovSeekSample",0x702,
                          iVar5 + uVar11);
    }
    *(undefined4 *)(iVar13 + 0x104) = 0;
    *(undefined4 *)(iVar13 + 0xfc) = 0;
  }
LAB_0001e73e:
  local_40 = local_40 + 1;
  local_3c = local_3c + 4;
  goto LAB_0001e756;
}



undefined4 MovReadSampleList(int param_1)

{
  char *pcVar1;
  int iVar2;
  undefined4 uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  undefined extraout_r1;
  undefined extraout_r1_00;
  char *extraout_r1_01;
  char *pcVar7;
  char **ppcVar8;
  char **ppcVar9;
  uint uVar10;
  undefined4 uVar11;
  undefined4 local_3c;
  undefined4 local_38;
  undefined auStack52 [4];
  undefined4 uStack48;
  int local_2c;
  
  ppcVar8 = *(char ***)(param_1 + 0x68);
  local_2c = __stack_chk_guard;
  ppcVar9 = (char **)*ppcVar8;
  local_3c = 0;
  local_38 = 0;
  if (((uint)ppcVar8[0x26] | (uint)ppcVar8[0x27]) == 0) {
    FUN_0001caf8(ppcVar9);
  }
  else {
    FUN_0001cc1c((int *)ppcVar9,0x48,(char)ppcVar8[0x26],(char)ppcVar8[0x27],0);
  }
  while( true ) {
    pcVar1 = (char *)FUN_0001caf8(ppcVar9);
    iVar2 = FUN_0001cc9c(ppcVar9);
    if (iVar2 < 8) break;
    uVar4 = FUN_0001c82c((undefined *)&local_3c);
    iVar2 = FUN_0001c814(&local_38);
    if ((uVar4 == 0) || (iVar2 == 0)) goto LAB_0001e8f8;
    if (iVar2 == 0x666f6f6d) {
      uVar10 = 0;
      ppcVar8[0x30] = pcVar1;
      ppcVar8[0x31] = (char *)0x0;
      uVar5 = 0;
      while ((uVar5 == 0 && uVar10 < uVar4 - 8 && (uVar5 = FUN_0001cc9c(ppcVar9), 7 < (int)uVar5)))
      {
        uVar6 = FUN_0001c82c(auStack52);
        iVar2 = FUN_0001c814(&uStack48);
        if ((uVar6 == 0) || (iVar2 == 0)) {
          uVar11 = 0x426;
          pcVar1 = "<%s:%u>: \x1b[40;31m moof atom error!\x1b[0m";
          pcVar7 = "MovParseMoof";
          uVar3 = 6;
          goto LAB_0001e848;
        }
        if (iVar2 == 0x66617274) {
          uVar5 = MovParseTraf((int)ppcVar8,ppcVar9,0x66617274,uVar6);
        }
        else {
          if (ppcVar8[0xb] == (char *)0x0) {
            uVar5 = FUN_0001cd40(ppcVar9,uVar6 - 8);
          }
          else {
            uVar5 = FUN_0001cc1c((int *)ppcVar9,extraout_r1_00,(char)(uVar6 - 8),0,1);
          }
          if ((int)uVar5 < 0) goto LAB_0001e8f8;
        }
        uVar10 = uVar10 + uVar6;
      }
    }
    else {
      if (iVar2 == 0x7461646d) {
        ppcVar8[0x27] = (char *)0x0;
        ppcVar8[0x26] = pcVar1 + uVar4;
        pcVar1 = (char *)FUN_0001caf8(ppcVar9);
        ppcVar8[0xb2] = pcVar1;
        ppcVar8[0xb3] = extraout_r1_01;
        uVar3 = 0;
        goto LAB_0001e8fa;
      }
      if (iVar2 == 0x78646973) {
        ppcVar8[0x1b] = (char *)0x1;
        uVar5 = FUN_0001cdf8((int)ppcVar8,ppcVar9,uVar4,(uint)pcVar1);
      }
      else {
        uVar5 = FUN_0001cc1c((int *)ppcVar9,extraout_r1,(char)uVar4 + -8,0,1);
      }
    }
    if ((int)uVar5 < 0) goto LAB_0001e8f8;
  }
  pcVar1 = "<%s:%u>: end of file? reslut(%d)";
  pcVar7 = "MovReadSampleList";
  uVar11 = 0x7f1;
  uVar3 = 3;
LAB_0001e848:
  __android_log_print(uVar3,"awplayer",pcVar1,pcVar7,uVar11);
LAB_0001e8f8:
  uVar3 = 1;
LAB_0001e8fa:
  if (local_2c == __stack_chk_guard) {
    return uVar3;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



int MovReadSampleFragment(int param_1)

{
  longlong lVar1;
  uint uVar2;
  int iVar3;
  undefined4 uVar4;
  int iVar5;
  undefined4 *__ptr;
  undefined8 *__ptr_00;
  uint uVar6;
  ushort uVar7;
  uint uVar8;
  void **ppvVar9;
  void **ppvVar10;
  uint uVar11;
  bool bVar12;
  undefined8 uVar13;
  uint local_30;
  uint uStack44;
  
  iVar5 = *(int *)(param_1 + 0x68);
  ppvVar9 = *(void ***)(iVar5 + 0xe0);
  bVar12 = *(short *)(iVar5 + 0x144) != 0;
  ppvVar10 = *(void ***)(iVar5 + 0xe4);
  uVar11 = (uint)!bVar12;
  uVar7 = *(ushort *)(iVar5 + 0x142);
  if (bVar12) {
    do {
      iVar3 = aw_list_count((int)ppvVar10);
      if (iVar3 != 0) {
        uVar11 = 0;
        goto LAB_0001e988;
      }
      uVar11 = MovReadSampleList(param_1);
      if (uVar11 == 1) goto LAB_0001e988;
    } while (-1 < (int)uVar11);
  }
  else {
LAB_0001e988:
    uVar8 = 1 - uVar7;
    if (1 < uVar7) {
      uVar8 = 0;
    }
    if (*(short *)(iVar5 + 0x142) == 0) {
      uVar2 = 0;
    }
    else {
      uVar2 = (uVar8 ^ 1) & 1;
    }
    if (uVar2 == 0) {
LAB_0001e9ca:
      iVar3 = aw_list_count((int)ppvVar9);
      uVar2 = (uint)*(ushort *)(iVar5 + 0x142);
      if (uVar2 != 0) {
        uVar2 = 1;
      }
      if (iVar3 == 0) {
        __ptr_00 = (undefined8 *)0x0;
      }
      else {
        __ptr_00 = (undefined8 *)(uVar2 & 1);
      }
      if (__ptr_00 == (undefined8 *)0x0) {
        local_30 = 0xffffffff;
        uStack44 = 0;
      }
      else {
        __ptr_00 = (undefined8 *)aw_list_get(ppvVar9,0);
        if ((((__ptr_00 != (undefined8 *)0x0) && (*(int *)(iVar5 + 0x2c4) != 0)) &&
            ((*(uint *)(undefined8 *)(iVar5 + 0x2c8) | *(uint *)(iVar5 + 0x2cc)) != 0)) &&
           (*(int *)(iVar5 + 0x2d0) == 0)) {
          uVar13 = VectorAdd(*__ptr_00,*(undefined8 *)(iVar5 + 0x2c8),8);
          *__ptr_00 = uVar13;
        }
        iVar3 = *(int *)(iVar5 + (*(ushort *)(iVar5 + 0x13c) + 0x42) * 4);
        lVar1 = (ulonglong)*(uint *)(iVar3 + 0x130) * 1000000;
        uVar13 = __aeabi_ldivmod((int)lVar1,
                                 *(int *)(iVar3 + 0x134) * 1000000 + (int)((ulonglong)lVar1 >> 0x20)
                                 ,*(int *)(iVar3 + 0x5c),*(int *)(iVar3 + 0x5c) >> 0x1f);
        uVar2 = *(int *)(iVar5 + 0x130) * 1000000;
        local_30 = (uint)uVar13 + uVar2;
        uStack44 = (int)((ulonglong)uVar13 >> 0x20) +
                   ((int)uVar2 >> 0x1f) + (uint)CARRY4((uint)uVar13,uVar2);
      }
      __ptr = (undefined4 *)(uint)*(ushort *)(iVar5 + 0x144);
      if ((__ptr == (undefined4 *)0x0) ||
         (__ptr = (undefined4 *)aw_list_count((int)ppvVar10), __ptr == (undefined4 *)0x0)) {
        uVar6 = 0;
        uVar2 = 0xffffffff;
      }
      else {
        __ptr = aw_list_get(ppvVar10,0);
        iVar3 = *(int *)(iVar5 + (*(ushort *)(iVar5 + 0x13e) + 0x42) * 4);
        lVar1 = (ulonglong)*(uint *)(iVar3 + 0x130) * 1000000;
        uVar13 = __aeabi_ldivmod((int)lVar1,
                                 *(int *)(iVar3 + 0x134) * 1000000 + (int)((ulonglong)lVar1 >> 0x20)
                                 ,*(int *)(iVar3 + 0x5c),*(int *)(iVar3 + 0x5c) >> 0x1f);
        uVar6 = *(int *)(iVar5 + 0x134) * 1000000;
        uVar2 = (uint)uVar13 + uVar6;
        uVar6 = (int)((ulonglong)uVar13 >> 0x20) +
                ((int)uVar6 >> 0x1f) + (uint)CARRY4((uint)uVar13,uVar6);
      }
      if (uVar2 > local_30 && CARRY4(uStack44,~uVar6) ||
          uVar2 <= local_30 && uStack44 + ~uVar6 + 1 <= uStack44) {
        uVar7 = *(ushort *)(iVar5 + 0x144);
        if (uVar7 != 0) {
          uVar7 = 1;
        }
        if (uVar11 == 0) {
          uVar7 = uVar7 & 1;
        }
        else {
          uVar7 = 0;
        }
        if (uVar7 != 0) {
          uVar2 = __ptr[3];
          iVar3 = *(int *)(iVar5 + (*(ushort *)(iVar5 + 0x13e) + 0x42) * 4);
          uVar6 = *(uint *)(iVar3 + 0x130);
          *(uint *)(iVar3 + 0x130) = uVar6 + uVar2;
          *(uint *)(iVar3 + 0x134) = *(int *)(iVar3 + 0x134) + (uint)CARRY4(uVar6,uVar2);
          iVar3 = *(int *)(iVar5 + (*(ushort *)(iVar5 + 0x13e) + 0x42) * 4);
          *(undefined4 *)(iVar3 + 0x138) = __ptr[3];
          *(undefined4 *)(iVar3 + 0x13c) = 0;
          uVar4 = __ptr[1];
          *(undefined4 *)(iVar5 + 0x18) = *__ptr;
          *(undefined4 *)(iVar5 + 0x1c) = uVar4;
          *(undefined4 *)(iVar5 + 0x14) = __ptr[2];
          *(undefined4 *)(iVar5 + 0x20) = __ptr[5];
          *(undefined4 *)(iVar5 + 0x10) = 1;
          free(__ptr);
          iVar5 = aw_list_rem(ppvVar10,(void *)0x0);
          goto LAB_0001eb9e;
        }
      }
      else {
        uVar7 = *(ushort *)(iVar5 + 0x142);
        if (uVar7 != 0) {
          uVar7 = 1;
        }
        if (uVar8 == 0) {
          uVar7 = uVar7 & 1;
        }
        else {
          uVar7 = 0;
        }
        if (uVar7 != 0) {
          uVar2 = *(uint *)((int)__ptr_00 + 0xc);
          iVar3 = *(int *)(iVar5 + (*(ushort *)(iVar5 + 0x13c) + 0x42) * 4);
          uVar6 = *(uint *)(iVar3 + 0x130);
          *(uint *)(iVar3 + 0x130) = uVar6 + uVar2;
          *(uint *)(iVar3 + 0x134) = *(int *)(iVar3 + 0x134) + (uint)CARRY4(uVar6,uVar2);
          iVar3 = *(int *)(iVar5 + (*(ushort *)(iVar5 + 0x13c) + 0x42) * 4);
          *(undefined4 *)(iVar3 + 0x138) = *(undefined4 *)((int)__ptr_00 + 0xc);
          *(undefined4 *)(iVar3 + 0x13c) = 0;
          uVar4 = *(undefined4 *)((int)__ptr_00 + 4);
          *(undefined4 *)(iVar5 + 0x18) = *(undefined4 *)__ptr_00;
          *(undefined4 *)(iVar5 + 0x1c) = uVar4;
          *(undefined4 *)(iVar5 + 0x14) = *(undefined4 *)(__ptr_00 + 1);
          uVar4 = *(undefined4 *)((int)__ptr_00 + 0x14);
          *(undefined4 *)(iVar5 + 0x10) = 0;
          *(undefined4 *)(iVar5 + 0x20) = uVar4;
          free(__ptr_00);
          iVar5 = aw_list_rem(ppvVar9,(void *)0x0);
LAB_0001eb9e:
          if (iVar5 < 0) goto LAB_0001ebaa;
        }
      }
      uVar7 = (ushort)uVar8 & (ushort)uVar11 & 0xff;
      goto LAB_0001ebae;
    }
    do {
      iVar3 = aw_list_count((int)ppvVar9);
      if (iVar3 != 0) {
        uVar8 = 0;
        goto LAB_0001e9ca;
      }
      uVar8 = MovReadSampleList(param_1);
      if (uVar8 == 1) goto LAB_0001e9ca;
    } while (-1 < (int)uVar8);
  }
LAB_0001ebaa:
  uVar7 = 0xffff;
LAB_0001ebae:
  return (int)(short)uVar7;
}



int MovReadSample(int param_1)

{
  longlong lVar1;
  short sVar2;
  char *pcVar3;
  uint uVar4;
  undefined8 *puVar5;
  undefined4 uVar6;
  undefined4 *puVar7;
  int extraout_r1;
  uint uVar8;
  undefined4 *puVar9;
  int iVar10;
  int iVar11;
  undefined8 *puVar12;
  char *pcVar13;
  int iVar14;
  char **ppcVar15;
  char **ppcVar16;
  int iVar17;
  uint uVar18;
  char **ppcVar19;
  uint uVar20;
  uint uVar21;
  int iVar22;
  uint uVar23;
  bool bVar24;
  ulonglong uVar25;
  undefined8 uVar26;
  char *local_e0;
  undefined4 uStack208;
  char **local_cc;
  undefined8 local_c8;
  undefined8 local_c0;
  undefined4 auStack128 [2];
  undefined8 local_78;
  
  ppcVar15 = *(char ***)(param_1 + 0x68);
  iVar10 = 0;
  ppcVar19 = (char **)*ppcVar15;
  pcVar3 = ppcVar15[0x3f];
  puVar7 = &uStack208;
  puVar9 = auStack128;
  while (iVar10 < (int)pcVar3) {
    iVar10 = iVar10 + 1;
    puVar7[2] = 0xffffffff;
    puVar7[3] = 0xffffffff;
    puVar9[2] = 0xffffffff;
    puVar9[3] = 0xffffffff;
    puVar7 = puVar7 + 2;
    puVar9 = puVar9 + 2;
  }
  puVar5 = &local_c8;
  iVar10 = 0;
  puVar12 = puVar5;
  ppcVar16 = ppcVar15;
  local_cc = ppcVar15;
  while (iVar10 < (int)ppcVar15[0x3f]) {
    pcVar3 = ppcVar16[0x42];
    if ((*(int *)(pcVar3 + 0x48) != 0) && (*(short *)(pcVar3 + 0x150) == 0)) {
      if ((*(int *)(pcVar3 + 0x48) == 1) && (*(int *)(pcVar3 + 0x4c) != 0)) {
        *(undefined2 *)(pcVar3 + 0x150) = 1;
      }
      else {
        uVar25 = FUN_0001c888((int)ppcVar15,(int)pcVar3,*(int *)(pcVar3 + 0x110));
        *(uint *)puVar12 = (uint)uVar25;
        *(uint *)((int)puVar12 + 4) = (uint)(uVar25 >> 0x20);
      }
    }
    iVar10 = iVar10 + 1;
    ppcVar16 = ppcVar16 + 1;
    puVar12 = puVar12 + 1;
  }
  uVar4 = FUN_0001cb78(ppcVar19);
  uVar4 = uVar4 & 4;
  if (uVar4 == 0) {
    puVar5 = &local_78;
    puVar12 = puVar5;
    ppcVar19 = ppcVar15;
    while (pcVar3 = ppcVar15[0x3f], (int)uVar4 < (int)pcVar3) {
      pcVar3 = ppcVar19[0x42];
      if ((*(int *)(pcVar3 + 0x48) != 0) && (*(short *)(pcVar3 + 0x150) == 0)) {
        if ((*(int *)(pcVar3 + 0x48) == 1) && (*(int *)(pcVar3 + 0x4c) != 0)) {
          *(undefined2 *)(pcVar3 + 0x150) = 1;
        }
        else {
          uVar26 = __aeabi_uldivmod((int)((ulonglong)*(uint *)(pcVar3 + 0x130) * 1000),
                                    *(int *)(pcVar3 + 0x134) * 1000 +
                                    (int)((ulonglong)*(uint *)(pcVar3 + 0x130) * 1000 >> 0x20),
                                    *(int *)(pcVar3 + 0x5c),*(int *)(pcVar3 + 0x5c) >> 0x1f);
          *(uint *)puVar12 = (uint)uVar26;
          *(uint *)((int)puVar12 + 4) = (uint)((ulonglong)uVar26 >> 0x20);
        }
      }
      uVar4 = uVar4 + 1;
      ppcVar19 = ppcVar19 + 1;
      puVar12 = puVar12 + 1;
    }
  }
  else {
    pcVar3 = ppcVar15[0x3f];
  }
  pcVar3 = (char *)FUN_0001c8ae((uint *)puVar5,(int)pcVar3);
  ppcVar15[10] = pcVar3;
  pcVar13 = ppcVar15[(int)(pcVar3 + 0x42)];
  if ((*(uint *)(pcVar13 + 0x108) < *(uint *)(pcVar13 + 8)) &&
     (*(uint *)(pcVar13 + 0x148) <= *(uint *)(pcVar13 + 0xf8))) {
    iVar17 = *(uint *)(pcVar13 + 0x108) * 0xc;
    iVar10 = FUN_0001c85e((int)ppcVar15,(int)pcVar13,iVar17);
    *(int *)(pcVar13 + 0x140) = iVar10 + -1;
    uVar6 = FUN_0001c85e((int)ppcVar15,(int)pcVar13,iVar17 + 4);
    *(undefined4 *)(pcVar13 + 0x144) = uVar6;
    if ((*(int *)(pcVar13 + 0x48) == 2) && (ppcVar15[0x6f] != (char *)0x0)) {
      ppcVar15[0x6f] = (char *)0x0;
      __android_log_print(6,"awplayer",&DAT_0002a21d,"MovReadSample",0x92d);
    }
    else {
      *(undefined4 *)(pcVar13 + 0xfc) = 0;
    }
    iVar10 = *(int *)(pcVar13 + 0x108);
    uVar20 = iVar10 + 1;
    *(uint *)(pcVar13 + 0x108) = uVar20;
    uVar26 = FUN_0001c85e((int)ppcVar15,(int)pcVar13,iVar17 + 0xc);
    uVar6 = (undefined4)((ulonglong)uVar26 >> 0x20);
    *(int *)(pcVar13 + 0x148) = (int)uVar26 + -1;
    uVar4 = *(uint *)(pcVar13 + 8);
    if (uVar4 <= uVar20) {
      uVar6 = 0x7fffffff;
    }
    if (uVar4 <= uVar20) {
      *(undefined4 *)(pcVar13 + 0x148) = uVar6;
    }
    if (*(int *)(pcVar13 + 0x148) == *(int *)(pcVar13 + 0x140)) {
      uVar21 = iVar10 + 2;
      iVar17 = uVar20 * 0xc;
      iVar10 = FUN_0001c85e((int)ppcVar15,(int)pcVar13,iVar17);
      *(int *)(pcVar13 + 0x140) = iVar10 + -1;
      uVar6 = FUN_0001c85e((int)ppcVar15,(int)pcVar13,iVar17 + 4);
      *(undefined4 *)(pcVar13 + 0xfc) = 0;
      *(uint *)(pcVar13 + 0x108) = uVar21;
      *(undefined4 *)(pcVar13 + 0x144) = uVar6;
      iVar10 = FUN_0001c85e((int)ppcVar15,(int)pcVar13,iVar17 + 0xc);
      *(int *)(pcVar13 + 0x148) = iVar10 + -1;
      if (uVar4 <= uVar21) {
        iVar10 = 0x7fffffff;
      }
      if (uVar4 <= uVar21) {
        *(int *)(pcVar13 + 0x148) = iVar10;
      }
    }
  }
  uVar20 = *(uint *)(pcVar13 + 0x104);
  uVar4 = *(uint *)(&local_c8 + (int)pcVar3);
  iVar10 = *(int *)((int)&local_c8 + (int)pcVar3 * 8 + 4);
  iVar17 = *(int *)(pcVar13 + 0x54);
  if (((iVar17 == 0) || (*(int *)(pcVar13 + 0x48) == 1)) || (*(int *)(pcVar13 + 0x48) == 3)) {
    iVar17 = *(int *)(pcVar13 + 0x10c);
    local_e0 = (char *)FUN_0001c86a((int)ppcVar15,(int)pcVar13,iVar17 << 2);
    *(int *)(pcVar13 + 0x10c) = iVar17 + 1;
    *(char **)(pcVar13 + 0x104) = local_e0 + uVar20;
  }
  else {
    if (iVar17 < 2) {
      iVar14 = *(int *)(pcVar13 + 0x6c);
      if (iVar14 != 0) {
        iVar11 = *(int *)(pcVar13 + 0x68);
        iVar22 = *(int *)(pcVar13 + 0x144);
        __aeabi_uidivmod(iVar22 * iVar11,iVar14);
        if (extraout_r1 == 0) {
          local_e0 = (char *)__aeabi_uidiv(iVar22 * iVar11,iVar14);
          *(char **)(pcVar13 + 0x104) = local_e0 + uVar20;
          goto LAB_0001ee74;
        }
      }
      if (iVar17 == 1) {
        local_e0 = *(char **)(pcVar13 + 0x144);
        if (*(int *)(pcVar13 + 0x154) != 0) {
          local_e0 = (char *)(*(int *)(pcVar13 + 0x154) * (int)local_e0);
        }
      }
      else {
        if (2 < (int)ppcVar15[0x3f]) {
          local_e0 = (char *)0x0;
          goto LAB_0001ee74;
        }
        uVar26 = VectorSub(local_c8,local_c0,8);
        local_e0 = (char *)uVar26;
      }
    }
    else {
      if ((*(int *)(pcVar13 + 0xec) == 10) && (*(int *)(pcVar13 + 0x154) != 0)) {
        *(int *)(pcVar13 + 0x154) = iVar17;
      }
      local_e0 = (char *)(*(int *)(pcVar13 + 0x144) * iVar17);
    }
    *(char **)(pcVar13 + 0x104) = local_e0 + uVar20;
  }
LAB_0001ee74:
  uVar18 = *(uint *)(pcVar13 + 0x100);
  uVar21 = *(uint *)(pcVar13 + 0x11c);
  while (uVar21 <= uVar18) {
    if (*(int *)(param_1 + 0x50) != 0) {
      sVar2 = -1;
      goto LAB_0001f044;
    }
    iVar22 = *(int *)(pcVar13 + 0x114);
    iVar14 = iVar22 * 8;
    iVar17 = FUN_0001c87c((int)ppcVar15,(int)pcVar13,iVar14);
    iVar14 = FUN_0001c87c((int)ppcVar15,(int)pcVar13,iVar14 + 4);
    uVar21 = *(int *)(pcVar13 + 0x11c) + iVar17;
    *(uint *)(pcVar13 + 0x11c) = uVar21;
    lVar1 = (longlong)iVar17 * (longlong)iVar14 + *(longlong *)(pcVar13 + 0x128);
    *(int *)(pcVar13 + 0x120) = iVar14;
    *(int *)(pcVar13 + 0x128) = (int)lVar1;
    *(int *)(pcVar13 + 300) = (int)((ulonglong)lVar1 >> 0x20);
    *(int *)(pcVar13 + 0x114) = iVar22 + 1;
  }
  uVar23 = *(uint *)(pcVar13 + 0x120);
  uVar8 = *(uint *)(pcVar13 + 300);
  uVar25 = (ulonglong)(*(int *)(pcVar13 + 0x11c) - uVar18) * (ulonglong)uVar23;
  uVar18 = (uint)(uVar25 >> 0x20);
  bVar24 = (uint)uVar25 <= *(uint *)(pcVar13 + 0x128);
  uVar21 = ~uVar18;
  if (!bVar24 && CARRY4(uVar8,uVar21) || bVar24 && uVar8 + uVar21 + 1 <= uVar8) {
    uVar26 = VectorSub(*(undefined8 *)(pcVar13 + 0x128),
                       ((ulonglong)uVar18 << 0x20) + (uVar25 & 0xffffffff),8);
    *(undefined8 *)(pcVar13 + 0x130) = uVar26;
  }
  else {
    *(undefined4 *)(pcVar13 + 0x130) = 0;
    *(undefined4 *)(pcVar13 + 0x134) = 0;
  }
  pcVar3 = *(char **)(pcVar13 + 0x48);
  if (pcVar3 == (char *)0x1) {
    if (((ppcVar15[0x2a] == (char *)0x0) && (*(int *)(pcVar13 + 0xec) != 0x116)) &&
       ((iVar17 = *(int *)(pcVar13 + 0x38), iVar17 != 0 &&
        (iVar14 = *(int *)(pcVar13 + 0x40), iVar14 < *(int *)(pcVar13 + 0x34))))) {
      uVar18 = *(int *)(pcVar13 + 0xe8) + *(int *)(iVar17 + iVar14 * 8 + 4);
      uVar21 = *(uint *)(pcVar13 + 0x130);
      *(uint *)(pcVar13 + 0x130) = uVar21 + uVar18;
      *(uint *)(pcVar13 + 0x134) =
           *(int *)(pcVar13 + 0x134) + ((int)uVar18 >> 0x1f) + (uint)CARRY4(uVar21,uVar18);
      iVar22 = *(int *)(pcVar13 + 0x44);
      *(int *)(pcVar13 + 0x44) = iVar22 + 1;
      if (*(int *)(iVar17 + iVar14 * 8) == iVar22 + 1) {
        *(undefined4 *)(pcVar13 + 0x44) = 0;
        *(int *)(pcVar13 + 0x40) = iVar14 + 1;
      }
    }
  }
  else {
    if (pcVar3 == (char *)0x3) {
      *(uint *)(pcVar13 + 0x138) = uVar23;
      *(undefined4 *)(pcVar13 + 0x13c) = 0;
      goto LAB_0001ef7c;
    }
  }
  lVar1 = (ulonglong)(uint)(*(int *)(pcVar13 + 0x11c) - *(int *)(pcVar13 + 0x100)) *
          (ulonglong)uVar23;
  *(int *)(pcVar13 + 0x138) = (int)lVar1;
  *(int *)(pcVar13 + 0x13c) = (int)((ulonglong)lVar1 >> 0x20);
LAB_0001ef7c:
  ppcVar15[4] = pcVar3;
  ppcVar15[6] = (char *)(uVar4 + uVar20);
  ppcVar15[7] = (char *)(iVar10 + (uint)CARRY4(uVar4,uVar20));
  ppcVar15[5] = local_e0;
  if (((*(int *)(pcVar13 + 0x54) == 0) || (*(int *)(pcVar13 + 0x48) == 1)) ||
     (*(int *)(pcVar13 + 0x48) == 3)) {
    *(int *)(pcVar13 + 0x100) = *(int *)(pcVar13 + 0x100) + 1;
    iVar10 = *(int *)(pcVar13 + 0xfc) + 1;
  }
  else {
    *(int *)(pcVar13 + 0x100) = *(int *)(pcVar13 + 0x100) + *(int *)(pcVar13 + 0x144);
    iVar10 = 0x7fffffff;
  }
  *(int *)(pcVar13 + 0xfc) = iVar10;
  if (*(uint *)(pcVar13 + 0x144) <= *(uint *)(pcVar13 + 0xfc)) {
    iVar10 = *(int *)(pcVar13 + 0x110);
    *(undefined4 *)(pcVar13 + 0xfc) = 0;
    *(uint *)(pcVar13 + 0x110) = iVar10 + 1U;
    *(int *)(pcVar13 + 0xf8) = *(int *)(pcVar13 + 0xf8) + 1;
    *(undefined4 *)(pcVar13 + 0x104) = 0;
    if (*(uint *)(pcVar13 + 0x10) <= iVar10 + 1U) {
      *(undefined2 *)(pcVar13 + 0x150) = 1;
    }
  }
  pcVar3 = (char *)0x0;
  ppcVar19 = local_cc;
  while ((int)pcVar3 < (int)ppcVar15[0x3f]) {
    sVar2 = *(short *)(ppcVar19[0x42] + 0x150);
    if ((sVar2 == 0) && (*(int *)(ppcVar19[0x42] + 0x48) != 0)) goto LAB_0001f044;
    pcVar3 = pcVar3 + 1;
    ppcVar19 = ppcVar19 + 1;
  }
  if (pcVar3 == ppcVar15[0x3f]) {
    __android_log_print(5,"awplayer","<%s:%u>: retrun read finish\n","MovReadSample",0xa1a);
    sVar2 = 1;
  }
  else {
    sVar2 = 0;
  }
LAB_0001f044:
  return (int)sVar2;
}



int MovFindKeyframe(int param_1,int param_2,uint param_3)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  bool bVar9;
  
  iVar7 = *(int *)(param_1 + 0x68);
  iVar4 = *(int *)(iVar7 + (*(ushort *)(iVar7 + 0x13c) + 0x42) * 4);
  iVar6 = *(int *)(iVar4 + 0x14);
  if (iVar6 <= *(int *)(iVar4 + 0x118)) {
    *(int *)(iVar4 + 0x118) = iVar6 + -1;
  }
  if (*(int *)(iVar4 + 0x118) < 0) {
    *(undefined4 *)(iVar4 + 0x118) = 0;
  }
  if (iVar6 == 0) {
    return -1;
  }
  iVar8 = 0;
  *(undefined4 *)(iVar4 + 0x118) = 0;
  uVar3 = ReadStss(iVar7,iVar4,0);
  if (param_3 != 0) {
    if ((0x7ff - param_3) + uVar3 < 0xfff) {
      bVar9 = uVar3 < param_3;
      while (iVar8 = *(int *)(iVar4 + 0x118), -1 < iVar8) {
        if (iVar6 <= iVar8) goto LAB_0001f146;
        if (*(int *)(param_1 + 0x50) != 0) {
          return -1;
        }
        uVar3 = ReadStss(iVar7,iVar4,iVar8 << 2);
        if (uVar3 < param_3) {
          if (!bVar9) goto LAB_0001f146;
          iVar8 = iVar8 + 1;
        }
        else {
          if (bVar9) goto LAB_0001f146;
          iVar8 = iVar8 + -1;
        }
        *(int *)(iVar4 + 0x118) = iVar8;
      }
      *(undefined4 *)(iVar4 + 0x118) = 0;
    }
    else {
      iVar6 = iVar6 + -1;
      iVar5 = iVar6;
      while (iVar5 = iVar5 >> 1, iVar8 + 1 < iVar6) {
        if (*(int *)(param_1 + 0x50) != 0) {
          return -1;
        }
        uVar3 = ReadStss(iVar7,iVar4,iVar5 << 2);
        iVar2 = iVar5;
        iVar1 = iVar6;
        if (param_3 <= uVar3) {
          iVar6 = iVar5;
          iVar2 = iVar8;
          iVar1 = iVar8;
        }
        iVar8 = iVar2;
        iVar5 = iVar5 + iVar1;
      }
      *(int *)(iVar4 + 0x118) = iVar6;
    }
LAB_0001f146:
    if ((param_2 == 1) && (0 < *(int *)(iVar4 + 0x118))) {
      *(int *)(iVar4 + 0x118) = *(int *)(iVar4 + 0x118) + -1;
    }
  }
  return uVar3 - 1;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

undefined4 MovParseStbl(int param_1,undefined4 param_2,int param_3,uint param_4)

{
  short sVar1;
  int iVar2;
  undefined *puVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  void *pvVar7;
  int iVar8;
  int iVar9;
  uint uVar10;
  undefined4 uVar11;
  uint uVar12;
  int iVar13;
  uint uVar14;
  int iVar15;
  int iVar16;
  uint uVar17;
  size_t __size;
  bool bVar18;
  bool bVar19;
  undefined8 uVar20;
  ulonglong uVar21;
  uint local_60;
  uint local_5c;
  int local_50;
  int local_4c;
  
  iVar13 = *(int *)(param_1 + 4);
  iVar9 = param_4 + param_3;
  uVar14 = 0;
  do {
    while( true ) {
      if (uVar14 != 0 || iVar9 - 8U <= param_4) {
        return 0;
      }
      local_60 = FUN_0001c82c((undefined *)(iVar13 + param_4));
      iVar2 = FUN_0001c814((undefined4 *)(iVar13 + param_4 + 4));
      if (local_60 == 0) {
        return 0;
      }
      if (iVar2 == 0) {
        return 0;
      }
      iVar16 = param_4 + 8;
      if (local_60 == 1) {
        puVar3 = (undefined *)(iVar13 + iVar16);
        iVar16 = param_4 + 0x10;
        uVar20 = FUN_0001c844(puVar3);
        local_60 = (int)uVar20 - 8;
      }
      if (iVar2 != 0x64737473) break;
      iVar15 = *(int *)(param_1 + 4);
      iVar2 = *(int *)(param_1 + 0xfc);
      uVar14 = 0;
      local_50 = FUN_0001c82c((undefined *)(iVar15 + iVar16 + 4));
      local_4c = 0;
      iVar2 = *(int *)(param_1 + (iVar2 + 0x41) * 4);
      local_5c = 0;
      uVar17 = iVar16 + 8;
      while (local_50 != 0) {
        iVar4 = FUN_0001c82c((undefined *)(iVar15 + uVar17));
        uVar5 = FUN_0001c814((undefined4 *)(iVar15 + uVar17 + 4));
        uVar10 = *(uint *)(iVar2 + 0x98);
        iVar8 = *(int *)(iVar2 + 0x48);
        *(uint *)(iVar2 + 0xb0) = uVar5;
        if (uVar10 != 0) {
          if (uVar10 == 1) {
            bVar18 = iVar8 == 2;
            goto LAB_0001f244;
          }
LAB_0001f246:
          if (iVar8 != 3) goto LAB_0001f24c;
          if (2 < uVar10) {
            __android_log_print(5,"awplayer","<%s:%u>: unknown format tag: <%d>","MovParseStsd",
                                0xe38,uVar5);
            *(undefined4 *)(iVar2 + 0x48) = 0;
            *(undefined2 *)(iVar2 + 0x150) = 1;
          }
          goto LAB_0001f892;
        }
        bVar18 = iVar8 == 1;
LAB_0001f244:
        if (bVar18) goto LAB_0001f246;
LAB_0001f24c:
        if (uVar5 == 0x47335854) {
LAB_0001f79c:
          __android_log_print(5,"awplayer","<%s:%u>:  subtitle is not define yet!!!!","MovParseStsd"
                              ,0xe22);
          *(undefined4 *)(iVar2 + 0x98) = 2;
          *(undefined4 *)(iVar2 + 0xec) = 0x201;
          *(undefined4 *)(iVar2 + 0xf0) = 1;
          *(undefined4 *)(iVar2 + 0x48) = 3;
          *(undefined4 *)(iVar2 + 0x4c) = *(undefined4 *)(param_1 + 0x150);
          *(int *)(param_1 + 0x150) = *(int *)(param_1 + 0x150) + 1;
        }
        else {
          if (uVar5 < 0x47335855) {
            if (uVar5 == 0x32766468) goto LAB_0001f5e8;
            if (uVar5 < 0x32766469) {
              if (uVar5 == 0x31626d64) goto LAB_0001f5dc;
              if (uVar5 < 0x31626d65) {
                if (uVar5 != 0x20776172) {
                  if (0x20776172 < uVar5) {
                    if (uVar5 == 0x312d6376) {
                      __android_log_print(3,"awplayer",
                                                                                    
                                          "<%s:%u>:  the codec atom is vc-1, maybe the codec format is not right"
                                          ,"MovParseStsd",0xd8b);
                      uVar11 = 0x10e;
                    }
                    else {
                      if (uVar5 != 0x31435641) {
                        if (uVar5 == 0x30355844) goto LAB_0001f5a0;
                        goto LAB_0001f7de;
                      }
LAB_0001f5ca:
                      uVar11 = 0x115;
                    }
                    goto LAB_0001f5aa;
                  }
                  if (uVar5 != 0x20574152) {
                    if ((uVar5 == 0x20636161) || (uVar5 == 0x20434341)) goto LAB_0001f62e;
                    goto LAB_0001f7de;
                  }
                }
LAB_0001f6e0:
                *(undefined4 *)(iVar2 + 0xec) = 10;
                *(undefined4 *)(iVar2 + 0xf0) = 1;
                *(undefined4 *)(iVar2 + 0x48) = 2;
                local_5c = 8;
                *(undefined4 *)(iVar2 + 0x4c) = *(undefined4 *)(param_1 + 0x148);
                *(int *)(param_1 + 0x148) = *(int *)(param_1 + 0x148) + 1;
              }
              else {
                if (uVar5 == 0x31766568) {
LAB_0001f5d0:
                  uVar11 = 0x116;
                  goto LAB_0001f5aa;
                }
                if (uVar5 < 0x31766569) {
                  if (uVar5 == 0x31637668) goto LAB_0001f5d0;
                  if (uVar5 == 0x31766468) goto LAB_0001f5e8;
                  if (uVar5 == 0x31637661) goto LAB_0001f5ca;
                }
                else {
                  if (uVar5 == 0x32414d57) {
                    uVar11 = 0xb;
                    goto LAB_0001f77c;
                  }
                  if (uVar5 < 0x32414d58) {
                    uVar10 = 0x32336e69;
LAB_0001f37c:
                    if (uVar5 == uVar10) goto LAB_0001f6e0;
                  }
                  else {
                    if (uVar5 == 0x32564933) {
LAB_0001f5a0:
                      uVar11 = 0x10a;
                      goto LAB_0001f5aa;
                    }
                    if (uVar5 == 0x32706d2e) {
                      *(undefined4 *)(iVar2 + 0xec) = 2;
                      *(undefined4 *)(iVar2 + 0xf0) = 0;
                      goto LAB_0001f788;
                    }
                  }
                }
LAB_0001f7de:
                __android_log_print(5,"awplayer","<%s:%u>: unknown format tag: <0x%x>",
                                    "MovParseStsd",0xe2b,uVar5);
                if (*(int *)(iVar2 + 0x48) == 0) {
                  *(undefined2 *)(iVar2 + 0x150) = 1;
                }
              }
            }
            else {
              if (uVar5 == 0x33564944) {
                uVar11 = 0x107;
                goto LAB_0001f5aa;
              }
              if (uVar5 < 0x33564945) {
                if (uVar5 != 0x332d6361) {
                  if (0x332d6361 < uVar5) {
                    if (uVar5 != 0x33363268) {
                      if (uVar5 < 0x33363269) {
                        if (uVar5 == 0x332d6365) goto LAB_0001f77a;
                      }
                      else {
                        if (uVar5 == 0x33363273) goto LAB_0001f5d6;
                        if (uVar5 == 0x33515653) {
                          __android_log_print(3,"awplayer","<%s:%u>: ---- can not support svq3",
                                              "MovParseStsd",0xd93);
                          *(undefined4 *)(iVar2 + 0x48) = 0;
                          *(undefined4 *)(iVar2 + 0x50) = 1;
                          goto LAB_0001f892;
                        }
                      }
                      goto LAB_0001f7de;
                    }
LAB_0001f5d6:
                    uVar11 = 0x10b;
                    goto LAB_0001f5aa;
                  }
                  if ((uVar5 != 0x332d4341) && (uVar5 != 0x332d4345)) {
                    uVar10 = 0x32766478;
                    goto LAB_0001f574;
                  }
                }
LAB_0001f77a:
                uVar11 = 5;
LAB_0001f77c:
                *(undefined4 *)(iVar2 + 0xec) = uVar11;
                uVar11 = 0;
              }
              else {
                if (uVar5 != 0x34616d69) {
                  if (0x34616d69 < uVar5) {
                    if (uVar5 == 0x4134504d) {
LAB_0001f62e:
                      uVar11 = 4;
                      goto LAB_0001f77c;
                    }
                    if (0x4134504d < uVar5) {
                      if (uVar5 == 0x44495658) goto LAB_0001f5a0;
                      uVar10 = 0x454e4f4e;
                      goto LAB_0001f37c;
                    }
                    uVar10 = 0x35766468;
                    goto LAB_0001f574;
                  }
                  if (uVar5 != 0x33766468) {
                    if (uVar5 == 0x34326e69) goto LAB_0001f6e0;
                    if (uVar5 == 0x33706d2e) goto LAB_0001f636;
                    goto LAB_0001f7de;
                  }
                  goto LAB_0001f5e8;
                }
                uVar11 = 0x11;
                *(undefined4 *)(iVar2 + 0xec) = 10;
              }
LAB_0001f782:
              *(undefined4 *)(iVar2 + 0xf0) = uVar11;
LAB_0001f788:
              *(undefined4 *)(iVar2 + 0x48) = 2;
              *(undefined4 *)(iVar2 + 0x4c) = *(undefined4 *)(param_1 + 0x148);
              *(int *)(param_1 + 0x148) = *(int *)(param_1 + 0x148) + 1;
            }
          }
          else {
            if (uVar5 == 0x67337874) goto LAB_0001f79c;
            if (uVar5 < 0x67337875) {
              if (uVar5 != 0x5500736d) {
                if (0x5500736d < uVar5) {
                  if (uVar5 == 0x6134706d) goto LAB_0001f62e;
                  if (uVar5 < 0x6134706e) {
                    if (uVar5 == 0x57414c55) {
LAB_0001f698:
                      *(undefined4 *)(iVar2 + 0xec) = 10;
                      *(undefined4 *)(iVar2 + 0xf0) = 7;
                      *(undefined4 *)(iVar2 + 0x48) = 2;
                      *(undefined4 *)(iVar2 + 0x4c) = *(undefined4 *)(param_1 + 0x148);
                      *(int *)(param_1 + 0x148) = *(int *)(param_1 + 0x148) + 1;
                      local_5c = 8;
                      goto LAB_0001f892;
                    }
                    if (uVar5 == 0x58564944) {
                      uVar11 = 0x108;
                      goto LAB_0001f5aa;
                    }
                    if (uVar5 == 0x57414c41) goto LAB_0001f6bc;
                    goto LAB_0001f7de;
                  }
                  if (uVar5 == 0x62706a6d) goto LAB_0001f5dc;
                  if (uVar5 < 0x62706a6e) {
                    uVar10 = 0x61706a6d;
                    goto LAB_0001f440;
                  }
                  if (uVar5 != 0x62776173) {
                    if (uVar5 == 0x63616c61) {
                      uVar11 = 0x19;
                      goto LAB_0001f77c;
                    }
                    goto LAB_0001f7de;
                  }
                  *(undefined4 *)(iVar2 + 0xec) = 0x13;
                  *(undefined4 *)(iVar2 + 0xf0) = 2;
                  goto LAB_0001f788;
                }
                if (uVar5 != 0x5000736d) {
                  if (0x5000736d < uVar5) {
                    if (uVar5 == 0x54574f53) goto LAB_0001f710;
                    if (uVar5 == 0x54584554) goto LAB_0001f79c;
                    if (uVar5 == 0x534f5754) goto LAB_0001f736;
                    goto LAB_0001f7de;
                  }
                  if (uVar5 != 0x4a445641) {
                    if (uVar5 == 0x4c435648) goto LAB_0001f5d0;
                    uVar10 = 0x4745504a;
LAB_0001f440:
                    if (uVar5 != uVar10) goto LAB_0001f7de;
                  }
LAB_0001f5dc:
                  uVar11 = 0x101;
                  goto LAB_0001f5aa;
                }
              }
LAB_0001f636:
              __android_log_print(3,"awplayer","<%s:%u>: ----- mp3","MovParseStsd",0xdad);
              *(undefined4 *)(iVar2 + 0xf0) = 0;
              *(undefined4 *)(iVar2 + 0x48) = 2;
              *(undefined4 *)(iVar2 + 0xec) = 3;
              *(undefined4 *)(iVar2 + 0x4c) = *(undefined4 *)(param_1 + 0x148);
              iVar8 = *(int *)(param_1 + 0x148) + 1;
              *(int *)(param_1 + 0x148) = iVar8;
              __android_log_print(3,"awplayer","<%s:%u>: --- audio stream index = %d","MovParseStsd"
                                  ,0xdb3,iVar8);
              goto LAB_0001f892;
            }
            if (uVar5 != 0x7035786d) {
              if (0x7035786d < uVar5) {
                if (uVar5 == 0x74776f73) {
LAB_0001f710:
                  *(undefined4 *)(iVar2 + 0xec) = 10;
                  *(undefined4 *)(iVar2 + 0xf0) = 1;
                  *(undefined4 *)(iVar2 + 0x48) = 2;
                  *(undefined4 *)(iVar2 + 0x4c) = *(undefined4 *)(param_1 + 0x148);
                  *(int *)(param_1 + 0x148) = *(int *)(param_1 + 0x148) + 1;
                  local_5c = 0x10;
                }
                else {
                  if (0x74776f73 < uVar5) {
                    if (uVar5 == 0x7634706d) goto LAB_0001f5a0;
                    if (uVar5 < 0x7634706e) {
                      if (uVar5 == 0x74786574) goto LAB_0001f79c;
                    }
                    else {
                      if (uVar5 == 0x77616c61) {
LAB_0001f6bc:
                        *(undefined4 *)(iVar2 + 0xec) = 10;
                        *(undefined4 *)(iVar2 + 0xf0) = 6;
                        *(undefined4 *)(iVar2 + 0x48) = 2;
                        *(undefined4 *)(iVar2 + 0x4c) = *(undefined4 *)(param_1 + 0x148);
                        local_5c = 8;
                        *(int *)(param_1 + 0x148) = *(int *)(param_1 + 0x148) + 1;
                        goto LAB_0001f892;
                      }
                      if (uVar5 == 0x77616c75) goto LAB_0001f698;
                    }
                    goto LAB_0001f7de;
                  }
                  if (uVar5 == 0x726d6173) {
                    uVar11 = 1;
                    *(undefined4 *)(iVar2 + 0xec) = 0x13;
                    goto LAB_0001f782;
                  }
                  if (uVar5 != 0x736f7774) {
                    uVar10 = 0x706d5641;
                    goto LAB_0001f574;
                  }
LAB_0001f736:
                  *(undefined4 *)(iVar2 + 0xec) = 10;
                  *(undefined4 *)(iVar2 + 0xf0) = 0x10001;
                  *(undefined4 *)(iVar2 + 0x48) = 2;
                  *(undefined4 *)(iVar2 + 0x4c) = *(undefined4 *)(param_1 + 0x148);
                  local_5c = 0x10;
                  *(int *)(param_1 + 0x148) = *(int *)(param_1 + 0x148) + 1;
                }
                goto LAB_0001f892;
              }
              if (uVar5 != 0x6e33786d) {
                if (uVar5 < 0x6e33786e) {
                  if (uVar5 != 0x6765706d) {
                    if (uVar5 == 0x6d63706c) goto LAB_0001f6e0;
                    uVar10 = 0x6765706a;
                    goto LAB_0001f440;
                  }
                  uVar11 = 0x102;
                  goto LAB_0001f5aa;
                }
                if (uVar5 != 0x6e35786d) {
                  if (uVar5 < 0x6e35786e) {
                    uVar10 = 0x6e34786d;
                  }
                  else {
                    if (uVar5 == 0x7033786d) goto LAB_0001f5e8;
                    uVar10 = 0x7034786d;
                  }
LAB_0001f574:
                  if (uVar5 != uVar10) goto LAB_0001f7de;
                }
              }
            }
LAB_0001f5e8:
            uVar11 = 0x103;
LAB_0001f5aa:
            *(undefined4 *)(iVar2 + 0xec) = uVar11;
            *(undefined4 *)(iVar2 + 0x48) = 1;
            *(undefined4 *)(iVar2 + 0x4c) = *(undefined4 *)(param_1 + 0x14c);
            *(int *)(param_1 + 0x14c) = *(int *)(param_1 + 0x14c) + 1;
          }
        }
LAB_0001f892:
        if ((*(int *)(iVar2 + 0x98) == 1) && ((uVar5 & 0xffff) == 0x736d)) {
          uVar5 = uVar5 >> 8 & 0xff00 | uVar5 >> 0x18;
          if (uVar5 == 0x61) {
            uVar11 = 0xe003;
            *(undefined4 *)(iVar2 + 0xec) = 10;
            goto LAB_0001f9a0;
          }
          if (uVar5 < 0x62) {
            if (uVar5 == 0x11) {
              *(undefined4 *)(iVar2 + 0xec) = 10;
              uVar11 = 0xe001;
LAB_0001f9a0:
              *(undefined4 *)(iVar2 + 0xf0) = uVar11;
            }
            else {
              if (0x11 < uVar5) {
                if (uVar5 != 0x45) {
                  if (uVar5 < 0x46) {
                    if (uVar5 == 0x20) {
                      uVar11 = 0xe00e;
                      *(undefined4 *)(iVar2 + 0xec) = 10;
                      goto LAB_0001f9a0;
                    }
                  }
                  else {
                    if ((uVar5 == 0x50) || (uVar5 == 0x55)) {
                      uVar11 = 3;
                      goto LAB_0001f98e;
                    }
                  }
                  goto LAB_0001f9a8;
                }
                uVar11 = 100;
                *(undefined4 *)(iVar2 + 0xec) = 10;
                goto LAB_0001f9a0;
              }
              if ((uVar5 != 6) && (uVar5 != 7)) {
                if (uVar5 == 2) {
                  *(undefined4 *)(iVar2 + 0xec) = 10;
                  *(undefined4 *)(iVar2 + 0xf0) = 0xe006;
                  *(undefined4 *)(iVar2 + 0x48) = 2;
                  goto LAB_0001f9cc;
                }
                goto LAB_0001f9a8;
              }
              *(uint *)(iVar2 + 0xf0) = uVar5;
              *(undefined4 *)(iVar2 + 0xec) = 10;
            }
            uVar11 = 2;
          }
          else {
            if (uVar5 < 0x163) {
              uVar11 = 0xb;
              if (uVar5 < 0x160) {
                if (uVar5 == 0x62) {
                  *(undefined4 *)(iVar2 + 0xec) = 10;
                  uVar11 = 0xe002;
                  goto LAB_0001f9a0;
                }
                if (uVar5 != 0xff) goto LAB_0001f9a8;
                uVar11 = 4;
              }
LAB_0001f98e:
              *(undefined4 *)(iVar2 + 0xec) = uVar11;
              uVar11 = 0;
              goto LAB_0001f9a0;
            }
            if (uVar5 == 0x2000) {
              uVar11 = 5;
              goto LAB_0001f98e;
            }
            if (uVar5 < 0x2001) {
              if (uVar5 == 0x200) {
                uVar11 = 0xe00c;
                *(undefined4 *)(iVar2 + 0xec) = 10;
                goto LAB_0001f9a0;
              }
            }
            else {
              if (uVar5 == 0x2001) {
                uVar11 = 6;
                goto LAB_0001f98e;
              }
              if (uVar5 == 0x5346) {
                uVar11 = 0xe00d;
                *(undefined4 *)(iVar2 + 0xec) = 10;
                goto LAB_0001f9a0;
              }
            }
LAB_0001f9a8:
            __android_log_print(5,"awplayer","<%s:%u>: unkown format <%x>","MovParseStsd",0xe92,
                                uVar5);
            uVar11 = 0;
          }
          *(undefined4 *)(iVar2 + 0x48) = uVar11;
        }
LAB_0001f9cc:
        iVar8 = *(int *)(iVar2 + 0x98);
        if (iVar8 == 0) {
          uVar10 = (uint)CONCAT11(*(undefined *)(iVar15 + uVar17 + 0x20),
                                  *(undefined *)(iVar15 + uVar17 + 0x20 + 1));
          *(uint *)(iVar2 + 0xa0) = uVar10;
          uVar5 = (uint)CONCAT11(*(undefined *)(iVar15 + uVar17 + 0x22),
                                 *(undefined *)(iVar15 + uVar17 + 0x22 + 1));
          *(uint *)(iVar2 + 0xa4) = uVar5;
          __android_log_print(3,"awplayer","<%s:%u>: stsd width = %d, height = %d","MovParseStsd",
                              0xea9,uVar10,uVar5);
          uVar12 = (uint)CONCAT11(*(undefined *)(iVar15 + uVar17 + 0x52),
                                  *(undefined *)(iVar15 + uVar17 + 0x52 + 1));
          *(uint *)(iVar2 + 0xb4) = uVar12;
          uVar5 = uVar12 & 0x1f;
          uVar10 = uVar17 + 0x56;
          if ((((uVar5 == 4 || uVar5 == 2) || (uVar5 == 8)) && (-1 < (int)(uVar12 << 0x1a))) &&
             (CONCAT11(*(undefined *)(iVar15 + uVar17 + 0x54),
                       *(undefined *)(iVar15 + uVar17 + 0x54 + 1)) == 0)) {
            uVar5 = FUN_0001c82c((undefined *)(iVar15 + uVar10));
            uVar12 = (uint)CONCAT11(*(undefined *)(iVar15 + uVar17 + 0x5c),
                                    *(undefined *)(iVar15 + uVar17 + 0x5c + 1));
            uVar10 = uVar17 + 0x5e;
            if (uVar5 < 0x100 && uVar12 < 0x100) {
              while (uVar5 <= uVar12) {
                uVar10 = uVar10 + 5;
                uVar5 = uVar5 + 1;
              }
            }
          }
        }
        else {
          uVar10 = uVar17 + 0x10;
          if (iVar8 == 1) {
            sVar1 = CONCAT11(*(undefined *)(iVar15 + uVar10),*(undefined *)(iVar15 + uVar10 + 1));
            *(uint *)(iVar2 + 0xac) =
                 (uint)CONCAT11(*(undefined *)(iVar15 + uVar17 + 0x18),
                                *(undefined *)(iVar15 + uVar17 + 0x18 + 1));
            *(uint *)(iVar2 + 0xb4) =
                 (uint)CONCAT11(*(undefined *)(iVar15 + uVar17 + 0x1a),
                                *(undefined *)(iVar15 + uVar17 + 0x1a + 1));
            uVar5 = FUN_0001c82c((undefined *)(iVar15 + uVar17 + 0x20));
            uVar10 = uVar17 + 0x24;
            *(uint *)(iVar2 + 0xa8) = uVar5 >> 0x10;
            if (*(int *)(param_1 + 0x15c) == 0) {
              if (sVar1 == 1) {
                puVar3 = (undefined *)(iVar15 + uVar10);
                uVar10 = uVar17 + 0x34;
                uVar11 = FUN_0001c82c(puVar3);
                *(undefined4 *)(iVar2 + 0x6c) = uVar11;
                local_4c = FUN_0001c82c((undefined *)(uVar17 + 0x28 + iVar15));
                uVar11 = FUN_0001c82c((undefined *)(iVar15 + uVar17 + 0x2c));
                *(undefined4 *)(iVar2 + 0x68) = uVar11;
              }
              else {
                if (sVar1 == 2) {
                  uVar21 = FUN_0001c844((undefined *)(iVar15 + uVar17 + 0x28));
                  uVar10 = uVar17 + 0x48;
                  *(int *)(iVar2 + 0xa8) =
                       SUB84(ROUND((double)((uVar21 & 0xffffffff00000000) + (uVar21 & 0xffffffff))),
                             0);
                  uVar11 = FUN_0001c82c((undefined *)(iVar15 + uVar17 + 0x30));
                  *(undefined4 *)(iVar2 + 0xac) = uVar11;
                }
              }
            }
            if (local_5c != 0) {
              if (sVar1 == 0) {
                *(uint *)(iVar2 + 0xb4) = local_5c;
                uVar5 = local_5c >> 3;
LAB_0001fbd4:
                iVar8 = *(int *)(iVar2 + 0xac) * uVar5;
              }
              else {
                if (sVar1 != 1) {
                  if (sVar1 == 2) {
                    uVar12 = *(uint *)(iVar2 + 0xb0);
                    uVar5 = uVar12;
                    if (uVar12 != 0x6d63706c) {
                      uVar5 = local_5c;
                    }
                    if (uVar12 != 0x6d63706c) {
                      *(uint *)(iVar2 + 0xb4) = uVar5;
                    }
                  }
                  uVar5 = (int)local_5c >> 3;
                  goto LAB_0001fbd4;
                }
                uVar12 = *(uint *)(iVar2 + 0xec);
                *(int *)(iVar2 + 0xb4) = local_4c << 3;
                uVar5 = uVar12;
                if (uVar12 == 10) {
                  uVar5 = local_5c;
                }
                if (uVar12 == 10) {
                  *(uint *)(iVar2 + 0xb4) = uVar5;
                }
                iVar8 = local_4c * *(int *)(iVar2 + 0xac);
              }
              *(int *)(param_1 + 0x1a4) = iVar8;
              *(int *)(iVar2 + 0x154) = iVar8;
            }
          }
          else {
            if (iVar8 != 2) {
              __android_log_print(5,"awplayer","<%s:%u>:  We do not support this atom: <0x%x>",
                                  "MovParseStsd",0xf6c,iVar8);
              goto LAB_00020218;
            }
            if (uVar5 != 0x7334706d) {
              uVar12 = iVar4 - 0x10;
              __android_log_print(3,"awplayer",
                                                                    
                                  "<%s:%u>: -------- subtitle glbl, format = %x, offset = %x, size = %d"
                                  ,"MovParseStsd",0xf5c,uVar5,uVar10,uVar12);
              FUN_0001caa4(param_1,uVar12,uVar10);
              uVar10 = uVar10 + uVar12;
              *(undefined4 *)(iVar2 + 0xa0) = *(undefined4 *)(iVar2 + 0xc0);
              *(undefined4 *)(iVar2 + 0xa4) = *(undefined4 *)(iVar2 + 0xc4);
            }
          }
        }
        uVar17 = uVar17 + iVar4;
        uVar5 = uVar10;
        if (8 < (int)(uVar17 - uVar10)) {
LAB_0001fdf8:
          uVar10 = uVar5;
          if (uVar14 == 0 && uVar10 < uVar17) {
            uVar5 = uVar10;
            if ((int)(uVar17 - uVar10) < 8) {
              uVar5 = uVar17;
            }
            uVar12 = FUN_0001c82c((undefined *)(iVar15 + uVar5));
            uVar10 = uVar5 + 8;
            uVar6 = FUN_0001c814((undefined4 *)(iVar15 + uVar5 + 4));
            uVar14 = uVar12;
            if ((uVar12 == 0) || (uVar14 = uVar6, uVar6 == 0)) goto LAB_0001fe22;
            if (uVar12 == 1) {
              puVar3 = (undefined *)(iVar15 + uVar10);
              uVar10 = uVar5 + 0x10;
              uVar20 = FUN_0001c844(puVar3);
              uVar12 = (int)uVar20 - 8;
            }
            if (uVar6 == 0x43637661) {
LAB_0001fd1c:
              uVar20 = FUN_0001ca3c(param_1,uVar12,uVar10);
              uVar14 = (uint)uVar20;
            }
            else {
              if (uVar6 == 0x43637668) {
                iVar8 = *(int *)(param_1 + 4);
                iVar4 = *(int *)(param_1 + (*(int *)(param_1 + 0xfc) + 0x41) * 4);
                if (*(int *)(iVar4 + 0xb8) != 0) {
                  __android_log_print(5,"awplayer","<%s:%u>: mov extradata has been init???",
                                      "MovParseHvcc",0xc4b);
                  free(*(void **)(iVar4 + 0xb8));
                }
                __size = uVar12 - 8;
                pvVar7 = malloc(__size);
                *(void **)(iVar4 + 0xb8) = pvVar7;
                if (pvVar7 == (void *)0x0) {
                  uVar14 = 0xffffffff;
                }
                else {
                  *(size_t *)(iVar4 + 0xbc) = __size;
                  memcpy(pvVar7,(void *)(iVar8 + uVar10),__size);
                  uVar14 = 0;
                }
                goto LAB_0001fde2;
              }
              if (uVar6 == 0x63616c61) goto LAB_0001fd1c;
              if (uVar6 == 0x65766177) {
                iVar4 = *(int *)(param_1 + 4);
                uVar5 = (uVar12 + uVar10) - 8;
                if (uVar12 < 0x40000001) {
                  uVar14 = 0;
                  if (0x10 < uVar12) {
                    while( true ) {
                      bVar18 = uVar14 != 0;
                      uVar14 = (uint)(uVar10 < uVar5);
                      if (bVar18) {
                        uVar14 = 0;
                      }
                      if (uVar14 == 0) break;
                      uVar12 = FUN_0001c82c((undefined *)(iVar4 + uVar10));
                      uVar6 = FUN_0001c814((undefined4 *)(uVar10 + 4 + iVar4));
                      uVar14 = uVar12;
                      if ((uVar12 == 0) || (uVar14 = uVar6, uVar6 == 0)) break;
                      iVar8 = uVar10 + 8;
                      if (uVar12 == 1) {
                        uVar20 = FUN_0001c844((undefined *)(iVar4 + iVar8));
                        iVar8 = uVar10 + 0x10;
                        uVar12 = (int)uVar20 - 8;
                      }
                      if ((uVar6 == 0x616d7266) || (uVar6 != 0x73647365)) {
                        uVar10 = (iVar8 + uVar12) - 8;
                        uVar14 = 0;
                      }
                      else {
                        uVar10 = (iVar8 + uVar12) - 8;
                        uVar14 = FUN_0001d0dc(param_1,iVar8);
                      }
                    }
                  }
                }
                else {
                  uVar14 = 0xffffffff;
                }
                goto LAB_0001fdf8;
              }
              if (uVar6 == 0x73647365) {
                uVar14 = FUN_0001d0dc(param_1,uVar10);
                goto LAB_0001fde2;
              }
              if (uVar6 != 0x6c626c67) {
                uVar14 = 0;
                uVar5 = (uVar12 + uVar10) - 8;
                goto LAB_0001fdf8;
              }
              uVar14 = FUN_0001caa4(param_1,uVar12,uVar10);
            }
LAB_0001fde2:
            uVar5 = (uVar12 + uVar10) - 8;
            goto LAB_0001fdf8;
          }
        }
LAB_0001fe22:
        local_50 = local_50 + -1;
        uVar17 = uVar10;
      }
      if ((*(int *)(iVar2 + 0x98) == 1) && (*(int *)(iVar2 + 0xa8) == 0)) {
        if (1 < *(int *)(iVar2 + 0x5c)) {
          *(int *)(iVar2 + 0xa8) = *(int *)(iVar2 + 0x5c);
        }
      }
LAB_00020218:
      uVar14 = 0;
      param_4 = (iVar16 + local_60) - 8;
    }
    if (iVar2 == 0x73747473) {
      iVar2 = *(int *)(param_1 + 4);
      iVar15 = *(int *)(param_1 + (*(int *)(param_1 + 0xfc) + 0x41) * 4);
      uVar14 = FUN_0001c82c((undefined *)(iVar2 + iVar16 + 4));
      if (uVar14 == 0) {
        __android_log_print(5,"awplayer","<%s:%u>: ---- stts entries is %d, careful","MovParseStts",
                            0xfdf,0);
      }
      if ((int)(local_60 - 8) < 9) {
LAB_00020056:
        uVar14 = 0;
      }
      else {
        if (uVar14 < 0x1fffffff) {
          *(uint *)(iVar15 + 0x18) = uVar14;
          uVar14 = *(uint *)(iVar15 + 0x98);
          *(int *)(iVar15 + 0x2c) = iVar16 + 8;
          if (uVar14 != 0) goto LAB_00020056;
          uVar11 = FUN_0001c82c((undefined *)(iVar2 + iVar16 + 0xc));
          *(undefined4 *)(iVar15 + 0x58) = uVar11;
        }
        else {
LAB_00020050:
          uVar14 = 0xffffffff;
        }
      }
    }
    else {
      if (iVar2 == 0x73737473) {
        iVar15 = *(int *)(param_1 + 0xfc);
        uVar17 = FUN_0001c82c((undefined *)(*(int *)(param_1 + 4) + iVar16 + 4));
        iVar2 = 719999;
        uVar14 = *(uint *)(param_1 + (iVar15 + 0x41) * 4);
        if (uVar17 < 720000) {
          *(uint *)(uVar14 + 0x14) = uVar17;
          iVar2 = iVar16 + 8;
        }
        else {
          uVar14 = 0xffffffff;
        }
        if (uVar17 < 720000) {
          *(int *)(uVar14 + 0x28) = iVar2;
          uVar14 = 0;
        }
      }
      else {
        if (iVar2 == 0x7a737473) {
          iVar15 = *(int *)(param_1 + 4);
          iVar2 = *(int *)(param_1 + (*(int *)(param_1 + 0xfc) + 0x41) * 4);
          uVar11 = FUN_0001c82c((undefined *)(iVar15 + iVar16 + 4));
          *(undefined4 *)(iVar2 + 0x54) = uVar11;
          __android_log_print(3,"awplayer","<%s:%u>: -- sample_size = %d","MovParseStsz",0x1023,
                              uVar11);
          uVar11 = FUN_0001c82c((undefined *)(iVar15 + iVar16 + 8));
          *(int *)(iVar2 + 0x20) = iVar16 + 0xc;
          *(undefined4 *)(iVar2 + 0xc) = uVar11;
          goto LAB_00020218;
        }
        if (iVar2 == 0x63737473) {
          iVar15 = *(int *)(param_1 + 0xfc);
          iVar2 = FUN_0001c82c((undefined *)(*(int *)(param_1 + 4) + iVar16 + 4));
          iVar15 = *(int *)(param_1 + (iVar15 + 0x41) * 4);
          if (iVar2 == 0) {
            __android_log_print(5,"awplayer","<%s:%u>: ---- stsc entries is %d, careful",
                                "MovParseStsc",0x103e,0);
          }
          else {
            if (719999 < iVar2) goto LAB_00020050;
          }
          if ((int)local_60 < iVar2) goto LAB_00020050;
          *(int *)(iVar15 + 8) = iVar2;
          *(int *)(iVar15 + 0x1c) = iVar16 + 8;
          uVar14 = (uint)(*(int *)(iVar15 + 0xec) == 10);
          if (iVar2 != 1) {
            uVar14 = 0;
          }
          if (uVar14 != 0) {
            uVar14 = *(uint *)(iVar15 + 0xbc);
            if (uVar14 != 0) goto LAB_00020056;
            if (*(int *)(iVar15 + 0x98) == 1) {
              __android_log_print(5,"awplayer","<%s:%u>: read pcm size from stsc! 0x%x",
                                  "MovParseStsc",0x104d,0);
            }
          }
        }
        else {
          if (iVar2 != 0x6f637473) {
            if (iVar2 == 0x73747463) {
              iVar15 = *(int *)(param_1 + 4);
              iVar2 = *(int *)(param_1 + (*(int *)(param_1 + 0xfc) + 0x41) * 4);
              if (*(char *)(iVar15 + iVar16) == '\x01') {
                __android_log_print(5,"awplayer",
                                                                        
                                    "<%s:%u>: Composition to Decode Box(cslg) must be here, see qtff"
                                    ,"MovParseCtts",0x1060);
              }
              uVar14 = FUN_0001c82c((undefined *)(iVar15 + iVar16 + 4));
              __android_log_print(3,"awplayer","<%s:%u>: track[%d].ctts.entries = %d","MovParseCtts"
                                  ,0x1067,*(int *)(param_1 + 0xfc) + -1,uVar14);
              if (uVar14 != 0) {
                if ((uVar14 < 720000) && (uVar14 <= local_60)) {
                  pvVar7 = malloc(uVar14 << 3);
                  *(void **)(iVar2 + 0x38) = pvVar7;
                  if (pvVar7 != (void *)0x0) {
                    uVar5 = 2;
                    puVar3 = (undefined *)(iVar15 + iVar16 + 8);
                    uVar17 = 0;
                    *(uint *)(iVar2 + 0x34) = uVar14;
                    *(int *)(iVar2 + 0x3c) = iVar16 + 8;
                    do {
                      uVar11 = FUN_0001c82c(puVar3);
                      uVar10 = FUN_0001c82c(puVar3 + 4);
                      *(undefined4 *)(*(int *)(iVar2 + 0x38) + uVar17 * 8) = uVar11;
                      *(uint *)(*(int *)(iVar2 + 0x38) + uVar17 * 8 + 4) = uVar10;
                      if ((int)((uVar10 ^ (int)uVar10 >> 0x1f) - ((int)uVar10 >> 0x1f)) < 0x10000001
                         ) {
                        if ((uVar5 < uVar14) && ((int)uVar10 < 0)) {
                          iVar15 = *(int *)(iVar2 + 0xe8);
                          bVar19 = SBORROW4(iVar15,-uVar10);
                          bVar18 = (int)(iVar15 + uVar10) < 0;
                          if (bVar18 == bVar19) {
                            *(int *)(iVar2 + 0xe8) = iVar15;
                          }
                          if (bVar18 != bVar19) {
                            *(uint *)(iVar2 + 0xe8) = -uVar10;
                          }
                        }
                      }
                      else {
                        if (uVar5 < uVar14) {
                          uVar14 = 0;
                          __android_log_print(5,"awplayer","<%s:%u>: CTTS invalid!","MovParseCtts",
                                              0x1082);
                          free(*(void **)(iVar2 + 0x38));
                          *(undefined4 *)(iVar2 + 0x38) = 0;
                          *(undefined4 *)(iVar2 + 0x34) = 0;
                          goto LAB_00020212;
                        }
                      }
                      uVar17 = uVar17 + 1;
                      puVar3 = puVar3 + 8;
                      uVar5 = uVar5 + 1;
                    } while (uVar17 != uVar14);
                    uVar14 = 0;
                    goto LAB_00020212;
                  }
                }
                uVar14 = 0xffffffff;
              }
              goto LAB_00020212;
            }
            if (iVar2 != 0x34366f63) goto LAB_00020218;
          }
          uVar14 = FUN_0001c90c(param_1,iVar2,local_60,iVar16);
        }
      }
    }
LAB_00020212:
    param_4 = (iVar16 + local_60) - 8;
  } while( true );
}



undefined4 MovParseTrak(int param_1,undefined4 param_2,int param_3,uint param_4)

{
  char cVar1;
  byte bVar2;
  longlong lVar3;
  uint uVar4;
  int iVar5;
  undefined *puVar6;
  undefined4 uVar7;
  char *__src;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  uint uVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  uint uVar17;
  uint uVar18;
  uint uVar19;
  undefined8 uVar20;
  ulonglong uVar21;
  uint local_40 [7];
  
  iVar9 = *(int *)(param_1 + 4);
  iVar10 = param_4 + param_3;
  uVar19 = 0;
LAB_0002083e:
  do {
    if (uVar19 != 0 || iVar10 - 8U <= param_4) {
      return 0;
    }
    uVar4 = FUN_0001c82c((undefined *)(iVar9 + param_4));
    iVar5 = FUN_0001c814((undefined4 *)(param_4 + 4 + iVar9));
    if (uVar4 == 0) {
      return 0;
    }
    if (iVar5 == 0) {
      return 0;
    }
    uVar12 = param_4 + 8;
    if (uVar4 == 1) {
      puVar6 = (undefined *)(iVar9 + uVar12);
      uVar12 = param_4 + 0x10;
      uVar20 = FUN_0001c844(puVar6);
      uVar4 = (int)uVar20 - 8;
    }
    if (iVar5 == 0x64686b74) {
      iVar13 = *(int *)(param_1 + 4);
      cVar1 = *(char *)(iVar13 + uVar12);
      iVar5 = *(int *)(param_1 + (*(int *)(param_1 + 0xfc) + 0x41) * 4);
      if (cVar1 == '\x01') {
        iVar14 = uVar12 + 0x14;
      }
      else {
        iVar14 = uVar12 + 0xc;
      }
      uVar7 = FUN_0001c82c((undefined *)(iVar13 + iVar14));
      if (cVar1 == '\x01') {
        iVar11 = 8;
      }
      else {
        iVar11 = 4;
      }
      iVar11 = iVar14 + 0x18 + iVar11;
      puVar6 = (undefined *)(iVar13 + iVar11);
      *(undefined4 *)(iVar5 + 0x74) = uVar7;
      iVar14 = 0;
      do {
        uVar7 = FUN_0001c82c(puVar6);
        *(undefined4 *)((int)local_40 + iVar14) = uVar7;
        uVar7 = FUN_0001c82c(puVar6 + 4);
        iVar15 = iVar14 + 8;
        puVar6 = puVar6 + 0xc;
        *(undefined4 *)((int)local_40 + iVar14 + 4) = uVar7;
        iVar14 = iVar15;
      } while (iVar15 != 0x18);
      uVar19 = 1 - local_40[1];
      if (1 < local_40[1]) {
        uVar19 = 0;
      }
      if (local_40[0] == 0x10000) {
        uVar18 = uVar19 & 1;
      }
      else {
        uVar18 = 0;
      }
      if (uVar18 == 0) {
LAB_00020390:
        uVar18 = 1 - local_40[0];
        if (1 < local_40[0]) {
          uVar18 = 0;
        }
        if (local_40[1] == 0x10000) {
          uVar17 = uVar18 & 1;
        }
        else {
          uVar17 = 0;
        }
        if ((uVar17 == 0) || (local_40[3] != 0 || local_40[2] != 0xffff0000)) {
          if (((uVar18 & local_40[1] == 0xffff0000) == 0) ||
             (local_40[3] != 0 || local_40[2] != 0x10000)) {
            if (((uVar19 & local_40[0] == 0xffff0000) == 0) ||
               (local_40[2] != 0 || local_40[3] != -0x10000)) {
              __android_log_print(5,"awplayer",
                                  "<%s:%u>: We only support 0,90,180,270 degree rotation matrices",
                                  "MovParseTkhd");
              goto LAB_00020476;
            }
            __src = "180";
          }
          else {
            __src = "270";
          }
        }
        else {
          __src = "90";
        }
        strcpy((char *)(iVar5 + 0x160),__src);
        __android_log_print(3,"awplayer","<%s:%u>: nRotation variable is not in vFormat",
                            "MovParseTkhd");
      }
      else {
        uVar18 = 1 - local_40[2];
        if (1 < local_40[2]) {
          uVar18 = 0;
        }
        if (local_40[3] == 0x10000) {
          uVar18 = uVar18 & 1;
        }
        else {
          uVar18 = 0;
        }
        if (uVar18 == 0) goto LAB_00020390;
LAB_00020476:
        strcpy((char *)(iVar5 + 0x160),"0");
      }
      iVar14 = FUN_0001c82c((undefined *)(iVar13 + iVar11 + 0x24));
      iVar13 = FUN_0001c82c((undefined *)(iVar13 + iVar11 + 0x28));
      *(int *)(iVar5 + 0xc0) = iVar14 >> 0x10;
      *(int *)(iVar5 + 0xc4) = iVar13 >> 0x10;
      __android_log_print(3,"awplayer","<%s:%u>: tkhd width = %d, height = %d");
LAB_0002082e:
      param_4 = (uVar12 + uVar4) - 8;
      uVar19 = 0;
      goto LAB_0002083e;
    }
    if (iVar5 == 0x74736c65) {
      iVar13 = *(int *)(param_1 + 4);
      iVar14 = *(int *)(param_1 + (*(int *)(param_1 + 0xfc) + 0x41) * 4);
      iVar5 = FUN_0001c82c((undefined *)(iVar13 + uVar12 + 4));
      lVar3 = (longlong)iVar5 * 0xc + 8;
      if (uVar4 < (uint)lVar3 || (int)((ulonglong)lVar3 >> 0x20) != 0) {
        uVar19 = 0xffffffff;
      }
      else {
        puVar6 = (undefined *)(iVar13 + uVar12 + 8);
        uVar19 = 0;
        while ((int)uVar19 < iVar5) {
          iVar11 = FUN_0001c82c(puVar6);
          iVar13 = FUN_0001c82c(puVar6 + 4);
          uVar18 = 1 - uVar19;
          if (1 < uVar19) {
            uVar18 = 0;
          }
          if (iVar13 < -1) {
            uVar18 = 0;
          }
          else {
            uVar18 = uVar18 & 1;
          }
          if (uVar18 != 0) {
            if (iVar13 == -1) {
              iVar13 = -iVar11;
            }
            *(int *)(iVar14 + 0xd0) = iVar13;
          }
          uVar19 = uVar19 + 1;
          puVar6 = puVar6 + 0xc;
        }
        uVar19 = 0;
      }
      param_4 = (uVar12 + uVar4) - 8;
    }
    else {
      if (iVar5 != 0x6169646d) goto LAB_0002082e;
      param_4 = (uVar12 + uVar4) - 8;
      iVar5 = *(int *)(param_1 + 4);
      uVar4 = 0;
LAB_0002080e:
      uVar19 = (uint)(uVar12 < param_4);
      if (uVar4 != 0) {
        uVar19 = 0;
      }
      if (uVar19 != 0) {
        uVar18 = FUN_0001c82c((undefined *)(iVar5 + uVar12));
        uVar4 = FUN_0001c814((undefined4 *)(uVar12 + 4 + iVar5));
        uVar19 = uVar18;
        if ((uVar18 == 0) || (uVar19 = uVar4, uVar4 == 0)) goto LAB_0002083e;
        uVar19 = uVar12 + 8;
        if (uVar18 == 1) {
          puVar6 = (undefined *)(iVar5 + uVar19);
          uVar19 = uVar12 + 0x10;
          uVar20 = FUN_0001c844(puVar6);
          uVar18 = (int)uVar20 - 8;
        }
        if (uVar4 == 0x6468646d) {
          iVar14 = *(int *)(param_1 + 4);
          uVar4 = 1;
          bVar2 = *(byte *)(iVar14 + uVar19);
          iVar13 = *(int *)(param_1 + (*(int *)(param_1 + 0xfc) + 0x41) * 4);
          if (bVar2 < 2) {
            if (bVar2 == 1) {
              iVar11 = uVar19 + 0x14;
            }
            else {
              iVar11 = uVar19 + 0xc;
            }
            iVar15 = FUN_0001c82c((undefined *)(iVar14 + iVar11));
            *(int *)(iVar13 + 0x5c) = iVar15;
            puVar6 = (undefined *)(iVar14 + iVar11 + 4);
            if (bVar2 == 1) {
              uVar21 = FUN_0001c844(puVar6);
            }
            else {
              uVar4 = FUN_0001c82c(puVar6);
              uVar21 = (ulonglong)uVar4;
            }
            iVar8 = (int)(uVar21 >> 0x20);
            *(int *)(iVar13 + 200) = (int)uVar21;
            lVar3 = (uVar21 & 0xffffffff) * 1000;
            *(int *)(iVar13 + 0xcc) = iVar8;
            if (bVar2 == 1) {
              iVar16 = 8;
            }
            else {
              iVar16 = 4;
            }
            uVar7 = __aeabi_ldivmod((int)lVar3,iVar8 * 1000 + (int)((ulonglong)lVar3 >> 0x20),iVar15
                                    ,iVar15 >> 0x1f);
            *(undefined4 *)(iVar13 + 0xd4) = uVar7;
            uVar7 = __aeabi_idiv(*(undefined4 *)(iVar13 + 0xd0),iVar15);
            iVar16 = iVar16 + iVar11 + 4;
            *(undefined4 *)(iVar13 + 0xd8) = uVar7;
            bVar2 = *(byte *)(iVar14 + iVar16 + 1);
            uVar12 = (uint)CONCAT11(*(undefined *)(iVar14 + iVar16),bVar2);
            local_40[0] = 0;
            uVar4 = (uint)(0x3ff < uVar12);
            if (uVar12 == 0x7fff) {
              uVar4 = 0;
            }
            if (uVar4 == 0) {
              if ((0x8a < uVar12) || (uVar4 = (uint)(byte)(&DAT_0002c747)[uVar12 * 4], uVar4 == 0))
              goto LAB_0002074e;
              memcpy(local_40,&DAT_0002c747 + uVar12 * 4,4);
            }
            else {
              local_40[0] = (uint)CONCAT21(CONCAT11((bVar2 & 0x1f) + 0x60,
                                                    (byte)((uVar12 << 0x16) >> 0x1b) + 0x60),
                                           (byte)((uVar12 << 0x11) >> 0x1b) + 0x60);
            }
            __android_log_print(3,"awplayer","<%s:%u>: -- language = %s");
            strcpy((char *)(iVar13 + 0x78),(char *)local_40);
            uVar4 = 0;
          }
LAB_0002074e:
          uVar12 = (uVar19 + uVar18) - 8;
        }
        else {
          if (uVar4 == 0x726c6468) {
            uVar4 = FUN_0001c98c(param_1,uVar19);
            goto LAB_0002074e;
          }
          if (uVar4 == 0x666e696d) {
            uVar12 = (uVar18 + uVar19) - 8;
            iVar13 = 0;
            iVar14 = *(int *)(param_1 + 4);
            local_40[0] = uVar4;
            local_40[1] = uVar18;
            local_40[2] = uVar19;
            while( true ) {
              uVar4 = (uint)(uVar19 < uVar12);
              if (iVar13 != 0) {
                uVar4 = 0;
              }
              if (uVar4 == 0) break;
              uVar18 = FUN_0001c82c((undefined *)(iVar14 + uVar19));
              uVar17 = FUN_0001c814((undefined4 *)(iVar14 + uVar19 + 4));
              uVar4 = uVar18;
              if ((uVar18 == 0) || (uVar4 = uVar17, uVar17 == 0)) break;
              uVar4 = uVar19 + 8;
              if (uVar18 == 1) {
                puVar6 = (undefined *)(iVar14 + uVar4);
                uVar4 = uVar19 + 0x10;
                uVar20 = FUN_0001c844(puVar6);
                uVar18 = (int)uVar20 - 8;
              }
              if (uVar17 == 0x726c6468) {
                iVar13 = FUN_0001c98c(param_1,uVar4);
LAB_000207d2:
                uVar19 = (uVar4 + uVar18) - 8;
              }
              else {
                if (uVar17 == 0x6c627473) {
                  local_40[0] = 0x6c627473;
                  local_40[1] = uVar18;
                  local_40[2] = uVar4;
                  iVar13 = MovParseStbl(param_1,0x6c627473,uVar18,uVar4);
                  goto LAB_000207d2;
                }
                iVar13 = 0;
                uVar19 = (uVar4 + uVar18) - 8;
              }
            }
          }
          else {
            uVar12 = (uVar19 + uVar18) - 8;
            uVar4 = 0;
          }
        }
        goto LAB_0002080e;
      }
    }
  } while( true );
}



undefined4 MovParseUdta(int param_1,undefined4 param_2,int param_3,uint param_4)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  undefined4 uVar9;
  int iVar10;
  bool bVar11;
  bool bVar12;
  
  iVar6 = *(int *)(param_1 + 4);
  uVar1 = (param_4 + param_3) - 8;
  do {
    if (uVar1 <= param_4) {
      return 0;
    }
    iVar2 = FUN_0001c82c((undefined *)(iVar6 + param_4));
    uVar3 = FUN_0001c814((undefined4 *)(iVar6 + param_4 + 4));
    if (uVar1 < iVar2 - 8U) {
      return 0;
    }
    iVar7 = param_4 + 8;
    if (uVar3 == 0x6d616ea9) {
      iVar8 = iVar2 + -0xd;
      bVar12 = SBORROW4(iVar8,0x1f);
      bVar11 = iVar8 != 0x1f;
      if (iVar8 < 0x20) {
        iVar8 = param_1 + iVar8;
      }
      if (bVar11 && iVar2 + -0x2c < 0 == bVar12) {
        iVar8 = param_1 + 0x1f;
      }
      FUN_0001d270((undefined *)(iVar6 + iVar7),(void *)(param_1 + 0x1e0));
      *(undefined *)(iVar8 + 0x1e0) = 0;
    }
    else {
      if (uVar3 < 0x6d616eaa) {
        if (uVar3 == 0x6174656d) {
          iVar8 = 0;
          uVar3 = param_4 + 0xc;
          iVar10 = *(int *)(param_1 + 4);
          while (iVar8 == 0 && uVar3 < iVar2 + param_4) {
            iVar8 = FUN_0001c82c((undefined *)(iVar10 + uVar3));
            iVar4 = FUN_0001c814((undefined4 *)(uVar3 + 4 + iVar10));
            if (iVar4 == 0x74736c69) {
              uVar5 = uVar3 + 8;
              uVar3 = uVar3 + iVar8;
              iVar8 = MovParseUdta(param_1,0x74736c69,iVar8,uVar5);
            }
            else {
              uVar3 = uVar3 + iVar8;
              iVar8 = 0;
            }
          }
        }
        else {
          if (uVar3 < 0x6174656e) {
            if (uVar3 == 0x54524161) {
              iVar8 = iVar2 + -0xd;
              bVar12 = SBORROW4(iVar8,0x1f);
              bVar11 = iVar8 != 0x1f;
              if (iVar8 < 0x20) {
                iVar8 = param_1 + iVar8;
              }
              if (bVar11 && iVar2 + -0x2c < 0 == bVar12) {
                iVar8 = param_1 + 0x1f;
              }
              FUN_0001d270((undefined *)(iVar6 + iVar7),(void *)(param_1 + 0x260));
              *(undefined *)(iVar8 + 0x260) = 0;
            }
            else {
              if (uVar3 == 0x545241a9) goto LAB_000209d6;
            }
          }
          else {
            if (uVar3 == 0x626c61a9) {
              iVar8 = iVar2 + -0xd;
              bVar12 = SBORROW4(iVar8,0x1f);
              bVar11 = iVar8 != 0x1f;
              if (iVar8 < 0x20) {
                iVar8 = param_1 + iVar8;
              }
              if (bVar11 && iVar2 + -0x2c < 0 == bVar12) {
                iVar8 = param_1 + 0x1f;
              }
              FUN_0001d270((undefined *)(iVar6 + iVar7),(void *)(param_1 + 0x200));
              *(undefined *)(iVar8 + 0x200) = 0;
            }
            else {
              if (uVar3 == 0x65726e67) {
                __android_log_print(3,"awplayer","<%s:%u>: ---- gnre, care","MovParseUdta",0x1241);
                uVar9 = *(undefined4 *)(ff_id3v1_genre_str + (*(byte *)(iVar6 + iVar7 + 1) - 1) * 4)
                ;
                __android_log_print(3,"awplayer","<%s:%u>: --- genre %s","MovParseGnre",0x11e7,uVar9
                                   );
                snprintf((char *)(param_1 + 0x280),0x20,"%s",uVar9);
              }
            }
          }
        }
      }
      else {
        if (uVar3 == 0x747561a9) {
LAB_000209d6:
          iVar8 = iVar2 + -0xd;
          bVar12 = SBORROW4(iVar8,0x1f);
          bVar11 = iVar8 != 0x1f;
          if (iVar8 < 0x20) {
            iVar8 = param_1 + iVar8;
          }
          if (bVar11 && iVar2 + -0x2c < 0 == bVar12) {
            iVar8 = param_1 + 0x1f;
          }
          FUN_0001d270((undefined *)(iVar6 + iVar7),(void *)(param_1 + 0x220));
          *(undefined *)(iVar8 + 0x220) = 0;
        }
        else {
          if (uVar3 < 0x747561aa) {
            if (uVar3 == 0x6e6567a9) {
              iVar8 = iVar2 + -0xd;
              bVar12 = SBORROW4(iVar8,0x1f);
              bVar11 = iVar8 != 0x1f;
              if (iVar8 < 0x20) {
                iVar8 = param_1 + iVar8;
              }
              if (bVar11 && iVar2 + -0x2c < 0 == bVar12) {
                iVar8 = param_1 + 0x1f;
              }
              FUN_0001d270((undefined *)(iVar6 + iVar7),(void *)(param_1 + 0x280));
              *(undefined *)(iVar8 + 0x280) = 0;
            }
            else {
              if (uVar3 == 0x747277a9) {
                iVar8 = iVar2 + -0xd;
                bVar12 = SBORROW4(iVar8,0x1f);
                bVar11 = iVar8 != 0x1f;
                if (iVar8 < 0x20) {
                  iVar8 = param_1 + iVar8;
                }
                if (bVar11 && iVar2 + -0x2c < 0 == bVar12) {
                  iVar8 = param_1 + 0x1f;
                }
                FUN_0001d270((undefined *)(iVar6 + iVar7),(void *)(param_1 + 0x2a0));
                *(undefined *)(iVar8 + 0x2a0) = 0;
              }
            }
          }
          else {
            if (uVar3 == 0x796164a9) {
              iVar8 = iVar2 + -0xd;
              bVar12 = SBORROW4(iVar8,0x1f);
              bVar11 = iVar8 != 0x1f;
              if (iVar8 < 0x20) {
                iVar8 = param_1 + iVar8;
              }
              if (bVar11 && iVar2 + -0x2c < 0 == bVar12) {
                iVar8 = param_1 + 0x1f;
              }
              FUN_0001d270((undefined *)(iVar6 + iVar7),(void *)(param_1 + 0x240));
              *(undefined *)(iVar8 + 0x240) = 0;
            }
            else {
              if (uVar3 == 0x7a7978a9) {
                iVar8 = iVar2 + -0xd;
                bVar12 = SBORROW4(iVar8,0x1f);
                bVar11 = iVar8 != 0x1f;
                if (iVar8 < 0x20) {
                  iVar8 = param_1 + iVar8;
                }
                if (bVar11 && iVar2 + -0x2c < 0 == bVar12) {
                  iVar8 = param_1 + 0x1f;
                }
                FUN_0001d270((undefined *)(iVar6 + iVar7),(void *)(param_1 + 0x1c0));
                *(undefined *)(iVar8 + 0x1c0) = 0;
              }
            }
          }
        }
      }
    }
    param_4 = (iVar2 - 8U) + iVar7;
  } while( true );
}



undefined4 MovParserMoov(undefined *param_1)

{
  char cVar1;
  longlong lVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  undefined4 uVar7;
  undefined *puVar8;
  void *pvVar9;
  uint uVar10;
  uint uVar11;
  uint uVar12;
  int iVar13;
  int iVar14;
  undefined *puVar15;
  void *pvVar16;
  undefined8 uVar17;
  ulonglong uVar18;
  size_t local_38;
  int local_34;
  uint local_30;
  uint local_2c;
  
  puVar15 = *(undefined **)(param_1 + 4);
  uVar11 = 8;
  uVar3 = FUN_0001c82c(puVar15);
  iVar4 = FUN_0001c814((undefined4 *)(puVar15 + 4));
  uVar5 = uVar3 - 8;
  iVar6 = 0;
LAB_00020f6a:
  do {
    if (iVar6 != 0 || uVar5 <= uVar11) {
      return 0;
    }
    if (7 < uVar3) {
      uVar3 = FUN_0001c82c(puVar15 + uVar11);
      iVar4 = FUN_0001c814((undefined4 *)(puVar15 + uVar11 + 4));
      if (uVar3 == 0) {
        return 0;
      }
      if (iVar4 == 0) {
        return 0;
      }
      uVar11 = uVar11 + 8;
    }
    uVar12 = uVar11;
    if (uVar3 == 1) {
      uVar12 = uVar11 + 8;
      uVar17 = FUN_0001c844(puVar15 + uVar11);
      uVar3 = (int)uVar17 - 8;
    }
    if (iVar4 == 0x6468766d) {
      iVar6 = *(int *)(param_1 + 4);
      uVar11 = (uVar12 + uVar3) - 8;
      while (uVar12 < uVar11) {
        cVar1 = *(char *)(iVar6 + uVar12);
        if (cVar1 == '\x01') {
          iVar13 = uVar12 + 0x14;
        }
        else {
          if (cVar1 == '\0') {
            iVar13 = uVar12 + 0xc;
          }
          else {
            iVar13 = uVar12 + 4;
            __android_log_print(5,"awplayer","<%s:%u>: version<%d> is not support!","MovParseMvhd",
                                0x12ca,cVar1);
          }
        }
        uVar7 = FUN_0001c82c((undefined *)(iVar6 + iVar13));
        *(undefined4 *)(param_1 + 0xe8) = uVar7;
        puVar8 = (undefined *)(iVar6 + iVar13 + 4);
        if (cVar1 == '\x01') {
          uVar18 = FUN_0001c844(puVar8);
          iVar13 = iVar13 + 0xc;
          *(int *)(param_1 + 0xec) = (int)uVar18;
        }
        else {
          uVar12 = FUN_0001c82c(puVar8);
          iVar13 = iVar13 + 8;
          uVar18 = (ulonglong)uVar12;
          *(uint *)(param_1 + 0xec) = uVar12;
        }
        if (*(int *)(param_1 + 0xec) != 0) {
          lVar2 = (uVar18 & 0xffffffff) * 1000;
          uVar7 = __aeabi_uldivmod((int)lVar2,
                                   (int)(uVar18 >> 0x20) * 1000 + (int)((ulonglong)lVar2 >> 0x20));
          *(undefined4 *)(param_1 + 0x90) = uVar7;
        }
        uVar12 = iVar13 + 0x50;
      }
LAB_00020f66:
      iVar6 = 0;
      goto LAB_00020f6a;
    }
    if (iVar4 == 0x61746475) {
      local_34 = iVar4;
      local_30 = uVar3;
      local_2c = uVar12;
      iVar6 = MovParseUdta((int)param_1,0x61746475,uVar3,uVar12);
    }
    else {
      if (iVar4 != 0x6b617274) {
        if (iVar4 == 0x7865766d) {
          if (*(int *)(param_1 + 0x2c0) != 0) {
            *(undefined4 *)(param_1 + 0xa8) = 1;
          }
          iVar13 = *(int *)(param_1 + 4);
          uVar11 = (uVar12 + uVar3) - 8;
          do {
            iVar6 = 0;
            while( true ) {
              if (iVar6 != 0 || uVar11 <= uVar12) goto LAB_00020f6a;
              uVar10 = FUN_0001c82c((undefined *)(iVar13 + uVar12));
              iVar6 = FUN_0001c814((undefined4 *)(iVar13 + uVar12 + 4));
              if (iVar6 != 0x78657274) break;
              iVar14 = *(int *)(param_1 + 4);
              if (uVar10 < 0x20) {
LAB_00020dc6:
                iVar6 = 0;
              }
              else {
                pvVar9 = realloc(*(void **)(param_1 + 0xd8),(*(int *)(param_1 + 0xdc) + 1) * 0x14);
                iVar6 = -1;
                if (pvVar9 != (void *)0x0) {
                  iVar6 = *(int *)(param_1 + 0xdc);
                  *(void **)(param_1 + 0xd8) = pvVar9;
                  *(int *)(param_1 + 0xdc) = iVar6 + 1;
                  iVar6 = iVar6 * 0x14;
                  pvVar16 = (void *)((int)pvVar9 + iVar6);
                  uVar7 = FUN_0001c82c((undefined *)(iVar14 + uVar12 + 0xc));
                  *(undefined4 *)((int)pvVar9 + iVar6) = uVar7;
                  uVar7 = FUN_0001c82c((undefined *)(iVar14 + uVar12 + 0x10));
                  *(undefined4 *)((int)pvVar16 + 4) = uVar7;
                  uVar7 = FUN_0001c82c((undefined *)(uVar12 + 0x14 + iVar14));
                  *(undefined4 *)((int)pvVar16 + 8) = uVar7;
                  uVar7 = FUN_0001c82c((undefined *)(iVar14 + uVar12 + 0x18));
                  *(undefined4 *)((int)pvVar16 + 0xc) = uVar7;
                  uVar7 = FUN_0001c82c((undefined *)(iVar14 + uVar12 + 0x1c));
                  *(undefined4 *)((int)pvVar16 + 0x10) = uVar7;
                  goto LAB_00020dc6;
                }
              }
              uVar12 = uVar12 + uVar10;
            }
            uVar12 = uVar12 + uVar10;
          } while( true );
        }
        if (iVar4 == 0x766f6d63) {
          puVar15 = (undefined *)(*(int *)(param_1 + 4) + uVar12);
          iVar4 = FUN_0001c82c(puVar15);
          if (iVar4 == 0xc) {
            iVar4 = FUN_0001c814((undefined4 *)(puVar15 + 4));
            if (iVar4 == 0x6d6f6364) {
              iVar4 = FUN_0001c814((undefined4 *)(puVar15 + 8));
              if (iVar4 == 0x62696c7a) {
                iVar4 = FUN_0001c814((undefined4 *)(puVar15 + 0x10));
                if (iVar4 == 0x64766d63) {
                  local_38 = FUN_0001c82c(puVar15 + 0x14);
                  pvVar16 = malloc(local_38);
                  pvVar9 = pvVar16;
                  if (pvVar16 == (void *)0x0) {
                    pvVar9 = (void *)0x131b;
                    pvVar16 = (void *)__android_log_assert
                                                ("!(moov_data)","awplayer",
                                                 "<%s:%d>CDX_CHECK(%s) failed.","MovParseCmov",
                                                 0x131b,"moov_data");
                    param_1 = "moov_data";
                  }
                  iVar4 = uncompress(pvVar16,&local_38,puVar15 + 0x18,uVar3 - 0x18);
                  if (iVar4 != 0) {
                    __android_log_print(6,"awplayer",&DAT_0002a6f3,"MovParseCmov",0x1320);
                    free(pvVar9);
                    return 0;
                  }
                  free(*(void **)(param_1 + 4));
                  *(void **)(param_1 + 4) = pvVar9;
                  MovParserMoov(param_1);
                  return 0;
                }
                uVar7 = 0x1312;
              }
              else {
                uVar7 = 0x1308;
              }
            }
            else {
              uVar7 = 0x1302;
            }
            puVar15 = &DAT_0002a6ba;
          }
          else {
            puVar15 = &DAT_0002a691;
            uVar7 = 0x12fc;
          }
          __android_log_print(6,"awplayer",puVar15,"MovParseCmov",uVar7);
          return 0;
        }
        uVar11 = (uVar12 + uVar3) - 8;
        goto LAB_00020f66;
      }
      iVar6 = *(int *)(param_1 + 0xfc);
      if (9 < iVar6) {
        __android_log_print(5,"awplayer",
                            "<%s:%u>: the stream of this file is large than MOV_MAX_STREAMS !!!",
                            "MovParserMoov",0x1376);
        return 0xfffffffe;
      }
      pvVar9 = malloc(0x168);
      if (pvVar9 == (void *)0x0) {
        return 0xfffffffe;
      }
      memset(pvVar9,0,0x168);
      iVar13 = *(int *)(param_1 + 0xfc);
      *(undefined *)((int)pvVar9 + 0x160) = 0;
      *(int *)((int)pvVar9 + 0x70) = iVar13;
      *(int *)((int)pvVar9 + 0x74) = iVar6;
      *(int *)(param_1 + 0xfc) = iVar13 + 1;
      *(undefined4 *)((int)pvVar9 + 0x98) = 3;
      *(undefined4 *)((int)pvVar9 + 0xb8) = 0;
      *(void **)(param_1 + (iVar13 + 0x42) * 4) = pvVar9;
      local_34 = iVar4;
      local_30 = uVar3;
      local_2c = uVar12;
      iVar6 = MovParseTrak((int)param_1,0x6b617274,uVar3,uVar12);
    }
    uVar11 = (uVar12 + uVar3) - 8;
  } while( true );
}



size_t FUN_00020fb8(undefined *param_1,char **param_2)

{
  uint uVar1;
  int iVar2;
  size_t __size;
  size_t sVar3;
  char *pcVar4;
  void *pvVar5;
  undefined4 uVar6;
  size_t sVar7;
  undefined4 extraout_r1;
  undefined4 extraout_r1_00;
  char cVar8;
  undefined uVar9;
  bool bVar10;
  undefined8 uVar11;
  ulonglong uVar12;
  int local_434;
  undefined4 auStack1068 [2];
  char acStack1060 [1016];
  int local_2c;
  
  local_2c = __stack_chk_guard;
  memset(auStack1068,0,0x400);
  local_434 = 0x69e8;
LAB_00020ff6:
  while( true ) {
    uVar1 = FUN_0001caf8(param_2);
    iVar2 = FUN_0001cc9c(param_2);
    if (iVar2 < 8) goto LAB_0002136a;
    __size = FUN_0001c82c((undefined *)auStack1068);
    sVar3 = FUN_0001c814(auStack1068 + 1);
    sVar7 = __size;
    if ((__size == 0) || (sVar7 = sVar3, sVar3 == 0)) goto LAB_00021372;
    if (sVar3 != 0x70797466) break;
    uVar1 = FUN_0001cc9c(param_2);
    iVar2 = FUN_0001c814(auStack1068);
    if (0x3f0 < __size - 0x10) {
      __android_log_print(6,"awplayer",&DAT_0002a723,"MovTop",0x13c9);
      goto LAB_0002136e;
    }
    *(undefined *)((int)auStack1068 + (__size - 8)) = 0;
    __android_log_print(3,local_434 + 0x21080,"<%s:%u>: ---- compatible = %s","MovTop",0x13cf,
                        acStack1060);
    if ((iVar2 != 0x20207471) && (pcVar4 = strstr(acStack1060,"qt  "), pcVar4 == (char *)0x0)) {
      *(undefined4 *)(param_1 + 0x15c) = 1;
    }
LAB_0002135c:
    if ((int)uVar1 < 0) {
LAB_0002136a:
      sVar7 = 0;
      goto LAB_00021372;
    }
  }
  if (sVar3 == 0x65646977) {
    if (__size == 8) goto LAB_00020ff6;
    __android_log_print(5,"awplayer","<%s:%u>: care, the \'wide\' atom size is not 8 <%d> ","MovTop"
                        ,0x13db,__size);
    if (*(int *)(param_1 + 0x2c) == 0) goto LAB_00021350;
LAB_000211e8:
    cVar8 = (char)__size + -8;
    uVar1 = 1;
    uVar9 = 0;
LAB_000211ea:
    uVar1 = FUN_0001cc1c((int *)param_2,(char)uVar1,cVar8,uVar9,1);
  }
  else {
    if (sVar3 == 0x766f6f6d) {
      if (*(int *)(param_1 + 0xf0) == 0) {
        *(undefined4 *)(param_1 + 0xf0) = 1;
        pvVar5 = malloc(__size);
        *(size_t *)(param_1 + 8) = __size;
        *(void **)(param_1 + 4) = pvVar5;
        if (pvVar5 == (void *)0x0) goto LAB_0002136e;
        memset(pvVar5,0,__size);
        memcpy(*(void **)(param_1 + 4),auStack1068,8);
        FUN_0001cc9c(param_2);
      }
      else {
        if (*(int *)(param_1 + 0x2c) == 0) {
          uVar1 = FUN_0001cd40(param_2,__size - 8);
        }
        else {
          uVar1 = FUN_0001cc1c((int *)param_2,1,(char)(__size - 8),0,1);
        }
        if ((int)uVar1 < 0) goto LAB_0002136e;
      }
      uVar1 = MovParserMoov(param_1);
      if (*(int *)(param_1 + 0xf4) == 0) goto LAB_0002135c;
      goto LAB_0002136a;
    }
    if (sVar3 == 0x7461646d) {
      *(undefined4 *)(param_1 + 0xf4) = 1;
      *(int *)(param_1 + 0x158) = *(int *)(param_1 + 0x158) + 1;
      if (*(int *)(param_1 + 0xf0) != 0) goto LAB_0002136a;
      if (__size == 1) {
        FUN_0001cc9c(param_2);
        uVar12 = FUN_0001c844((undefined *)auStack1068);
        uVar1 = (uint)(uVar12 >> 0x20);
        if (*(int *)(param_1 + 0x2c) != 0) {
          uVar11 = VectorAdd(((ulonglong)uVar1 << 0x20) + (uVar12 & 0xffffffff),0xfffffffffffffff0,8
                            );
          uVar9 = (undefined)((ulonglong)uVar11 >> 0x20);
          cVar8 = (char)uVar11;
          goto LAB_000211ea;
        }
        pvVar5 = malloc((int)uVar12 - 0x10);
        iVar2 = FUN_0001cc9c(param_2);
        free(pvVar5);
        bVar10 = iVar2 < 0;
      }
      else {
        if (*(int *)(param_1 + 0x2c) != 0) goto LAB_000211e8;
        pvVar5 = malloc(__size - 8);
        iVar2 = FUN_0001cc9c(param_2);
        free(pvVar5);
        bVar10 = iVar2 < 0;
      }
      goto LAB_00021356;
    }
    if (sVar3 != 0x70797473) {
      if (sVar3 == 0x78646973) {
        *(undefined4 *)(param_1 + 0xa8) = 1;
        *(undefined4 *)(param_1 + 0x6c) = 1;
        uVar1 = FUN_0001cdf8((int)param_1,param_2,__size,uVar1);
        goto LAB_0002135c;
      }
      if (sVar3 != 0x666f6f6d) {
        if (*(int *)(param_1 + 0x2c) != 0) goto LAB_000211e8;
        goto LAB_00021350;
      }
      __android_log_print(3,"awplayer","<%s:%u>: the mov file contain movie fragment box!","MovTop",
                          0x145f);
      *(undefined4 *)(param_1 + 0xa8) = 1;
      if ((*(uint *)(param_1 + 0x88) | *(uint *)(param_1 + 0x8c)) == 0) {
        uVar6 = FUN_0001caf8(param_2);
        uVar11 = VectorAdd(CONCAT44(extraout_r1,uVar6),0xfffffffffffffff8,8);
        *(undefined8 *)(param_1 + 0x88) = uVar11;
      }
      uVar6 = FUN_0001caf8(param_2);
      uVar11 = VectorAdd(CONCAT44(extraout_r1_00,uVar6),0xfffffffffffffff8,8);
      *(undefined8 *)(param_1 + 0xc0) = uVar11;
      if (*(int *)(param_1 + 0x2c) == 0) {
        uVar1 = FUN_0001cd40(param_2,__size - 8);
      }
      else {
        uVar1 = FUN_0001cc1c((int *)param_2,1,(char)(__size - 8),0,1);
      }
      if ((int)uVar1 < 0) {
        sVar7 = 0xffffffff;
      }
      else {
        sVar7 = 0;
      }
      goto LAB_00021372;
    }
    uVar9 = 0;
    uVar1 = 1;
    *(undefined4 *)(param_1 + 0x94) = 0;
    *(undefined4 *)(param_1 + 0xa8) = 1;
    cVar8 = (char)__size + -8;
    if (*(int *)(param_1 + 0x2c) != 0) goto LAB_000211ea;
LAB_00021350:
    uVar1 = FUN_0001cd40(param_2,__size - 8);
  }
  bVar10 = (int)uVar1 < 0;
LAB_00021356:
  if (bVar10) {
LAB_0002136e:
    sVar7 = 0xffffffff;
LAB_00021372:
    if (local_2c != __stack_chk_guard) {
                    // WARNING: Subroutine does not return
      __stack_chk_fail();
    }
    return sVar7;
  }
  goto LAB_00020ff6;
}



undefined4 CdxMovOpen(int param_1,char **param_2)

{
  char *__s;
  char *pcVar1;
  undefined4 uVar2;
  size_t sVar3;
  char **ppcVar4;
  char **ppcVar5;
  char *pcVar6;
  undefined4 uVar7;
  
  if (param_1 != 0) {
    ppcVar5 = *(char ***)(param_1 + 0x68);
    *ppcVar5 = (char *)param_2;
    if (param_2 != (char **)0x0) {
      if (*(int *)(param_1 + 100) == 0) {
        sVar3 = FUN_00020fb8((undefined *)ppcVar5,param_2);
        if (sVar3 != 0) {
          return 0xffffffff;
        }
        ppcVar4 = (char **)ppcVar5[0x53];
        if (1 < (int)ppcVar4) {
          __android_log_print(5,"awplayer",
                                                            
                              "<%s:%u>: ---  video stream number <%d>, only support one video stream"
                              ,"CdxMovOpen",0x14b7,ppcVar4);
          param_2 = ppcVar4;
        }
        if (*(short *)(ppcVar5 + 0x51) != 0) {
          return 0;
        }
        if (*(short *)((int)ppcVar5 + 0x142) != 0) {
          return 0;
        }
        uVar7 = 0x14bc;
        pcVar6 = "<%s:%u>: Neither audio nor video is recognized!\n";
        uVar2 = 5;
      }
      else {
        pcVar6 = ppcVar5[0x3f];
        if (((int)pcVar6 < 10) && (__s = (char *)malloc(0x168), __s != (char *)0x0)) {
          memset(__s,0,0x168);
          pcVar1 = ppcVar5[0x3f];
          *(char **)(__s + 0x74) = pcVar6;
          *(undefined4 *)(__s + 0x48) = 1;
          *(char **)(__s + 0x70) = pcVar1;
          __s[0x160] = '\0';
          *(undefined4 *)(__s + 0x4c) = 0;
          *(undefined4 *)(__s + 0x98) = 0;
          pcVar6 = ppcVar5[0x3f];
          ppcVar5[0x3f] = pcVar6 + 1;
          ppcVar5[(int)(pcVar6 + 0x42)] = __s;
          ppcVar5[0x2a] = (char *)0x1;
          *(undefined2 *)((int)ppcVar5 + 0x142) = 1;
          ppcVar5[0x53] = (char *)0x1;
          *(undefined2 *)(ppcVar5 + 0x4f) = 0;
          *(undefined4 *)(ppcVar5[0x42] + 0x5c) = 10000000;
          return 0;
        }
        uVar7 = 0x149d;
        pcVar6 = "<%s:%u>: \x1b[40;31mnew stream failed.\x1b[0m";
        uVar2 = 6;
      }
      __android_log_print(uVar2,"awplayer",pcVar6,"CdxMovOpen",uVar7,param_2);
    }
  }
  return 0xffffffff;
}



undefined8 CdxMovClose(int param_1)

{
  undefined4 *puVar1;
  uint uVar2;
  void *__ptr;
  int **ppiVar3;
  char *pcVar4;
  char *pcVar5;
  char *pcVar6;
  int **ppiVar7;
  uint uVar8;
  int iVar9;
  
  if (param_1 == 0) {
    ppiVar3 = (int **)0xffff;
    goto LAB_00021624;
  }
  ppiVar7 = *(int ***)(param_1 + 0x68);
  ppiVar3 = ppiVar7;
  if (ppiVar7 == (int **)0x0) goto LAB_00021624;
  if (ppiVar7[0x1c] != (int *)0x0) {
    free(ppiVar7[0x1c]);
    ppiVar7[0x1c] = (int *)0x0;
  }
  if (ppiVar7[1] != (int *)0x0) {
    free(ppiVar7[1]);
    ppiVar7[1] = (int *)0x0;
  }
  if (ppiVar7[0x36] != (int *)0x0) {
    free(ppiVar7[0x36]);
    ppiVar7[0x36] = (int *)0x0;
  }
  if (ppiVar7[0xb6] != (int *)0x0) {
    free(ppiVar7[0xb6]);
    ppiVar7[0xb6] = (int *)0x0;
  }
  if (ppiVar7[0x6b] != (int *)0x0) {
    free(ppiVar7[0x6b]);
    ppiVar7[0x6b] = (int *)0x0;
  }
  uVar8 = 0;
  if (ppiVar7[0x38] != (int *)0x0) {
    while( true ) {
      uVar2 = aw_list_count((int)ppiVar7[0x38]);
      if (uVar2 <= uVar8) break;
      puVar1 = aw_list_get(ppiVar7[0x38],uVar8);
      if (puVar1 != (undefined4 *)0x0) {
        free(puVar1);
      }
      uVar8 = uVar8 + 1;
    }
    aw_list_del((void **)ppiVar7[0x38]);
    ppiVar7[0x38] = (int *)0x0;
  }
  uVar8 = 0;
  if (ppiVar7[0x39] != (int *)0x0) {
    while( true ) {
      uVar2 = aw_list_count((int)ppiVar7[0x39]);
      if (uVar2 <= uVar8) break;
      puVar1 = aw_list_get(ppiVar7[0x39],uVar8);
      if (puVar1 != (undefined4 *)0x0) {
        free(puVar1);
      }
      uVar8 = uVar8 + 1;
    }
    aw_list_del((void **)ppiVar7[0x39]);
    ppiVar7[0x39] = (int *)0x0;
  }
  iVar9 = 0;
  while (iVar9 < (int)ppiVar7[0x3f]) {
    if (ppiVar3[0x42] != (int *)0x0) {
      __ptr = (void *)ppiVar3[0x42][0x2e];
      if (__ptr != (void *)0x0) {
        free(__ptr);
        ppiVar3[0x42][0x2e] = 0;
      }
      if ((void *)ppiVar3[0x42][0xe] != (void *)0x0) {
        free((void *)ppiVar3[0x42][0xe]);
        ppiVar3[0x42][0xe] = 0;
      }
      free(ppiVar3[0x42]);
      ppiVar3[0x42] = (int *)0x0;
    }
    iVar9 = iVar9 + 1;
    ppiVar3 = ppiVar3 + 1;
  }
  if (ppiVar7[0x40] != (int *)0x0) {
    free(ppiVar7[0x40]);
    ppiVar7[0x40] = (int *)0x0;
  }
  param_1 = 0x1527;
  __android_log_print(3,"awplayer","<%s:%u>: mov close stream = %p","CdxMovClose",0x1527,*ppiVar7);
  ppiVar3 = (int **)*ppiVar7;
  if (ppiVar3 == (int **)0x0) goto LAB_00021624;
  if (*ppiVar3 == (int *)0x0) {
    ppiVar7 = (int **)&DAT_00000165;
    pcVar4 = "!(stream->ops)";
    param_1 = 0x165;
    pcVar5 = "stream->ops";
LAB_0002160a:
    pcVar6 = "CdxStreamClose";
    __android_log_assert
              (pcVar4,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamClose",param_1,pcVar5);
  }
  else {
    pcVar6 = *(char **)((int)*ppiVar3 + 0xc);
    if ((code *)pcVar6 == (code *)0x0) {
      pcVar4 = "!(stream->ops->close)";
      param_1 = 0x166;
      pcVar5 = "stream->ops->close";
      goto LAB_0002160a;
    }
  }
  (*(code *)pcVar6)();
  *ppiVar7 = (int *)0x0;
  ppiVar3 = (int **)0x0;
LAB_00021624:
  return CONCAT44(param_1,(int)(short)ppiVar3);
}



int CdxMovExit(void *param_1)

{
  short sVar1;
  
  sVar1 = -1;
  if (param_1 != (void *)0x0) {
    if (*(void **)((int)param_1 + 500) != (void *)0x0) {
      free(*(void **)((int)param_1 + 500));
      *(undefined4 *)((int)param_1 + 500) = 0;
    }
    if (*(void **)((int)param_1 + 0x68) != (void *)0x0) {
      free(*(void **)((int)param_1 + 0x68));
      *(undefined4 *)((int)param_1 + 0x68) = 0;
    }
    free(param_1);
    sVar1 = 0;
  }
  return (int)sVar1;
}



int CdxMovRead(int param_1,undefined4 param_2)

{
  short sVar1;
  int iVar2;
  
  if (param_1 == 0) {
    __android_log_print(5,"awplayer","<%s:%u>: mov reader handle is invalid!\n","CdxMovRead",0x155a,
                        param_2);
    sVar1 = -1;
  }
  else {
    if (*(int *)(*(int *)(param_1 + 0x68) + 0xa8) == 0) {
      iVar2 = MovReadSample(param_1);
      sVar1 = (short)iVar2;
    }
    else {
      iVar2 = MovReadSampleFragment(param_1);
      sVar1 = (short)iVar2;
    }
    *(undefined4 *)(param_1 + 0x88) = 0;
  }
  return (int)sVar1;
}



undefined4 CdxMovSeek(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  uint uVar1;
  undefined4 uVar2;
  int **ppiVar3;
  uint *puVar4;
  char *extraout_r1;
  char *pcVar5;
  uint uVar6;
  char *pcVar7;
  char **ppcVar8;
  char *pcVar9;
  undefined4 *puVar10;
  undefined4 uVar11;
  int iVar12;
  char **ppcVar13;
  uint uVar14;
  ulonglong uVar15;
  undefined4 uVar16;
  undefined4 uStack128;
  char **local_7c;
  uint auStack120 [21];
  
  ppcVar13 = *(char ***)(param_1 + 0x68);
  local_7c = (char **)*ppcVar13;
  uVar1 = __aeabi_ldivmod(param_3,param_4,1000,0);
  uVar11 = *(undefined4 *)(param_1 + 0x74);
  uVar6 = uVar1;
  __android_log_print(3,"awplayer","<%s:%u>: =============mov seek to: %d ms, totaltime = %d ms\n",
                      "CdxMovSeek",0x1578,uVar1,uVar11);
  if ((int)uVar1 < 0) {
    uVar16 = 0x157c;
    uVar2 = 5;
    pcVar7 = "<%s:%u>: The parameter for jump play is invalid!\n";
    goto LAB_000218c8;
  }
  if (ppcVar13[0xb] == (char *)0x0) {
    uVar2 = 3;
    uVar16 = 0x1582;
    pcVar7 = "<%s:%u>: -- can not seekable";
    goto LAB_000218c8;
  }
  iVar12 = 0;
  ppcVar8 = ppcVar13;
  while (iVar12 < (int)(uint)*(ushort *)((int)ppcVar13 + 0x146)) {
    iVar12 = iVar12 + 1;
    *(undefined4 *)(ppcVar13[(int)(ppcVar8[0x16] + 0x42)] + 0x15c) = 1;
    ppcVar8 = ppcVar8 + 1;
  }
  pcVar7 = ppcVar13[0x2a];
  if (pcVar7 == (char *)0x0) {
    if (*(int *)(param_1 + 0x74) <= (int)uVar1) {
      *(undefined4 *)(param_1 + 0x54) = 7;
      return 1;
    }
    uVar14 = (uint)*(ushort *)((int)ppcVar13 + 0x142);
    if (uVar14 == 0) {
LAB_00021900:
      iVar12 = MovSeekSample(param_1,uVar14,uVar1);
      if (-1 < iVar12) {
        iVar12 = FUN_0001cb78(local_7c);
        if (-1 < iVar12 << 0x1d) goto LAB_000217fe;
        pcVar7 = ppcVar13[0x3f];
        iVar12 = 0;
        puVar10 = &uStack128;
        while (iVar12 < (int)pcVar7) {
          iVar12 = iVar12 + 1;
          puVar10[2] = 0xffffffff;
          puVar10[3] = 0xffffffff;
          puVar10 = puVar10 + 2;
        }
        iVar12 = 0;
        puVar4 = auStack120;
        ppcVar8 = ppcVar13;
        while (iVar12 < (int)ppcVar13[0x3f]) {
          pcVar7 = ppcVar8[0x42];
          if ((*(int *)(pcVar7 + 0x48) != 0) && (*(short *)(pcVar7 + 0x150) == 0)) {
            if ((*(int *)(pcVar7 + 0x48) == 1) && (*(int *)(pcVar7 + 0x4c) != 0)) {
              *(undefined2 *)(pcVar7 + 0x150) = 1;
            }
            else {
              uVar15 = FUN_0001c888((int)ppcVar13,(int)pcVar7,*(int *)(pcVar7 + 0x110));
              *puVar4 = (uint)uVar15;
              puVar4[1] = (uint)(uVar15 >> 0x20);
            }
          }
          iVar12 = iVar12 + 1;
          ppcVar8 = ppcVar8 + 1;
          puVar4 = puVar4 + 2;
        }
        iVar12 = FUN_0001c8ae(auStack120,(int)ppcVar13[0x3f]);
        uVar6 = ~auStack120[iVar12 * 2] | ~auStack120[iVar12 * 2 + 1];
        if (uVar6 == 0) goto LAB_000217fe;
        puVar4 = (uint *)FUN_0001cc1c((int *)local_7c,(char)uVar6,(char)auStack120[iVar12 * 2],
                                      (char)auStack120[iVar12 * 2 + 1],0);
        goto LAB_000219ba;
      }
      uVar16 = 0x1605;
      pcVar7 = "<%s:%u>: Seek sample failed!\n";
    }
    else {
      uVar14 = MovTimeToSample(param_1,uVar1);
      if (-1 < (int)uVar14) {
        __android_log_print(3,"awplayer","<%s:%u>: ############## sfrmidx = [%d]","CdxMovSeek",
                            0x15e4,uVar14,uVar11);
        uVar14 = MovFindKeyframe(param_1,0,uVar14);
        uVar6 = uVar14;
        __android_log_print(3,"awplayer","<%s:%u>: --- key frame = %d","CdxMovSeek",0x15e6,uVar14);
        if ((int)uVar14 < 0) {
          uVar16 = 0x15e9;
          uVar2 = 5;
          pcVar7 = "<%s:%u>: look for key frame failed!\n";
          goto LAB_000218c8;
        }
        pcVar9 = ppcVar13[*(ushort *)(ppcVar13 + 0x4f) + 0x42];
        if (*(int *)(pcVar9 + 0x38) != 0) {
          pcVar5 = pcVar7;
          while ((int)pcVar7 < *(int *)(pcVar9 + 0x34)) {
            iVar12 = (int)pcVar7 * 8;
            if ((int)uVar14 < (int)(pcVar5 + *(int *)(*(int *)(pcVar9 + 0x38) + iVar12))) {
              *(char **)(pcVar9 + 0x40) = pcVar7;
              *(uint *)(pcVar9 + 0x44) = uVar14 - (int)pcVar5;
              break;
            }
            pcVar7 = pcVar7 + 1;
            pcVar5 = pcVar5 + *(int *)(*(int *)(pcVar9 + 0x38) + iVar12);
          }
        }
        goto LAB_00021900;
      }
      uVar16 = 0x15e0;
      pcVar7 = "<%s:%u>: TimeToSample failed!\n";
    }
    uVar2 = 5;
LAB_000218c8:
    __android_log_print(uVar2,"awplayer",pcVar7,"CdxMovSeek",uVar16,uVar6,uVar11);
    return 0xffffffff;
  }
  while (iVar12 = aw_list_count((int)ppcVar13[0x38]), iVar12 != 0) {
    ppiVar3 = aw_list_last((int **)ppcVar13[0x38]);
    aw_list_rem_last((void **)ppcVar13[0x38]);
    if (ppiVar3 != (int **)0x0) {
      free(ppiVar3);
    }
  }
  while (iVar12 = aw_list_count((int)ppcVar13[0x39]), iVar12 != 0) {
    ppiVar3 = aw_list_last((int **)ppcVar13[0x39]);
    aw_list_rem_last((void **)ppcVar13[0x39]);
    if (ppiVar3 != (int **)0x0) {
      free(ppiVar3);
    }
  }
  if ((*(int *)(param_1 + 0x60) == 0) && (*(int *)(param_1 + 100) == 0)) {
    if ((*(short *)((int)ppcVar13 + 0x142) != 0) &&
       (puVar4 = MovTimeToSampleSidx(param_1,uVar1,(uint)*(ushort *)(ppcVar13 + 0x4f)),
       (int)puVar4 < 0)) {
      return 0xffffffff;
    }
    if ((*(short *)(ppcVar13 + 0x51) != 0) &&
       (puVar4 = MovTimeToSampleSidx(param_1,uVar1,(uint)*(ushort *)((int)ppcVar13 + 0x13e)),
       (int)puVar4 < 0)) {
      return 0xffffffff;
    }
    pcVar7 = (char *)FUN_0001caf8(local_7c);
    ppcVar13[0x26] = pcVar7;
    ppcVar13[0x27] = extraout_r1;
    goto LAB_000217fe;
  }
  MovReadSampleFragment(param_1);
  if ((*(short *)((int)ppcVar13 + 0x142) != 0) &&
     (puVar4 = MovTimeToSampleSidx(param_1,uVar1,(uint)*(ushort *)(ppcVar13 + 0x4f)),
     (int)puVar4 < 0)) {
    return 0xffffffff;
  }
  if (*(short *)(ppcVar13 + 0x51) == 0) goto LAB_000217fe;
  puVar4 = MovTimeToSampleSidx(param_1,uVar1,(uint)*(ushort *)((int)ppcVar13 + 0x13e));
LAB_000219ba:
  if ((int)puVar4 < 0) {
    return 0xffffffff;
  }
LAB_000217fe:
  iVar12 = 0;
  ppcVar8 = ppcVar13;
  while (iVar12 < (int)ppcVar13[0x3f]) {
    pcVar7 = ppcVar8[0x42];
    if ((*(int *)(pcVar7 + 0x48) != 0) && (*(int *)(pcVar7 + 0x50) == 0)) {
      *(undefined2 *)(pcVar7 + 0x150) = 0;
    }
    iVar12 = iVar12 + 1;
    ppcVar8 = ppcVar8 + 1;
  }
  __android_log_print(3,"awplayer","<%s:%u>: ---- seek end","CdxMovSeek",0x163d);
  return 0;
}



undefined4
_edata(int param_1,undefined4 param_2,int param_3,int param_4,undefined4 param_5,undefined param_6,
      undefined param_7,undefined param_8,undefined param_9,char **param_10,uint param_11)

{
  int **ppiVar1;
  undefined4 uVar2;
  uint *puVar3;
  undefined4 extraout_r1;
  int iVar4;
  char *pcVar5;
  int iVar6;
  undefined4 *puVar7;
  int unaff_r4;
  int unaff_r5;
  uint unaff_r6;
  uint uVar8;
  int iVar9;
  int unaff_r11;
  int iVar10;
  ulonglong uVar11;
  
  while( true ) {
    *(undefined4 *)(*(int *)(unaff_r4 + (param_1 + 0x42) * 4) + 0x15c) = param_2;
    if ((int)(uint)*(ushort *)(unaff_r4 + 0x146) <= param_4) break;
    param_1 = *(int *)(param_3 + 0x58);
    param_4 = param_4 + 1;
    param_3 = param_3 + 4;
  }
  iVar9 = *(int *)(unaff_r4 + 0xa8);
  if (iVar9 == 0) {
    if (*(int *)(unaff_r5 + 0x74) <= (int)unaff_r6) {
      *(undefined4 *)(unaff_r5 + 0x54) = 7;
      return 1;
    }
    uVar8 = (uint)*(ushort *)(unaff_r4 + 0x142);
    if (uVar8 == 0) {
LAB_00021900:
      iVar9 = MovSeekSample(unaff_r5,uVar8,unaff_r6);
      if (-1 < iVar9) {
        iVar9 = FUN_0001cb78(param_10);
        if (-1 < iVar9 << 0x1d) goto LAB_000217fe;
        iVar9 = *(int *)(unaff_r4 + 0xfc);
        iVar6 = 0;
        puVar7 = (undefined4 *)&param_9;
        while (iVar6 < iVar9) {
          iVar6 = iVar6 + 1;
          puVar7[2] = 0xffffffff;
          puVar7[3] = 0xffffffff;
          puVar7 = puVar7 + 2;
        }
        iVar6 = 0;
        puVar3 = &param_11;
        iVar9 = unaff_r4;
        while (iVar6 < *(int *)(unaff_r4 + 0xfc)) {
          iVar4 = *(int *)(iVar9 + 0x108);
          if ((*(int *)(iVar4 + 0x48) != 0) && (*(short *)(iVar4 + 0x150) == 0)) {
            if ((*(int *)(iVar4 + 0x48) == 1) && (*(int *)(iVar4 + 0x4c) != 0)) {
              *(undefined2 *)(iVar4 + 0x150) = 1;
            }
            else {
              uVar11 = FUN_0001c888(unaff_r4,iVar4,*(int *)(iVar4 + 0x110));
              *puVar3 = (uint)uVar11;
              puVar3[1] = (uint)(uVar11 >> 0x20);
            }
          }
          iVar6 = iVar6 + 1;
          iVar9 = iVar9 + 4;
          puVar3 = puVar3 + 2;
        }
        iVar9 = FUN_0001c8ae(&param_11,*(int *)(unaff_r4 + 0xfc));
        uVar8 = ~(&param_11)[iVar9 * 2] | ~*(uint *)(&stack0x0000001c + iVar9 * 8);
        if (uVar8 == 0) goto LAB_000217fe;
        puVar3 = (uint *)FUN_0001cc1c((int *)param_10,(char)uVar8,(char)(&param_11)[iVar9 * 2],
                                      (char)*(uint *)(&stack0x0000001c + iVar9 * 8),0);
        goto LAB_000219ba;
      }
      pcVar5 = "<%s:%u>: Seek sample failed!\n";
    }
    else {
      uVar8 = MovTimeToSample(unaff_r5,unaff_r6);
      if ((int)uVar8 < 0) {
        pcVar5 = "<%s:%u>: TimeToSample failed!\n";
      }
      else {
        __android_log_print(3,"awplayer","<%s:%u>: ############## sfrmidx = [%d]","CdxMovSeek");
        uVar8 = MovFindKeyframe(unaff_r5,0,uVar8);
        __android_log_print(3,"awplayer","<%s:%u>: --- key frame = %d","CdxMovSeek");
        if (-1 < (int)uVar8) {
          iVar6 = *(int *)(unaff_r4 + (*(ushort *)(unaff_r4 + 0x13c) + 0x42) * 4);
          if (*(int *)(iVar6 + 0x38) != 0) {
            iVar4 = iVar9;
            while (iVar9 < *(int *)(iVar6 + 0x34)) {
              iVar10 = *(int *)(*(int *)(iVar6 + 0x38) + iVar9 * 8) + iVar4;
              if ((int)uVar8 < iVar10) {
                *(int *)(iVar6 + 0x40) = iVar9;
                *(uint *)(iVar6 + 0x44) = uVar8 - iVar4;
                break;
              }
              iVar9 = iVar9 + 1;
              iVar4 = iVar10;
            }
          }
          goto LAB_00021900;
        }
        pcVar5 = "<%s:%u>: look for key frame failed!\n";
      }
    }
    __android_log_print(5,"awplayer",pcVar5,"CdxMovSeek");
  }
  else {
    while (iVar9 = aw_list_count(*(int *)(unaff_r4 + 0xe0)), iVar9 != 0) {
      ppiVar1 = aw_list_last(*(int ***)(unaff_r4 + 0xe0));
      aw_list_rem_last(*(void ***)(unaff_r4 + 0xe0));
      if (ppiVar1 != (int **)0x0) {
        free(ppiVar1);
      }
    }
    while (iVar9 = aw_list_count(*(int *)(unaff_r4 + 0xe4)), iVar9 != 0) {
      ppiVar1 = aw_list_last(*(int ***)(unaff_r4 + 0xe4));
      aw_list_rem_last(*(void ***)(unaff_r4 + 0xe4));
      if (ppiVar1 != (int **)0x0) {
        free(ppiVar1);
      }
    }
    if ((*(int *)(unaff_r5 + 0x60) == 0) && (*(int *)(unaff_r5 + 100) == 0)) {
      if ((*(short *)(unaff_r4 + 0x142) != 0) &&
         (puVar3 = MovTimeToSampleSidx(unaff_r5,unaff_r6,(uint)*(ushort *)(unaff_r4 + 0x13c)),
         (int)puVar3 < 0)) {
        return 0xffffffff;
      }
      if ((*(short *)(unaff_r4 + 0x144) != 0) &&
         (puVar3 = MovTimeToSampleSidx(unaff_r5,unaff_r6,(uint)*(ushort *)(unaff_r4 + 0x13e)),
         (int)puVar3 < 0)) {
        return 0xffffffff;
      }
      uVar2 = FUN_0001caf8(param_10);
      *(undefined4 *)(unaff_r4 + 0x98) = uVar2;
      *(undefined4 *)(unaff_r4 + 0x9c) = extraout_r1;
      goto LAB_000217fe;
    }
    MovReadSampleFragment(unaff_r5);
    if ((*(short *)(unaff_r4 + 0x142) != 0) &&
       (puVar3 = MovTimeToSampleSidx(unaff_r5,unaff_r6,(uint)*(ushort *)(unaff_r4 + 0x13c)),
       (int)puVar3 < 0)) {
      return 0xffffffff;
    }
    if (*(short *)(unaff_r4 + 0x144) == 0) goto LAB_000217fe;
    puVar3 = MovTimeToSampleSidx(unaff_r5,unaff_r6,(uint)*(ushort *)(unaff_r4 + 0x13e));
LAB_000219ba:
    if (-1 < (int)puVar3) {
LAB_000217fe:
      iVar9 = 0;
      while (iVar9 < *(int *)(unaff_r4 + 0xfc)) {
        iVar6 = *(int *)(unaff_r11 + 0x108);
        if ((*(int *)(iVar6 + 0x48) != 0) && (*(int *)(iVar6 + 0x50) == 0)) {
          *(undefined2 *)(iVar6 + 0x150) = 0;
        }
        iVar9 = iVar9 + 1;
        unaff_r11 = unaff_r11 + 4;
      }
      __android_log_print(3,"awplayer","<%s:%u>: ---- seek end","CdxMovSeek");
      return 0;
    }
  }
  return 0xffffffff;
}



void * CdxMovInit(undefined4 *param_1)

{
  void *__s;
  void *pvVar1;
  undefined4 uVar2;
  
  *param_1 = 0;
  __s = malloc(0x1f8);
  if (__s != (void *)0x0) {
    memset(__s,0,0x1f8);
    *(undefined4 *)((int)__s + 0x68) = 0;
    *(undefined4 *)((int)__s + 0x54) = 1;
    pvVar1 = malloc(0x2e0);
    if (pvVar1 != (void *)0x0) {
      memset(pvVar1,0,0x2e0);
      *(void **)((int)__s + 0x68) = pvVar1;
      *(void **)((int)pvVar1 + 0x1b0) = __s;
      uVar2 = aw_list_new();
      *(undefined4 *)((int)pvVar1 + 0xe0) = uVar2;
      uVar2 = aw_list_new();
      *(undefined4 *)((int)pvVar1 + 0xe4) = uVar2;
      pvVar1 = malloc(0x3c);
      *(void **)((int)__s + 500) = pvVar1;
      if (pvVar1 != (void *)0x0) {
        memset(pvVar1,0,0x3c);
        return __s;
      }
    }
  }
  *param_1 = 0xffffffff;
  return __s;
}



int CdxMovSetStream(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  uint uVar3;
  void *pvVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  
  iVar6 = *(int *)(param_1 + 0x68);
  iVar7 = *(int *)(iVar6 + (*(ushort *)(iVar6 + 0x13c) + 0x42) * 4);
  *(undefined4 *)(iVar6 + 0x164) = *(undefined4 *)(iVar7 + 8);
  *(undefined4 *)(iVar6 + 0x170) = *(undefined4 *)(iVar7 + 0xc);
  *(undefined4 *)(iVar6 + 0x17c) = *(undefined4 *)(iVar7 + 0x10);
  *(undefined4 *)(iVar6 + 0x188) = *(undefined4 *)(iVar7 + 0x14);
  *(undefined4 *)(iVar6 + 0x18c) = *(undefined4 *)(iVar7 + 0x18);
  *(undefined4 *)(iVar6 + 0x198) = *(undefined4 *)(iVar7 + 0x54);
  iVar1 = *(int *)(iVar6 + (*(ushort *)(iVar6 + 0x13e) + 0x42) * 4);
  *(undefined4 *)(iVar6 + 0x168) = *(undefined4 *)(iVar1 + 8);
  *(undefined4 *)(iVar6 + 0x174) = *(undefined4 *)(iVar1 + 0xc);
  *(undefined4 *)(iVar6 + 0x180) = *(undefined4 *)(iVar1 + 0x10);
  *(undefined4 *)(iVar6 + 400) = *(undefined4 *)(iVar1 + 0x18);
  *(undefined4 *)(iVar6 + 0x19c) = *(undefined4 *)(iVar1 + 0x54);
  iVar5 = *(int *)(iVar6 + (*(ushort *)(iVar6 + 0x140) + 0x42) * 4);
  *(undefined4 *)(iVar6 + 0x16c) = *(undefined4 *)(iVar5 + 8);
  *(undefined4 *)(iVar6 + 0x178) = *(undefined4 *)(iVar5 + 0xc);
  *(undefined4 *)(iVar6 + 0x184) = *(undefined4 *)(iVar5 + 0x10);
  *(undefined4 *)(iVar6 + 0x194) = *(undefined4 *)(iVar5 + 0x18);
  *(undefined4 *)(iVar6 + 0x130) = *(undefined4 *)(iVar7 + 0xd8);
  *(undefined4 *)(iVar6 + 0x134) = *(undefined4 *)(iVar1 + 0xd8);
  *(undefined4 *)(iVar6 + 0x138) = *(undefined4 *)(iVar5 + 0xd8);
  *(undefined4 *)(iVar6 + 0x1a0) = *(undefined4 *)(iVar5 + 0x54);
  if (*(short *)(iVar6 + 0x142) != 0) {
    *(undefined4 *)(param_1 + 0xac) = 1;
    *(undefined4 *)(iVar6 + 0x160) = *(undefined4 *)(iVar7 + 0xd4);
    if (*(int *)(iVar7 + 8) == 1) {
      uVar2 = FUN_0001c85e(iVar6,iVar7,4);
      *(undefined4 *)(iVar6 + 0x1a8) = uVar2;
    }
    if ((1 < *(uint *)(iVar7 + 0x18)) || (1 < *(uint *)(iVar7 + 8))) {
      uVar3 = *(uint *)(iVar7 + 0x14);
      if (uVar3 < 0x200001) {
        iVar1 = 1;
        if (0x4000 < uVar3) {
          iVar1 = (uVar3 >> 0xe) + 1;
          iVar5 = __aeabi_uidiv(uVar3,iVar1);
          uVar3 = iVar5 + 1;
        }
        pvVar4 = malloc(uVar3 * 0x18);
        *(void **)(iVar6 + 0x1ac) = pvVar4;
        if (pvVar4 == (void *)0x0) {
          return -1;
        }
        MovBuildKeyframeIdx(param_1,iVar1);
        *(int *)(param_1 + 0xac) = iVar1;
      }
      else {
        *(undefined4 *)(iVar7 + 0x14) = 0;
      }
    }
  }
  if (*(short *)(iVar6 + 0x144) != 0) {
    iVar1 = *(int *)(*(int *)(iVar6 + (*(ushort *)(iVar6 + 0x13e) + 0x42) * 4) + 0xd4);
    if (*(int *)(iVar6 + 0x160) < iVar1) {
      *(int *)(iVar6 + 0x160) = iVar1;
    }
  }
  uVar3 = *(uint *)(iVar6 + 0x160);
  *(uint *)(param_1 + 0x74) = uVar3;
  if (uVar3 < *(uint *)(iVar6 + 0x90)) {
    *(uint *)(param_1 + 0x74) = *(uint *)(iVar6 + 0x90);
  }
  if (*(uint *)(param_1 + 0x74) < *(uint *)(iVar6 + 0x80)) {
    *(uint *)(param_1 + 0x74) = *(uint *)(iVar6 + 0x80);
  }
  __android_log_print(3,"awplayer","<%s:%u>: mvhd = %d, ","CdxMovSetStream",0x16d0,
                      *(undefined4 *)(iVar6 + 0x90));
  *(uint *)(param_1 + 0x78) = (uint)(1 < *(uint *)(iVar6 + 0x188));
  iVar1 = *(int *)(iVar6 + 0x6c);
  if (iVar1 != 0) {
    iVar1 = 0;
    *(undefined4 *)(param_1 + 0x78) = 1;
  }
  return iVar1;
}



void FUN_00021c5c(int param_1)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  byte bVar4;
  byte *pbVar5;
  byte *pbVar6;
  byte *pbVar7;
  int iVar8;
  uint uVar9;
  
  pbVar5 = *(byte **)(param_1 + 0x10);
  *(undefined4 *)(param_1 + 0x1c) = *(undefined4 *)(param_1 + 0x20);
  pbVar7 = *(byte **)(param_1 + 0x14);
  if (pbVar5 < pbVar7 + 4) {
    iVar8 = 4;
    *(undefined4 *)(param_1 + 0x20) = 0;
    do {
      pbVar6 = *(byte **)(param_1 + 0x14);
      pbVar7 = pbVar6;
      if (pbVar5 < pbVar6) {
        pbVar7 = *(byte **)(param_1 + 0xc);
      }
      if (pbVar5 < pbVar6) {
        *(byte **)(param_1 + 0x14) = pbVar7;
      }
      uVar9 = *(int *)(param_1 + 0x20) << 8;
      *(uint *)(param_1 + 0x20) = uVar9;
      *(uint *)(param_1 + 0x20) = uVar9 | **(byte **)(param_1 + 0x14);
      *(byte **)(param_1 + 0x14) = *(byte **)(param_1 + 0x14) + 1;
      iVar8 = iVar8 + -1;
      *(int *)(param_1 + 4) = *(int *)(param_1 + 4) + 1;
    } while (iVar8 != 0);
  }
  else {
    bVar1 = pbVar7[1];
    bVar2 = *pbVar7;
    bVar3 = pbVar7[3];
    bVar4 = pbVar7[2];
    *(byte **)(param_1 + 0x14) = pbVar7 + 4;
    *(uint *)(param_1 + 0x20) =
         (uint)bVar1 << 0x10 | (uint)bVar2 << 0x18 | (uint)bVar3 | (uint)bVar4 << 8;
    *(int *)(param_1 + 4) = *(int *)(param_1 + 4) + 4;
  }
  *(int *)(param_1 + 0x18) = *(int *)(param_1 + 0x18) + -0x20;
  return;
}



bool FUN_00021cc4(int param_1)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  
  uVar2 = *(uint *)(param_1 + 0x18);
  uVar1 = *(uint *)(param_1 + 0x1c);
  uVar3 = uVar2 + 1;
  *(uint *)(param_1 + 0x18) = uVar3;
  if (0x1f < uVar3) {
    FUN_00021c5c(param_1);
  }
  return (0x80000000U >> (uVar2 & 0xff) & uVar1) != 0;
}



uint FUN_00021cea(int param_1,int param_2)

{
  uint uVar1;
  uint uVar2;
  
  uVar2 = *(uint *)(param_1 + 0x18);
  uVar1 = (uVar2 - 0x20) + param_2;
  if (0 < (int)uVar1) {
    return (0xffffffffU >> (uVar2 & 0xff) & *(uint *)(param_1 + 0x1c)) << (uVar1 & 0xff) |
           *(uint *)(param_1 + 0x20) >> (0x20 - uVar1 & 0xff);
  }
  return (*(uint *)(param_1 + 0x1c) & 0xffffffffU >> (uVar2 & 0xff)) >>
         ((0x20 - uVar2) - param_2 & 0xff);
}



uint FUN_00021d2a(int param_1,int param_2)

{
  uint uVar1;
  uint uVar2;
  
  uVar1 = FUN_00021cea(param_1,param_2);
  uVar2 = param_2 + *(int *)(param_1 + 0x18);
  *(uint *)(param_1 + 0x18) = uVar2;
  if (0x1f < uVar2) {
    FUN_00021c5c(param_1);
  }
  return uVar1;
}



undefined4 mov_getvolhdr(byte *param_1,int param_2,uint *param_3,uint *param_4)

{
  ushort uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  undefined4 uVar5;
  byte *pbVar6;
  int iVar7;
  int local_3c;
  int local_38;
  byte *local_34;
  byte *local_30;
  byte *local_2c;
  byte *local_28;
  undefined4 local_24;
  uint local_20;
  uint local_1c;
  
  local_2c = param_1 + param_2;
  local_20 = (uint)param_1 & 3;
  local_24 = 0;
  local_38 = 0;
  if (local_20 == 0) {
    if (local_2c < param_1 + 4) {
      iVar7 = 4;
      local_28 = param_1;
      do {
        if (local_2c < local_28) {
          local_28 = param_1;
        }
        pbVar6 = local_28 + 1;
        local_20 = (uint)*local_28 | local_20 << 8;
        local_38 = local_38 + 1;
        iVar7 = iVar7 + -1;
        local_28 = pbVar6;
      } while (iVar7 != 0);
    }
    else {
      local_38 = 4;
      local_20 = (uint)param_1[1] << 0x10 | (uint)*param_1 << 0x18 | (uint)param_1[3] |
                 (uint)param_1[2] << 8;
      local_28 = param_1 + 4;
    }
  }
  else {
    local_28 = param_1 + 1;
    local_20 = (uint)*param_1;
    local_38 = 1;
    local_24 = 0x18;
    if (((uint)local_28 & 3) != 0) {
      if (local_2c < local_28) {
        local_28 = param_1;
      }
      pbVar6 = local_28 + 1;
      local_38 = 2;
      local_24 = 0x10;
      uVar1 = CONCAT11(*param_1,*local_28);
      local_20 = (uint)uVar1;
      local_28 = pbVar6;
      if (((uint)pbVar6 & 3) != 0) {
        if (local_2c < pbVar6) {
          local_28 = param_1;
        }
        local_24 = 8;
        local_20 = (uint)CONCAT21(uVar1,*local_28);
        local_38 = 3;
        local_28 = local_28 + 1;
      }
    }
  }
  if (local_2c < local_28 + 4) {
    iVar7 = 4;
    local_1c = 0;
    do {
      if (local_2c < local_28) {
        local_28 = param_1;
      }
      pbVar6 = local_28 + 1;
      local_1c = (uint)*local_28 | local_1c << 8;
      local_38 = local_38 + 1;
      iVar7 = iVar7 + -1;
      local_28 = pbVar6;
    } while (iVar7 != 0);
  }
  else {
    local_1c = (uint)local_28[1] << 0x10 | (uint)*local_28 << 0x18 | (uint)local_28[3] |
               (uint)local_28[2] << 8;
    local_38 = local_38 + 4;
    local_28 = local_28 + 4;
  }
  local_3c = param_2;
  local_34 = param_1;
  local_30 = param_1;
  uVar2 = FUN_00021cea((int)&local_3c,0x20);
  if (uVar2 - 0x100 < 0x20) {
    FUN_00021d2a((int)&local_3c,0x18);
    FUN_00021d2a((int)&local_3c,8);
  }
  iVar7 = 0;
  while (uVar2 = FUN_00021cea((int)&local_3c,0x1c), uVar2 != 0x12) {
    if (param_2 <= iVar7) goto LAB_00022004;
    FUN_00021d2a((int)&local_3c,8);
    iVar7 = iVar7 + 1;
  }
  FUN_00021d2a((int)&local_3c,0x18);
  FUN_00021d2a((int)&local_3c,4);
  FUN_00021d2a((int)&local_3c,4);
  FUN_00021d2a((int)&local_3c,1);
  FUN_00021d2a((int)&local_3c,8);
  uVar2 = FUN_00021d2a((int)&local_3c,1);
  if (uVar2 != 0) {
    FUN_00021d2a((int)&local_3c,4);
    FUN_00021d2a((int)&local_3c,3);
  }
  uVar2 = FUN_00021d2a((int)&local_3c,4);
  if (uVar2 == 0xf) {
    FUN_00021d2a((int)&local_3c,8);
    FUN_00021d2a((int)&local_3c,8);
  }
  uVar2 = FUN_00021d2a((int)&local_3c,1);
  if (uVar2 != 0) {
    FUN_00021d2a((int)&local_3c,2);
    FUN_00021d2a((int)&local_3c,1);
    uVar2 = FUN_00021d2a((int)&local_3c,1);
    if (uVar2 != 0) {
      FUN_00021d2a((int)&local_3c,0xf);
      FUN_00021cc4((int)&local_3c);
      FUN_00021d2a((int)&local_3c,0xf);
      FUN_00021cc4((int)&local_3c);
      FUN_00021d2a((int)&local_3c,0xf);
      FUN_00021cc4((int)&local_3c);
      FUN_00021d2a((int)&local_3c,3);
      FUN_00021d2a((int)&local_3c,0xb);
      FUN_00021cc4((int)&local_3c);
      FUN_00021d2a((int)&local_3c,0xf);
      FUN_00021cc4((int)&local_3c);
    }
  }
  uVar2 = FUN_00021d2a((int)&local_3c,2);
  uVar5 = 0xffffffff;
  if (uVar2 == 0) {
    FUN_00021cc4((int)&local_3c);
    uVar3 = FUN_00021d2a((int)&local_3c,0x10);
    FUN_00021cc4((int)&local_3c);
    uVar4 = FUN_00021d2a((int)&local_3c,1);
    if (uVar4 != 0) {
      iVar7 = 1;
      if (uVar3 == 0) {
        uVar2 = 1;
      }
      else {
        while (iVar7 < (int)uVar3) {
          iVar7 = iVar7 << 1;
          uVar2 = uVar2 + 1;
        }
        if (uVar2 == 0) {
          uVar2 = 1;
        }
      }
      FUN_00021d2a((int)&local_3c,uVar2);
    }
    FUN_00021cc4((int)&local_3c);
    uVar2 = FUN_00021d2a((int)&local_3c,0xd);
    *param_3 = uVar2 & 0xffff;
    FUN_00021cc4((int)&local_3c);
    uVar2 = FUN_00021d2a((int)&local_3c,0xd);
    *param_4 = uVar2 & 0xffff;
    FUN_00021cc4((int)&local_3c);
LAB_00022004:
    uVar5 = 0;
  }
  return uVar5;
}



void aw_list_new(void)

{
  undefined4 *puVar1;
  
  puVar1 = (undefined4 *)malloc(0x14);
  if (puVar1 != (undefined4 *)0x0) {
    puVar1[4] = 0;
    *puVar1 = 0;
    puVar1[1] = 0;
    puVar1[3] = 0xffffffff;
    puVar1[2] = 0;
  }
  return;
}



undefined4 aw_list_rem(void **param_1,void *param_2)

{
  void **__ptr;
  void *pvVar1;
  void *pvVar2;
  uint uVar3;
  void **__ptr_00;
  
  if ((((param_1 == (void **)0x0) || (pvVar2 = param_1[2], pvVar2 == (void *)0x0)) ||
      (__ptr_00 = (void **)*param_1, __ptr_00 == (void **)0x0)) || (pvVar2 <= param_2)) {
    return 0xffffffff;
  }
  if (param_2 != (void *)0x0) {
    uVar3 = 0;
    while (uVar3 < (int)param_2 - 1U) {
      __ptr_00 = (void **)*__ptr_00;
      uVar3 = uVar3 + 1;
    }
    __ptr = (void **)*__ptr_00;
    pvVar2 = *__ptr;
    *__ptr_00 = pvVar2;
    if ((pvVar2 == (void *)0x0) || ((void **)param_1[1] == __ptr)) {
      param_1[1] = __ptr_00;
      *__ptr_00 = (void *)0x0;
    }
    free(__ptr);
    param_1[4] = *param_1;
    param_1[2] = (void *)((int)param_1[2] + -1);
    param_1[3] = (void *)0x0;
    return 0;
  }
  pvVar1 = *__ptr_00;
  param_1[3] = (void *)0x0;
  param_1[2] = (void *)((int)pvVar2 + -1);
  *param_1 = pvVar1;
  param_1[4] = pvVar1;
  free(__ptr_00);
  if (param_1[2] == (void *)0x0) {
    param_1[4] = (void *)0x0;
    *param_1 = (void *)0x0;
    param_1[1] = (void *)0x0;
    param_1[3] = (void *)0xffffffff;
    return 0;
  }
  return 0;
}



void aw_list_del(void **param_1)

{
  if (param_1 != (void **)0x0) {
    while (param_1[2] != (void *)0x0) {
      aw_list_rem(param_1,(void *)0x0);
    }
                    // WARNING: Treating indirect jump as call
    free(param_1);
    return;
  }
  return;
}



void aw_list_reset(void **param_1)

{
  if (param_1 != (void **)0x0) {
    while (param_1[2] != (void *)0x0) {
      aw_list_rem(param_1,(void *)0x0);
    }
  }
  return;
}



undefined4 aw_list_add(int *param_1,undefined4 param_2)

{
  undefined4 *puVar1;
  
  if (param_1 == (int *)0x0) {
    puts(" parameter error. ");
    return 0xffffffff;
  }
  puVar1 = (undefined4 *)malloc(8);
  if (puVar1 != (undefined4 *)0x0) {
    puVar1[1] = param_2;
    *puVar1 = 0;
    if (*param_1 == 0) {
      *param_1 = (int)puVar1;
      param_1[2] = 1;
    }
    else {
      param_1[2] = param_1[2] + 1;
      *(undefined4 **)param_1[1] = puVar1;
    }
    param_1[1] = (int)puVar1;
    param_1[4] = (int)puVar1;
    param_1[3] = param_1[2] + -1;
    return 0;
  }
  return 0xffffffff;
}



undefined4 aw_list_count(int param_1)

{
  if (param_1 != 0) {
    return *(undefined4 *)(param_1 + 8);
  }
  return 0xffffffff;
}



undefined4 * aw_list_get(undefined4 *param_1,uint param_2)

{
  uint uVar1;
  undefined4 *puVar2;
  
  if (param_1 != (undefined4 *)0x0) {
    if (param_2 < (uint)param_1[2]) {
      if ((param_1[4] == 0) || (param_2 < (uint)param_1[3])) {
        param_1[3] = 0;
        param_1[4] = *param_1;
      }
      puVar2 = (undefined4 *)param_1[4];
      uVar1 = param_1[3];
      while (uVar1 < param_2) {
        puVar2 = (undefined4 *)*puVar2;
        uVar1 = uVar1 + 1;
      }
      param_1[3] = param_2;
      param_1[4] = puVar2;
      return (undefined4 *)puVar2[1];
    }
    param_1 = (undefined4 *)0x0;
  }
  return param_1;
}



int ** aw_list_last(int **param_1)

{
  int **ppiVar1;
  int **ppiVar2;
  
  ppiVar1 = param_1;
  if ((param_1 != (int **)0x0) && (ppiVar1 = (int **)param_1[2], ppiVar1 != (int **)0x0)) {
    ppiVar1 = (int **)*param_1;
    do {
      ppiVar2 = ppiVar1;
      ppiVar1 = (int **)*ppiVar2;
    } while (ppiVar1 != (int **)0x0);
    return (int **)ppiVar2[1];
  }
  return ppiVar1;
}



void aw_list_rem_last(void **param_1)

{
  aw_list_rem(param_1,(void *)((int)param_1[2] + -1));
  return;
}



void struct_list_free(int **param_1,undefined *param_2)

{
  int **ppiVar1;
  undefined *puVar2;
  uint uVar3;
  
  if (param_1 != (int **)0x0) {
    while (param_1[2] != (int *)0x0) {
      ppiVar1 = aw_list_last(param_1);
      aw_list_rem_last(param_1);
      puVar2 = param_2;
      if (param_2 != (undefined *)0x0) {
        puVar2 = (undefined *)0x1;
      }
      if (ppiVar1 == (int **)0x0) {
        uVar3 = 0;
      }
      else {
        uVar3 = (uint)puVar2 & 1;
      }
      if (uVar3 != 0) {
        (*(code *)param_2)(ppiVar1);
      }
    }
    aw_list_del(param_1);
    return;
  }
  return;
}



undefined4 aw_list_insert(int *param_1,int param_2,uint param_3)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  uint uVar4;
  
  uVar4 = 1 - (int)param_1;
  if ((int *)0x1 < param_1) {
    uVar4 = 0;
  }
  if (param_2 == 0) {
    uVar4 = uVar4 | 1;
  }
  if (uVar4 != 0) {
    return 0xffffffff;
  }
  if ((uint)param_1[2] <= param_3) {
    uVar1 = aw_list_add(param_1,param_2);
    return uVar1;
  }
  puVar2 = (undefined4 *)malloc(8);
  puVar2[1] = param_2;
  *puVar2 = 0;
  puVar3 = (undefined4 *)*param_1;
  if (param_3 == 0) {
    *puVar2 = puVar3;
    *param_1 = (int)puVar2;
    param_1[4] = (int)puVar2;
    param_1[2] = param_1[2] + 1;
    param_1[3] = 0;
    return 0;
  }
  while (uVar4 < param_3 - 1) {
    puVar3 = (undefined4 *)*puVar3;
    uVar4 = uVar4 + 1;
  }
  *puVar2 = *puVar3;
  *puVar3 = puVar2;
  param_1[4] = (int)puVar2;
  param_1[3] = param_3 - 1;
  param_1[2] = param_1[2] + 1;
  return 0;
}



uint FUN_00022242(byte *param_1)

{
  return (uint)param_1[1] << 0x10 | (uint)*param_1 << 0x18 | (uint)param_1[3] |
         (uint)param_1[2] << 8;
}



undefined4 FUN_00022294(char **param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (char **)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x1bd;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = *param_1;
    if (pcVar2 != (char *)0x0) goto LAB_000222d8;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x1be;
    pcVar3 = "stream->ops";
  }
  pcVar2 = "CdxStreamSize";
  __android_log_assert
            (pcVar1,s_CdxMp3Parser_0002af66,"<%s:%d>CDX_CHECK(%s) failed.","CdxStreamSize",uVar4,
             pcVar3);
LAB_000222d8:
  if (*(code **)(pcVar2 + 0x34) == (code *)0x0) {
    uVar4 = 0xffffffff;
  }
  else {
    uVar4 = (**(code **)(pcVar2 + 0x34))();
  }
  return uVar4;
}



void FUN_00022404(undefined4 *param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (undefined4 *)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x154;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = (char *)*param_1;
    if (pcVar2 != (char *)0x0) goto LAB_00022448;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x155;
    pcVar3 = "stream->ops";
  }
  while( true ) {
    pcVar2 = "CdxStreamRead";
    __android_log_assert
              (pcVar1,s_CdxMp3Parser_0002af66,"<%s:%d>CDX_CHECK(%s) failed.","CdxStreamRead",uVar4,
               pcVar3);
LAB_00022448:
    if (*(code **)(pcVar2 + 8) != (code *)0x0) break;
    pcVar1 = "!(stream->ops->read)";
    uVar4 = 0x156;
    pcVar3 = "stream->ops->read";
  }
  (**(code **)(pcVar2 + 8))();
  return;
}



undefined4 FUN_000224a8(char **param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (char **)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x1ac;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = *param_1;
    if (pcVar2 != (char *)0x0) goto LAB_000224ec;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x1ad;
    pcVar3 = "stream->ops";
  }
  pcVar2 = "CdxStreamTell";
  __android_log_assert
            (pcVar1,s_CdxMp3Parser_0002af66,"<%s:%d>CDX_CHECK(%s) failed.","CdxStreamTell",uVar4,
             pcVar3);
LAB_000224ec:
  if (*(code **)(pcVar2 + 0x30) == (code *)0x0) {
    uVar4 = 0xffffffff;
  }
  else {
    uVar4 = (**(code **)(pcVar2 + 0x30))();
  }
  return uVar4;
}



void FUN_00022640(char **param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (char **)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x17d;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = *param_1;
    if (pcVar2 != (char *)0x0) goto LAB_00022684;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x17e;
    pcVar3 = "stream->ops";
  }
  while( true ) {
    pcVar2 = "CdxStreamControl";
    __android_log_assert
              (pcVar1,s_CdxMp3Parser_0002af66,"<%s:%d>CDX_CHECK(%s) failed.","CdxStreamControl",
               uVar4,pcVar3);
LAB_00022684:
    if (*(code **)(pcVar2 + 0x18) != (code *)0x0) break;
    pcVar1 = "!(stream->ops->control)";
    uVar4 = 0x17f;
    pcVar3 = "stream->ops->control";
  }
  (**(code **)(pcVar2 + 0x18))();
  return;
}



undefined4 FUN_000226e4(int param_1,undefined4 param_2,undefined4 *param_3)

{
  char **ppcVar1;
  int iVar2;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  
  switch(param_2) {
  case 0:
  case 2:
  case 3:
    break;
  default:
    __android_log_print(5,s_CdxMp3Parser_0002af66,"<%s:%u>: not implement...(%d)",
                        "CdxMp3ParserControl",0x4d0,param_2);
    break;
  case 10:
    iVar2 = FUN_00022640(*(char ***)(param_1 + 8));
    if (iVar2 < 0) {
      __android_log_print(6,s_CdxMp3Parser_0002af66,&DAT_00028f53,"Mp3GetCacheState",0x432);
      return 0xffffffff;
    }
    *param_3 = local_18;
    param_3[1] = local_14;
    param_3[2] = local_10;
    param_3[3] = local_c;
    break;
  case 0xb:
    *(undefined4 *)(param_1 + 0x10) = 4;
    ppcVar1 = *(char ***)(param_1 + 8);
    goto LAB_00022712;
  case 0xc:
    ppcVar1 = *(char ***)(param_1 + 8);
LAB_00022712:
    FUN_00022640(ppcVar1);
  }
  return 0;
}



void FUN_00022794(undefined4 *param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (undefined4 *)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x164;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = (char *)*param_1;
    if (pcVar2 != (char *)0x0) goto LAB_000227d8;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x165;
    pcVar3 = "stream->ops";
  }
  while( true ) {
    pcVar2 = "CdxStreamClose";
    __android_log_assert
              (pcVar1,s_CdxMp3Parser_0002af66,"<%s:%d>CDX_CHECK(%s) failed.","CdxStreamClose",uVar4,
               pcVar3);
LAB_000227d8:
    if (*(code **)(pcVar2 + 0xc) != (code *)0x0) break;
    pcVar1 = "!(stream->ops->close)";
    uVar4 = 0x166;
    pcVar3 = "stream->ops->close";
  }
  (**(code **)(pcVar2 + 0xc))();
  return;
}



undefined8 CdxMp3ParserOpen(undefined4 *param_1,undefined4 param_2,undefined4 param_3)

{
  void *__s;
  undefined4 *puVar1;
  
  puVar1 = param_1;
  __s = malloc(0x80);
  if (__s == (void *)0x0) {
    puVar1 = (undefined4 *)0x5f1;
    __android_log_print(6,s_CdxMp3Parser_0002af66,&DAT_0002b04b,"CdxMp3ParserOpen",0x5f1,param_2,
                        param_3);
    FUN_00022794(param_1);
  }
  else {
    memset(__s,0,0x80);
    *(undefined ***)((int)__s + 4) = &PTR_FUN_000226e4_1_000315c8;
    *(undefined4 **)((int)__s + 8) = param_1;
    *(undefined4 *)((int)__s + 0x10) = 1;
    pthread_cond_init((pthread_cond_t *)((int)__s + 0x18),(pthread_condattr_t *)0x0);
  }
  return CONCAT44(puVar1,__s);
}



undefined4 FUN_000228fc(int *param_1)

{
  char *pcVar1;
  int iVar2;
  int extraout_r1;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (int *)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x194;
    pcVar3 = "stream";
  }
  else {
    iVar2 = *param_1;
    if (iVar2 != 0) goto LAB_00022940;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x195;
    pcVar3 = "stream->ops";
  }
  __android_log_assert
            (pcVar1,s_CdxMp3Parser_0002af66,"<%s:%d>CDX_CHECK(%s) failed.","CdxStreamSeek",uVar4,
             pcVar3);
  iVar2 = extraout_r1;
LAB_00022940:
  if (*(code **)(iVar2 + 0x24) == (code *)0x0) {
    uVar4 = 0xffffffff;
  }
  else {
    uVar4 = (**(code **)(iVar2 + 0x24))();
  }
  return uVar4;
}



undefined4
GetMPEGAudioFrameSize
          (uint param_1,int *param_2,uint *param_3,undefined4 *param_4,int *param_5,
          undefined4 *param_6)

{
  uint uVar1;
  undefined4 *puVar2;
  uint uVar3;
  char *pcVar4;
  uint uVar5;
  undefined *puVar6;
  int iVar7;
  undefined4 uVar8;
  uint uVar9;
  int iVar10;
  uint uVar11;
  
  *param_2 = 0;
  if (param_3 != (uint *)0x0) {
    *param_3 = 0;
  }
  if (param_4 != (undefined4 *)0x0) {
    *param_4 = 0;
  }
  if (param_5 != (int *)0x0) {
    *param_5 = 0;
  }
  if (param_6 != (undefined4 *)0x0) {
    *param_6 = 0x480;
  }
  if ((param_1 & 0xffe00000) != 0xffe00000) {
    return 0;
  }
  uVar3 = (param_1 << 0xb) >> 0x1e;
  if (uVar3 == 1) {
    return 0;
  }
  uVar5 = (param_1 << 0xd) >> 0x1e;
  if (uVar5 == 0) {
    return 0;
  }
  uVar11 = (param_1 << 0x10) >> 0x1c;
  uVar1 = 1 - uVar11;
  if (1 < uVar11) {
    uVar1 = 0;
  }
  if (uVar11 == 0xf) {
    uVar1 = uVar1 | 1;
  }
  if (uVar1 != 0) {
    return 0;
  }
  uVar1 = (param_1 << 0x14) >> 0x1e;
  if (uVar1 == 3) {
    return 0;
  }
  uVar1 = *(uint *)(&DAT_0002cc68 + uVar1 * 4);
  if (uVar3 == 2) {
    uVar1 = (int)uVar1 / 2;
  }
  else {
    if (uVar3 == 0) {
      uVar9 = uVar1 & ~((int)uVar1 >> 0x20);
      if ((int)uVar1 < 0) {
        uVar9 = uVar1 + 3;
      }
      uVar1 = (int)uVar9 >> 2;
    }
  }
  iVar10 = -((int)(param_1 << 0x16) >> 0x1f);
  if (uVar5 == 3) {
    if (uVar3 == 3) {
      puVar6 = &DAT_0002cc88;
    }
    else {
      puVar6 = &DAT_0002ce14;
    }
    iVar7 = *(int *)(puVar6 + (uVar11 - 1) * 4);
    if (param_5 != (int *)0x0) {
      *param_5 = iVar7;
    }
    iVar7 = __aeabi_idiv(iVar7 * 12000,uVar1);
    *param_2 = (iVar7 + iVar10) * 4;
    if (param_6 != (undefined4 *)0x0) {
      *param_6 = 0x180;
    }
    goto LAB_00022adc;
  }
  if (uVar3 == 3) {
    if (uVar5 == 2) {
      puVar2 = (undefined4 *)&DAT_0002cbcc;
    }
    else {
      puVar2 = &DAT_0002cd98;
    }
    iVar7 = puVar2[uVar11 - 1];
    uVar8 = 0x480;
    if (param_6 != (undefined4 *)0x0) {
LAB_00022aac:
      *param_6 = uVar8;
    }
  }
  else {
    iVar7 = *(int *)(&DAT_0002cb74 + (uVar11 - 1) * 4);
    if (param_6 != (undefined4 *)0x0) {
      if (uVar5 == 1) {
        uVar8 = 0x240;
      }
      else {
        uVar8 = 0x480;
      }
      goto LAB_00022aac;
    }
  }
  if (param_5 != (int *)0x0) {
    *param_5 = iVar7;
  }
  if (uVar3 == 3) {
    iVar7 = __aeabi_idiv(iVar7 * 0x23280,uVar1);
  }
  else {
    pcVar4 = "";
    if (uVar5 != 1) {
      pcVar4 = (char *)0x23280;
    }
    iVar7 = __aeabi_uidiv((int)pcVar4 * iVar7,uVar1);
  }
  *param_2 = iVar7 + iVar10;
LAB_00022adc:
  if (param_3 != (uint *)0x0) {
    *param_3 = uVar1;
  }
  if (param_4 != (undefined4 *)0x0) {
    if ((param_1 << 0x18) >> 0x1e == 3) {
      uVar8 = 1;
    }
    else {
      uVar8 = 2;
    }
    *param_4 = uVar8;
  }
  return 1;
}



// WARNING: Could not reconcile some variable overlaps

uint * FUN_00022b30(void **param_1)

{
  undefined4 *puVar1;
  uint *puVar2;
  char *pcVar3;
  uint uVar4;
  int iVar5;
  int extraout_r1;
  int extraout_r1_00;
  int extraout_r1_01;
  char *pcVar6;
  undefined *puVar7;
  uint __n;
  byte *pbVar8;
  undefined4 *puVar9;
  char *unaff_r6;
  char *unaff_r10;
  char *pcVar10;
  undefined4 in_lr;
  bool bVar11;
  undefined uVar12;
  undefined4 *puVar13;
  undefined4 uVar14;
  ulonglong uVar15;
  longlong lVar16;
  uint local_4b8;
  undefined4 *puStack1204;
  byte local_4a8 [1008];
  undefined4 local_b8 [2];
  undefined *local_b0;
  uint uStack172;
  undefined *local_a8;
  undefined4 uStack164;
  undefined auStack160 [4];
  int local_9c;
  undefined4 *local_98;
  undefined *local_94;
  uint local_90;
  void *local_8c;
  uint local_88;
  int iStack132;
  undefined8 local_80;
  undefined8 local_78;
  uint local_6c;
  uint uStack104;
  undefined4 uStack100;
  int iStack96;
  undefined4 uStack92;
  byte local_58;
  byte local_57;
  byte local_56;
  byte local_55;
  uint *local_54;
  undefined auStack80 [6];
  byte local_4a;
  byte local_49;
  byte local_48;
  byte local_47;
  undefined4 local_44;
  
  puVar13 = local_b8;
  pcVar10 = &DAT_000083ae;
  local_8c = *param_1;
  local_80 = 0;
  puVar7 = &DAT_0002b075;
  puVar9 = (undefined4 *)&DAT_0002b079;
  local_44 = __stack_chk_guard;
  local_98 = &__stack_chk_guard;
  local_88 = 0xa219;
  do {
    pcVar3 = (char *)param_1[1];
    pcVar6 = (char *)0x0;
    local_80 = VectorAdd(local_80,10,8);
    uVar4 = (uint)((ulonglong)local_80 >> 0x20);
    puVar2 = (uint *)local_80;
    uVar12 = local_80 < 0 && (int)(~uVar4 + (uint)(puVar2 <= pcVar3)) < 0;
    iVar5 = -(uint)(puVar2 > pcVar3) - uVar4;
    puVar1 = local_b8;
    if (iVar5 < 0 != (bool)uVar12) goto LAB_00022e14;
    memcpy(auStack80,local_8c,10);
    puVar2 = (uint *)memcmp(&DAT_0002b075,auStack80,3);
    if (puVar2 != (uint *)0x0) {
      local_94 = (undefined *)local_b8;
      local_78 = 0;
      uVar15 = 0;
      puVar9 = (undefined4 *)0x0;
      pcVar10 = s_CdxMp3Parser_0002af66;
      unaff_r10 = "Resync";
      local_9c = 0x832b;
      pbVar8 = local_4a8;
      goto LAB_00022c5a;
    }
    unaff_r6 = s_CdxMp3Parser_0002af66;
    pcVar6 = (char *)(local_88 + 0x22bc8);
    uVar4 = (local_49 & 0x7f) << 0xe | (local_4a & 0x7f) << 0x15 | local_47 & 0x7f |
            (local_48 & 0x7f) << 7;
    uVar12 = SCARRY4(uVar4,10);
    local_b0 = (undefined *)(uVar4 + 10);
    local_78 = ZEXT48(local_b0);
    local_b8[0] = 0x6a;
    uStack172 = 0;
    uStack164 = 0;
    in_lr = 0x22c05;
    local_a8 = local_b0;
    uVar14 = __android_log_print(6,s_CdxMp3Parser_0002af66,&DAT_0002b079,pcVar6);
    unaff_r10 = (char *)puVar2;
  } while (((uint)local_78._4_4_ | (uint)(undefined *)local_78) == 0);
  local_b8[0] = 0x6d;
  pcVar3 = &DAT_0002b0c7;
  local_b0 = (undefined *)local_78;
  uStack172 = (uint)local_78._4_4_;
  in_lr = 0x22c27;
  __android_log_print(uVar14,6,s_CdxMp3Parser_0002af66);
  iVar5 = extraout_r1;
  puVar7 = (undefined *)local_78;
  puVar9 = local_98;
  goto code_r0x00022e18;
LAB_00022c5a:
  do {
    lVar16 = VectorAdd(uVar15,0x1ffff,8);
    iVar5 = (int)((ulonglong)lVar16 >> 0x20);
    bVar11 = (undefined *)local_78 <= (uint)lVar16;
    uVar12 = lVar16 < 0 == -1 < (longlong)local_78 &&
             (int)(iVar5 + ~(uint)local_78._4_4_ + (uint)bVar11) < 0 != lVar16 < 0;
    if ((int)((iVar5 - (int)local_78._4_4_) - (uint)!bVar11) < 0 != (bool)uVar12) {
      pcVar3 = "<%s:%u>: giving up at offset %lld";
      local_4b8 = (uint)(undefined *)local_78;
      puStack1204 = local_78._4_4_;
      pcVar6 = "Resync";
      in_lr = 0x22c8d;
      __android_log_print(5,s_CdxMp3Parser_0002af66);
      iVar5 = extraout_r1_00;
      puVar9 = local_78._4_4_;
LAB_00022e0c:
      puVar2 = (uint *)0x0;
      break;
    }
    if ((int)puVar9 < 4) {
      in_lr = 0x22ca1;
      __memcpy_chk(local_4a8,pbVar8,puVar9,0x400);
      __n = 0x400 - (int)puVar9;
      puVar2 = (uint *)((uint)local_80 + __n);
      uVar4 = local_80._4_4_ + ((int)__n >> 0x1f) + (uint)CARRY4((uint)local_80,__n);
      local_80 = CONCAT44(uVar4,puVar2);
      pcVar3 = (char *)param_1[1];
      pcVar6 = (char *)0x0;
      uVar12 = (int)uVar4 < 0 && (int)(~uVar4 + (uint)(puVar2 <= pcVar3)) < 0;
      iVar5 = -(uint)(puVar2 > pcVar3) - uVar4;
      if (iVar5 < 0 != (bool)uVar12) goto LAB_00022e0c;
      memcpy(local_4a8 + (int)puVar9,
             (void *)((int)local_8c + (int)puVar9 + (int)(undefined *)local_78),__n);
      puVar9 = (undefined4 *)0x400;
      pbVar8 = local_4a8;
      goto LAB_00022c5a;
    }
    local_90 = (uint)pbVar8[1] << 0x10 | (uint)*pbVar8 << 0x18 | (uint)pbVar8[3] |
               (uint)pbVar8[2] << 8;
    in_lr = 0x22d1b;
    iVar5 = GetMPEGAudioFrameSize
                      (local_90,(int *)&local_6c,&uStack104,&uStack100,&iStack96,&uStack92);
    if (iVar5 == 0) {
      pbVar8 = pbVar8 + 1;
      local_78 = VectorAdd(local_78,1,8);
      puVar9 = (undefined4 *)((int)puVar9 + -1);
      goto LAB_00022c5a;
    }
    unaff_r6 = (char *)0x0;
    local_88 = (int)(undefined *)local_78 + local_6c;
    iStack132 = (int)local_78._4_4_ + (uint)CARRY4((uint)(undefined *)local_78,local_6c);
    do {
      pcVar3 = (char *)param_1[1];
      pcVar6 = (char *)0x0;
      local_80 = VectorAdd(local_80,4,8);
      uVar4 = (uint)((ulonglong)local_80 >> 0x20);
      bVar11 = (uint *)local_80 <= pcVar3;
      uVar12 = local_80 < 0 && (int)(~uVar4 + (uint)bVar11) < 0;
      iVar5 = -(uint)!bVar11 - uVar4;
      if (iVar5 < 0 != (bool)uVar12) goto LAB_00022e0c;
      memcpy(&local_58,(void *)((int)local_8c + local_88),4);
      uVar4 = (uint)local_57 << 0x10 | (uint)local_58 << 0x18 | (uint)local_55 | (uint)local_56 << 8
      ;
      if (((local_90 ^ uVar4) & 0xfffe0c00) != 0) {
LAB_00022de0:
        pcVar3 = (char *)(local_9c + 0x22dec);
        in_lr = 0x22df3;
        pcVar6 = unaff_r10;
        __android_log_print(6,s_CdxMp3Parser_0002af66);
        puVar2 = (uint *)0x0;
        iVar5 = extraout_r1_01;
        goto LAB_00022df4;
      }
      pcVar3 = (char *)&uStack104;
      in_lr = 0x22dc1;
      iVar5 = GetMPEGAudioFrameSize
                        (uVar4,(int *)&local_54,(uint *)pcVar3,&uStack100,&iStack96,&uStack92);
      if (iVar5 == 0) goto LAB_00022de0;
      iVar5 = iStack132 + (uint)CARRY4(local_88,(uint)local_54);
      unaff_r6 = unaff_r6 + 1;
      local_88 = local_88 + (int)local_54;
      iStack132 = iVar5;
    } while (unaff_r6 != (char *)0x3);
    puVar2 = (uint *)0x1;
    pcVar6 = (char *)local_54;
    uVar15 = local_78;
LAB_00022df4:
    pbVar8 = pbVar8 + 1;
    local_78 = VectorAdd(local_78,1,8);
    uVar12 = SBORROW4((int)puVar9,1);
    puVar9 = (undefined4 *)((int)puVar9 + -1);
  } while (puVar2 == (uint *)0x0);
  puVar7 = (undefined *)((uint)puVar2 & (uint)puVar9 >> 0xd);
  puVar1 = (undefined4 *)&stack0xfffffb40;
LAB_00022e14:
  puVar13 = puVar1;
  if ((bool)uVar12) {
    puVar13 = (undefined4 *)((int)puVar13 + 4);
  }
code_r0x00022e18:
  if ((bool)uVar12) {
    *(undefined4 *)pcVar10 = in_lr;
    *(undefined4 **)((int)pcVar10 + -4) = puVar13;
    *(char **)((int)pcVar10 + -8) = pcVar10;
    *(char **)((int)pcVar10 + -0xc) = unaff_r10;
    *(void ***)((int)pcVar10 + -0x10) = param_1;
    *(undefined **)((int)pcVar10 + -0x14) = auStack160;
    *(char **)((int)pcVar10 + -0x18) = unaff_r6;
    *(undefined4 **)((int)pcVar10 + -0x1c) = puVar9;
    *(undefined **)((int)pcVar10 + -0x20) = puVar7;
    *(char **)((int)pcVar10 + -0x24) = pcVar6;
    *(int *)((int)pcVar10 + -0x28) = iVar5;
  }
  if (pcVar3 == pcVar6) {
    return puVar2;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



// WARNING: Control flow encountered bad instruction data

void _FINI_0(uint param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
            undefined4 param_5)

{
  uint unaff_r5;
  undefined4 unaff_r6;
  undefined4 unaff_r7;
  undefined4 unaff_r8;
  undefined4 unaff_r10;
  undefined4 *unaff_r11;
  undefined4 in_lr;
  bool in_OV;
  
  if (in_OV) {
    *unaff_r11 = in_lr;
    unaff_r11[-1] = &stack0x00000004;
    unaff_r11[-2] = unaff_r11;
    unaff_r11[-3] = unaff_r10;
    unaff_r11[-4] = unaff_r8;
    unaff_r11[-5] = unaff_r7;
    unaff_r11[-6] = unaff_r6;
    unaff_r11[-7] = unaff_r5;
    unaff_r11[-8] = param_1 & unaff_r5 >> 0xd;
    unaff_r11[-9] = param_4;
    unaff_r11[-10] = param_2;
  }
                    // WARNING: Bad instruction - Truncating control flow here
  halt_baddata();
}



undefined8 FUN_00022e90(void **param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  uint *puVar2;
  
  if (param_1[1] < (void *)0x2) {
    param_1 = (void **)0x617;
    __android_log_print(6,s_CdxMp3Parser_0002af66,&DAT_0002b158,"CdxMp3ParserProbe",0x617,param_2,
                        param_3);
    iVar1 = 0;
  }
  else {
    puVar2 = FUN_00022b30(param_1);
    iVar1 = (int)puVar2 * 100;
  }
  return CONCAT44(param_1,iVar1);
}



// WARNING: Could not reconcile some variable overlaps

int FUN_00022ed0(int param_1,uint param_2,longlong *param_3,int *param_4,uint *param_5)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  byte *pbVar6;
  bool bVar7;
  longlong lVar8;
  byte abStack1160 [1024];
  undefined4 local_88 [3];
  int *local_7c;
  undefined *puStack120;
  uint *local_74;
  uint uStack112;
  int iStack108;
  uint local_68;
  int iStack100;
  undefined8 uStack96;
  uint uStack88;
  uint uStack84;
  undefined2 uStack80;
  int iStack76;
  byte abStack72 [4];
  uint uStack68;
  undefined auStack64 [6];
  byte bStack58;
  byte bStack57;
  byte bStack56;
  byte bStack55;
  int local_34;
  
  local_34 = __stack_chk_guard;
  local_74 = param_5;
  local_7c = &__stack_chk_guard;
  local_68 = param_2;
  if (param_1 == 0) {
    local_88[0] = 0x391;
    __android_log_print(6,s_CdxMp3Parser_0002af66,&DAT_0002b17e,"Mp3HeadResync");
    iVar1 = param_1;
  }
  else {
    if ((*(uint *)param_3 | *(uint *)((int)param_3 + 4)) == 0) {
      while (iVar1 = FUN_00022404(*(undefined4 **)(param_1 + 8)), 9 < iVar1) {
        iVar1 = memcmp(&DAT_0002b075,auStack64,3);
        if (iVar1 != 0) goto LAB_00022f88;
        uVar4 = ((bStack57 & 0x7f) << 0xe | (bStack58 & 0x7f) << 0x15 | bStack55 & 0x7f |
                (bStack56 & 0x7f) << 7) + 10;
        iVar1 = *(uint *)param_3 + uVar4;
        iVar5 = *(int *)((int)param_3 + 4) + (uint)CARRY4(*(uint *)param_3,uVar4);
        *(int *)param_3 = iVar1;
        *(int *)((int)param_3 + 4) = iVar5;
        if (param_4 != (int *)0x0) {
          *param_4 = iVar1;
          param_4[1] = iVar5;
        }
      }
    }
    else {
LAB_00022f88:
      lVar8 = *param_3;
      iVar1 = FUN_000228fc(*(int **)(param_1 + 8));
      if (iVar1 == 0) {
        puStack120 = (undefined *)local_88;
        iStack100 = iVar1;
        uStack96 = lVar8;
        pbVar6 = abStack1160;
LAB_00022fb6:
        lVar8 = VectorAdd(*param_3,0x1ffff,8);
        iVar5 = (int)((ulonglong)lVar8 >> 0x20);
        bVar7 = (uint)uStack96 <= (uint)lVar8;
        if ((int)((iVar5 - uStack96._4_4_) - (uint)!bVar7) < 0 ==
            (lVar8 < 0 == -1 < uStack96 &&
            (int)(iVar5 + ~uStack96._4_4_ + (uint)bVar7) < 0 != lVar8 < 0)) {
          if (3 < iVar1) {
            uVar4 = FUN_00022242(pbVar6);
            if (((local_68 != 0) && (((uVar4 ^ local_68) & 0xfffe0c00) != 0)) ||
               (iVar5 = GetMPEGAudioFrameSize
                                  (uVar4,(int *)&uStack88,&uStack84,(undefined4 *)&uStack80,
                                   &iStack76,(undefined4 *)0x0), iVar5 == 0)) {
              pbVar6 = pbVar6 + 1;
              uStack96 = VectorAdd(uStack96,1,8);
              iVar1 = iVar1 + -1;
              goto LAB_00022fb6;
            }
            iVar5 = 3;
            uStack112 = (uint)uStack96 + uStack88;
            iStack108 = uStack96._4_4_ + CARRY4((uint)uStack96,uStack88);
            do {
              iVar2 = FUN_000228fc(*(int **)(param_1 + 8));
              if (((iVar2 != 0) || (iVar2 = FUN_00022404(*(undefined4 **)(param_1 + 8)), iVar2 < 4))
                 || ((uVar3 = FUN_00022242(abStack72), ((uVar3 ^ uVar4) & 0xfffe0c00) != 0 ||
                     (iVar2 = GetMPEGAudioFrameSize
                                        (uVar3,(int *)&uStack68,(uint *)0x0,(undefined4 *)0x0,
                                         (int *)0x0,(undefined4 *)0x0), iVar2 == 0)))) {
                bVar7 = false;
                goto LAB_000230d0;
              }
              bVar7 = CARRY4(uStack112,uStack68);
              iVar5 = iVar5 + -1;
              uStack112 = uStack112 + uStack68;
              iStack108 = iStack108 + (uint)bVar7;
            } while (iVar5 != 0);
            *(uint *)param_3 = (uint)uStack96;
            *(uint *)((int)param_3 + 4) = uStack96._4_4_;
            if (local_74 != (uint *)0x0) {
              *local_74 = uVar4;
            }
            bVar7 = true;
LAB_000230d0:
            pbVar6 = pbVar6 + 1;
            uStack96 = VectorAdd(uStack96,1,8);
            iVar1 = iVar1 + -1;
            if (bVar7) goto LAB_000230ec;
            goto LAB_00022fb6;
          }
          if (iStack100 == 0) {
            __memcpy_chk(abStack1160,pbVar6,iVar1,0x400);
            iVar5 = FUN_00022404(*(undefined4 **)(param_1 + 8));
            if (iVar5 < 1) goto LAB_000230e8;
            iStack100 = iVar5 - (0x400 - iVar1);
            iVar1 = iVar1 + iVar5;
            if (iStack100 != 0) {
              iStack100 = 1;
            }
            pbVar6 = abStack1160;
            goto LAB_00022fb6;
          }
        }
LAB_000230e8:
        iVar1 = 0;
        goto LAB_0002311c;
      }
    }
    iVar1 = 0;
  }
LAB_0002311c:
  if (local_34 == *local_7c) {
    return iVar1;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
LAB_000230ec:
  *(uint *)(param_1 + 0x54) = uStack88;
  iVar1 = 1;
  *(uint *)(param_1 + 0x4c) = uStack84;
  *(undefined2 *)(param_1 + 0x48) = uStack80;
  *(int *)(param_1 + 0x50) = SUB84(ROUND((double)(longlong)iStack76 * 1000.0),0);
  goto LAB_0002311c;
}



undefined4 _INIT_0(void)

{
  undefined2 uVar1;
  int iVar2;
  undefined4 uVar3;
  uint uVar4;
  undefined4 uVar5;
  uint uVar6;
  int iVar7;
  uint *unaff_r5;
  int iVar8;
  byte *pbVar9;
  int unaff_r6;
  int unaff_r7;
  undefined8 *unaff_r10;
  char in_ZR;
  bool bVar10;
  longlong lVar11;
  undefined8 uVar12;
  byte abStack1024 [1024];
  
  if (in_ZR == '\0') {
LAB_00022f88:
    uVar4 = *(uint *)unaff_r10;
    uVar6 = *(uint *)((int)unaff_r10 + 4);
    iVar2 = FUN_000228fc(*(int **)(unaff_r6 + 8));
    if (iVar2 == 0) {
      *(BADSPACEBASE **)(unaff_r7 + 8) = register0x00000054;
      *(undefined4 *)(unaff_r7 + 0x1c) = 0;
      *(uint *)(unaff_r7 + 0x20) = uVar4;
      *(uint *)(unaff_r7 + 0x24) = uVar6;
      pbVar9 = abStack1024;
LAB_00022fb6:
      uVar4 = *(uint *)(unaff_r7 + 0x24);
      lVar11 = VectorAdd(*unaff_r10,0x1ffff,8);
      iVar7 = (int)((ulonglong)lVar11 >> 0x20);
      bVar10 = *(uint *)(unaff_r7 + 0x20) <= (uint)lVar11;
      if ((int)((iVar7 - uVar4) - (uint)!bVar10) < 0 ==
          (lVar11 < 0 == -1 < (int)uVar4 && (int)(iVar7 + ~uVar4 + (uint)bVar10) < 0 != lVar11 < 0))
      {
        if (3 < iVar2) {
          uVar4 = FUN_00022242(pbVar9);
          if (((*(uint *)(unaff_r7 + 0x18) != 0) &&
              (((uVar4 ^ *(uint *)(unaff_r7 + 0x18)) & 0xfffe0c00) != 0)) ||
             (iVar7 = GetMPEGAudioFrameSize
                                (uVar4,(int *)(unaff_r7 + 0x28),(uint *)(unaff_r7 + 0x2c),
                                 (undefined4 *)(unaff_r7 + 0x30),(int *)(unaff_r7 + 0x34),
                                 (undefined4 *)0x0), iVar7 == 0)) {
            pbVar9 = pbVar9 + 1;
            uVar12 = VectorAdd(*(undefined8 *)(unaff_r7 + 0x20),1,8);
            iVar2 = iVar2 + -1;
            *(undefined8 *)(unaff_r7 + 0x20) = uVar12;
            goto LAB_00022fb6;
          }
          iVar7 = 3;
          *(uint *)(unaff_r7 + 0x10) = *(uint *)(unaff_r7 + 0x20) + *(uint *)(unaff_r7 + 0x28);
          *(uint *)(unaff_r7 + 0x14) =
               *(int *)(unaff_r7 + 0x24) +
               (uint)CARRY4(*(uint *)(unaff_r7 + 0x20),*(uint *)(unaff_r7 + 0x28));
          do {
            iVar8 = FUN_000228fc(*(int **)(unaff_r6 + 8));
            if (((iVar8 != 0) || (iVar8 = FUN_00022404(*(undefined4 **)(unaff_r6 + 8)), iVar8 < 4))
               || ((uVar6 = FUN_00022242((byte *)(unaff_r7 + 0x38)),
                   ((uVar6 ^ uVar4) & 0xfffe0c00) != 0 ||
                   (iVar8 = GetMPEGAudioFrameSize
                                      (uVar6,(int *)(unaff_r7 + 0x3c),(uint *)0x0,(undefined4 *)0x0,
                                       (int *)0x0,(undefined4 *)0x0), iVar8 == 0)))) {
              bVar10 = false;
              goto LAB_000230d0;
            }
            uVar6 = *(uint *)(unaff_r7 + 0x10);
            iVar7 = iVar7 + -1;
            *(uint *)(unaff_r7 + 0x10) = uVar6 + *(uint *)(unaff_r7 + 0x3c);
            *(uint *)(unaff_r7 + 0x14) =
                 *(int *)(unaff_r7 + 0x14) + (uint)CARRY4(uVar6,*(uint *)(unaff_r7 + 0x3c));
          } while (iVar7 != 0);
          uVar6 = *(uint *)(unaff_r7 + 0x24);
          *(uint *)unaff_r10 = *(uint *)(unaff_r7 + 0x20);
          *(uint *)((int)unaff_r10 + 4) = uVar6;
          if (*(int *)(unaff_r7 + 0xc) != 0) {
            **(uint **)(unaff_r7 + 0xc) = uVar4;
          }
          bVar10 = true;
LAB_000230d0:
          pbVar9 = pbVar9 + 1;
          uVar12 = VectorAdd(*(undefined8 *)(unaff_r7 + 0x20),1,8);
          iVar2 = iVar2 + -1;
          *(undefined8 *)(unaff_r7 + 0x20) = uVar12;
          if (bVar10) goto LAB_000230ec;
          goto LAB_00022fb6;
        }
        if (*(int *)(unaff_r7 + 0x1c) == 0) {
          __memcpy_chk(abStack1024,pbVar9,iVar2,0x400);
          iVar7 = FUN_00022404(*(undefined4 **)(unaff_r6 + 8));
          if (iVar7 < 1) goto LAB_000230e8;
          iVar8 = iVar7 - (0x400 - iVar2);
          iVar2 = iVar2 + iVar7;
          if (iVar8 != 0) {
            iVar8 = 1;
          }
          *(int *)(unaff_r7 + 0x1c) = iVar8;
          pbVar9 = abStack1024;
          goto LAB_00022fb6;
        }
      }
LAB_000230e8:
      uVar3 = 0;
      goto LAB_0002311c;
    }
  }
  else {
    while (iVar2 = FUN_00022404(*(undefined4 **)(unaff_r6 + 8)), 9 < iVar2) {
      iVar2 = memcmp(&DAT_0002b075,(void *)(unaff_r7 + 0x40),3);
      if (iVar2 != 0) goto LAB_00022f88;
      uVar4 = ((*(byte *)(unaff_r7 + 0x47) & 0x7f) << 0xe |
               (*(byte *)(unaff_r7 + 0x46) & 0x7f) << 0x15 | *(byte *)(unaff_r7 + 0x49) & 0x7f |
              (*(byte *)(unaff_r7 + 0x48) & 0x7f) << 7) + 10;
      uVar6 = *(uint *)unaff_r10 + uVar4;
      uVar4 = *(uint *)((int)unaff_r10 + 4) + (uint)CARRY4(*(uint *)unaff_r10,uVar4);
      *(uint *)unaff_r10 = uVar6;
      *(uint *)((int)unaff_r10 + 4) = uVar4;
      if (unaff_r5 != (uint *)0x0) {
        *unaff_r5 = uVar6;
        unaff_r5[1] = uVar4;
      }
    }
  }
  uVar3 = 0;
LAB_0002311c:
  if (*(int *)(unaff_r7 + 0x4c) == **(int **)(unaff_r7 + 4)) {
    return uVar3;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
LAB_000230ec:
  iVar2 = *(int *)(unaff_r7 + 0x34);
  uVar5 = *(undefined4 *)(unaff_r7 + 0x2c);
  uVar1 = *(undefined2 *)(unaff_r7 + 0x30);
  *(undefined4 *)(unaff_r6 + 0x54) = *(undefined4 *)(unaff_r7 + 0x28);
  uVar3 = 1;
  *(undefined4 *)(unaff_r6 + 0x4c) = uVar5;
  *(undefined2 *)(unaff_r6 + 0x48) = uVar1;
  *(int *)(unaff_r6 + 0x50) = SUB84(ROUND((double)(longlong)iVar2 * 1000.0),0);
  goto LAB_0002311c;
}



undefined4 FUN_00023180(int param_1)

{
  undefined4 uVar1;
  int iVar2;
  uint *puVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  byte *__ptr;
  void *pvVar8;
  undefined4 extraout_r1;
  uint *puVar9;
  size_t __size;
  byte *pbVar10;
  uint uVar11;
  byte *pbVar12;
  bool bVar13;
  double dVar14;
  undefined8 uVar15;
  longlong lVar16;
  uint uStack152;
  uint uStack120;
  uint uStack116;
  uint uStack112;
  byte bStack108;
  byte bStack107;
  byte bStack106;
  char cStack105;
  uint uStack104;
  uint uStack100;
  uint uStack96;
  uint uStack92;
  uint uStack88;
  int iStack84;
  undefined auStack80 [14];
  byte abStack66 [4];
  undefined uStack62;
  undefined uStack61;
  undefined uStack60;
  undefined uStack59;
  undefined uStack58;
  undefined uStack57;
  int iStack52;
  
  iStack52 = __stack_chk_guard;
  uVar1 = FUN_00022294(*(char ***)(param_1 + 8));
  uStack88 = 0;
  iStack84 = 0;
  *(undefined4 *)(param_1 + 0x28) = uVar1;
  *(undefined4 *)(param_1 + 0x2c) = extraout_r1;
  uStack96 = 0;
  uStack92 = 0;
  uStack120 = 0;
  iVar2 = FUN_00022ed0(param_1,0,(longlong *)&uStack96,(int *)&uStack88,&uStack120);
  uVar5 = uStack92;
  uVar4 = uStack96;
  if (iVar2 == 0) {
    *(undefined4 *)(param_1 + 0x10) = 2;
    pthread_cond_signal((pthread_cond_t *)(param_1 + 0x18));
    uVar1 = 0xffffffff;
    goto LAB_00023684;
  }
  *(uint *)(param_1 + 0x30) = uStack96;
  *(uint *)(param_1 + 0x34) = uStack92;
  *(uint *)(param_1 + 0x38) = uStack120;
  puVar3 = (uint *)malloc(0x88);
  *puVar3 = uVar4;
  puVar3[1] = uVar5;
  uVar4 = FUN_000228fc(*(int **)(param_1 + 8));
  if ((uVar4 == 0) && (iVar2 = FUN_00022404(*(undefined4 **)(param_1 + 8)), 3 < iVar2)) {
    uVar5 = FUN_00022242(&bStack108);
    uStack116 = uVar4;
    uStack112 = uVar4;
    uStack100 = uVar4;
    iVar2 = GetMPEGAudioFrameSize
                      (uVar5,(int *)&uStack116,&uStack112,&uStack104,(int *)0x0,&uStack100);
    if (iVar2 == 0) goto LAB_000233d2;
    uVar4 = *puVar3;
    *puVar3 = uVar4 + uStack116;
    puVar3[1] = puVar3[1] + (uint)CARRY4(uVar4,uStack116);
    iVar2 = FUN_000228fc(*(int **)(param_1 + 8));
    if ((iVar2 != 0) || (iVar2 = FUN_00022404(*(undefined4 **)(param_1 + 8)), iVar2 < 4))
    goto LAB_000233d2;
    if (bStack108 != 0x58) {
      if (((bStack108 == 0x49) && (bStack107 == 0x6e)) && (bStack106 == 0x66)) {
        bVar13 = cStack105 == 'o';
        goto LAB_000232cc;
      }
      goto LAB_000233d2;
    }
    if ((bStack107 != 0x69) || (bStack106 != 0x6e)) goto LAB_000233d2;
    bVar13 = cStack105 == 'g';
LAB_000232cc:
    if (((!bVar13) || (iVar2 = FUN_000228fc(*(int **)(param_1 + 8)), iVar2 != 0)) ||
       (iVar2 = FUN_00022404(*(undefined4 **)(param_1 + 8)), iVar2 < 4)) goto LAB_000233d2;
    uVar4 = FUN_00022242(&bStack108);
    if ((uVar4 & 1) != 0) {
      iVar2 = FUN_000228fc(*(int **)(param_1 + 8));
      if ((iVar2 != 0) || (iVar2 = FUN_00022404(*(undefined4 **)(param_1 + 8)), iVar2 < 4))
      goto LAB_000233d2;
      uVar5 = FUN_00022242(&bStack108);
      if (uVar5 != 0) {
        lVar16 = ((longlong)(int)uVar5 * (longlong)(int)uStack100 & 0xffffffffU) * 1000000;
        uVar15 = __aeabi_ldivmod((int)lVar16,
                                 (int)((ulonglong)((longlong)(int)uVar5 * (longlong)(int)uStack100)
                                      >> 0x20) * 1000000 + (int)((ulonglong)lVar16 >> 0x20),
                                 uStack112,(int)uStack112 >> 0x1f);
        puVar3[2] = (uint)uVar15;
        puVar3[3] = (uint)((ulonglong)uVar15 >> 0x20);
      }
    }
    if ((uVar4 & 2) != 0) {
      iVar2 = FUN_000228fc(*(int **)(param_1 + 8));
      if ((iVar2 != 0) || (iVar2 = FUN_00022404(*(undefined4 **)(param_1 + 8)), iVar2 < 4))
      goto LAB_000233d2;
      uVar5 = FUN_00022242(&bStack108);
      puVar3[4] = uVar5;
    }
    if ((uVar4 & 4) != 0) {
      iVar2 = FUN_000228fc(*(int **)(param_1 + 8));
      if ((iVar2 != 0) || (iVar2 = FUN_00022404(*(undefined4 **)(param_1 + 8)), iVar2 < 99))
      goto LAB_000233d2;
      puVar3[0x20] = 1;
    }
    iVar2 = FUN_000228fc(*(int **)(param_1 + 8));
    if (iVar2 != 0) goto LAB_000233d2;
    iVar2 = FUN_00022404(*(undefined4 **)(param_1 + 8));
    puVar9 = puVar3;
    if (iVar2 == 3) {
      puVar3[5] = (uint)(bStack107 >> 4) + (uint)bStack108 * 0x10;
      puVar3[6] = (uint)bStack106 + (bStack107 & 0xf) * 0x100;
    }
  }
  else {
LAB_000233d2:
    puVar9 = (uint *)0x0;
    free(puVar3);
  }
  iVar2 = iStack84;
  uVar4 = uStack88;
  *(uint **)(param_1 + 0x1c) = puVar9;
  if (puVar9 == (uint *)0x0) {
    iVar6 = FUN_000228fc(*(int **)(param_1 + 8));
    if ((iVar6 == 0) && (iVar6 = FUN_00022404(*(undefined4 **)(param_1 + 8)), 3 < iVar6)) {
      uVar5 = FUN_00022242(&bStack108);
      iVar6 = GetMPEGAudioFrameSize
                        (uVar5,(int *)&uStack104,&uStack100,(undefined4 *)0x0,(int *)0x0,
                         (undefined4 *)0x0);
      if (iVar6 != 0) {
        VectorAdd(CONCAT44(iVar2,uVar4),0x24,8);
        iVar6 = FUN_000228fc(*(int **)(param_1 + 8));
        if (((iVar6 == 0) && (iVar6 = FUN_00022404(*(undefined4 **)(param_1 + 8)), 0x19 < iVar6)) &&
           (iVar6 = memcmp(auStack80,&DAT_0002b1bf,4), iVar6 == 0)) {
          uVar7 = FUN_00022242(abStack66);
          uVar5 = uStack100;
          if ((int)uStack100 < 32000) {
            uStack152 = 0x240;
          }
          else {
            uStack152 = 0x480;
          }
          uVar11 = (uint)CONCAT11(uStack58,uStack57);
          __size = CONCAT11(uStack62,uStack61) * uVar11;
          __ptr = (byte *)malloc(__size);
          puVar3 = (uint *)FUN_000228fc(*(int **)(param_1 + 8));
          if (puVar3 == (uint *)0x0) {
            iVar6 = FUN_00022404(*(undefined4 **)(param_1 + 8));
            if (iVar6 < (int)__size) goto LAB_000235d6;
            lVar16 = ((ulonglong)uVar7 * 1000000 & 0xffffffff) * (ulonglong)uStack152;
            lVar16 = __aeabi_ldivmod((int)lVar16,
                                     uStack152 * (int)((ulonglong)uVar7 * 1000000 >> 0x20) +
                                     (int)((ulonglong)lVar16 >> 0x20),uVar5,(int)uVar5 >> 0x1f);
            puVar3 = (uint *)malloc(0x1018);
            *puVar3 = uVar4 + uStack104;
            puVar3[1] = iVar2 + (uint)CARRY4(uVar4,uStack104);
            if (lVar16 != 0) {
              puVar3[2] = (uint)lVar16;
              puVar3[3] = (uint)((ulonglong)lVar16 >> 0x20);
            }
            uVar4 = 0x1000;
            pvVar8 = memset(puVar3 + 5,0,0x1000);
            uVar5 = 0;
            pbVar10 = __ptr;
            puVar9 = puVar3;
            pbVar12 = __ptr;
            while (uVar5 < CONCAT11(uStack62,uStack61)) {
              if (uVar11 == 2) {
                pvVar8 = (void *)(uint)*pbVar12;
                uVar4 = (uint)pbVar12[1];
              }
              if (uVar11 == 2) {
                uVar4 = uVar4 | (int)pvVar8 << 8;
              }
              else {
                if (uVar11 == 3) {
                  uVar4 = (uint)pbVar10[1] << 8 | (uint)*pbVar10 << 0x10 | (uint)pbVar10[2];
                }
                else {
                  if (uVar11 == 1) {
                    uVar4 = (uint)__ptr[uVar5];
                  }
                  else {
                    uVar4 = FUN_00022242(__ptr + -(int)puVar3 + (int)puVar9);
                  }
                }
              }
              uVar5 = uVar5 + 1;
              pvVar8 = (void *)(CONCAT11(uStack60,uStack59) * uVar4);
              pbVar12 = pbVar12 + 2;
              puVar9[5] = (uint)pvVar8;
              pbVar10 = pbVar10 + 3;
              puVar9 = puVar9 + 1;
              uVar4 = puVar3[4] + 1;
              puVar3[4] = uVar4;
            }
            bVar13 = false;
          }
          else {
            puVar3 = (uint *)0x0;
LAB_000235d6:
            bVar13 = true;
          }
          if (__ptr != (byte *)0x0) {
            free(__ptr);
          }
          puVar9 = puVar3;
          if ((bVar13) && (puVar3 != (uint *)0x0)) {
            puVar9 = (uint *)0x0;
            free(puVar3);
          }
        }
      }
    }
    *(uint **)(param_1 + 0x20) = puVar9;
  }
  iVar2 = *(int *)(param_1 + 0x1c);
  if ((iVar2 == 0) && (iVar2 = *(int *)(param_1 + 0x20), iVar2 == 0)) {
    uVar4 = *(uint *)(param_1 + 0x28);
    iVar2 = *(int *)(param_1 + 0x2c);
    if (((int)(iVar2 - (uint)(uVar4 == 0)) < 0 ==
         (iVar2 < 0 && (int)(iVar2 + -1 + (uint)(uVar4 != 0)) < 0 != iVar2 < 0)) &&
       (iVar6 = *(int *)(param_1 + 0x50), iVar6 != 0)) {
      lVar16 = (ulonglong)(uVar4 - *(uint *)(param_1 + 0x30)) * 8000;
      uVar15 = __aeabi_uldivmod((int)lVar16,
                                ((iVar2 - *(int *)(param_1 + 0x34)) -
                                (uint)(uVar4 < *(uint *)(param_1 + 0x30))) * 8000 +
                                (int)((ulonglong)lVar16 >> 0x20),iVar6,iVar6 >> 0x1f);
      goto LAB_00023642;
    }
    *(undefined4 *)(param_1 + 0x60) = 0xffffffff;
    *(undefined4 *)(param_1 + 100) = 0xffffffff;
    __android_log_print(5,s_CdxMp3Parser_0002af66,"<%s:%u>: Duration can not calculate","CdxMp3Init"
                        ,0x46e);
  }
  else {
    dVar14 = (double)__aeabi_l2d(*(undefined4 *)(iVar2 + 8),*(undefined4 *)(iVar2 + 0xc));
    uVar15 = __aeabi_d2ulz(SUB84(dVar14 / 1000.0,0),(int)((ulonglong)(dVar14 / 1000.0) >> 0x20));
LAB_00023642:
    *(int *)(param_1 + 0x60) = (int)uVar15;
    *(int *)(param_1 + 100) = (int)((ulonglong)uVar15 >> 0x20);
  }
  FUN_000228fc(*(int **)(param_1 + 8));
  *(undefined4 *)(param_1 + 0x10) = 0;
  pthread_cond_signal((pthread_cond_t *)(param_1 + 0x18));
  uVar1 = 0;
LAB_00023684:
  if (iStack52 != __stack_chk_guard) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return uVar1;
}



undefined4 GetXINGOffsetForTime(uint *param_1,undefined4 *param_2,int *param_3)

{
  float fVar1;
  float fVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  float fVar6;
  float fVar7;
  
  if (param_1 == (uint *)0x0) {
    return 0;
  }
  uVar5 = param_1[4];
  if (uVar5 == 0) {
    return 0;
  }
  if (param_1[0x20] == 0) {
    return 0;
  }
  uVar3 = param_1[2];
  uVar4 = param_1[3];
  if ((int)uVar4 < 0) {
    return 0;
  }
  fVar1 = (float)__aeabi_l2f(*param_2,param_2[1]);
  fVar2 = (float)__aeabi_l2f(uVar3,uVar4);
  fVar2 = (fVar1 * 100.0) / fVar2;
  if (fVar2 <= 0.0) {
    fVar1 = 0.0;
    goto LAB_0002377c;
  }
  if (100.0 <= fVar2) {
    fVar1 = 256.0;
    goto LAB_0002377c;
  }
  fVar6 = ROUND(fVar2);
  if (fVar6 == 0.0) {
    fVar1 = 0.0;
LAB_00023742:
    fVar7 = (float)(ulonglong)*(byte *)((int)param_1 + (int)fVar6 + 0x1c);
  }
  else {
    fVar1 = (float)(ulonglong)*(byte *)((int)param_1 + (int)fVar6 + 0x1b);
    if ((int)fVar6 < 99) goto LAB_00023742;
    fVar7 = 256.0;
  }
  fVar1 = fVar1 + (fVar7 - fVar1) * (fVar2 - (float)(longlong)(int)fVar6);
LAB_0002377c:
  uVar3 = *param_1;
  uVar4 = param_1[1];
  fVar1 = ROUND(fVar1 * 0.00390625 * (float)(longlong)(int)uVar5);
  *param_3 = uVar3 + (int)fVar1;
  param_3[1] = uVar4 + ((int)fVar1 >> 0x1f) + (uint)CARRY4(uVar3,(uint)fVar1);
  return 1;
}



// WARNING: Could not reconcile some variable overlaps

undefined4 FUN_000237c0(int param_1,undefined4 param_2,uint param_3,uint param_4)

{
  undefined4 uVar1;
  int iVar2;
  uint uVar3;
  char *pcVar4;
  uint uVar5;
  undefined4 *puVar6;
  bool bVar7;
  bool bVar8;
  undefined8 uVar9;
  ulonglong uVar10;
  longlong lVar11;
  undefined4 uVar12;
  uint uStack84;
  int iStack80;
  int iStack76;
  uint uStack72;
  undefined4 uStack68;
  undefined8 uStack64;
  undefined4 uStack56;
  undefined4 uStack52;
  
  lVar11 = CONCAT44(param_4,param_3);
  if (param_1 == 0) {
    uVar12 = 0x529;
    pcVar4 = "<%s:%u>: \x1b[40;31mMp3 file parser seekto failed!\x1b[0m";
    uVar1 = 6;
LAB_00023872:
    __android_log_print(uVar1,s_CdxMp3Parser_0002af66,pcVar4,"CdxMp3ParserSeekTo",uVar12);
  }
  else {
    uStack64._0_4_ = param_3;
    uStack64._4_4_ = param_4;
    if (*(uint **)(param_1 + 0x1c) == (uint *)0x0) {
LAB_000237fe:
      puVar6 = *(undefined4 **)(param_1 + 0x20);
      if (puVar6 != (undefined4 *)0x0) {
        if (-1 < (int)puVar6[3]) {
          lVar11 = __aeabi_ldivmod(puVar6[2],puVar6[3],puVar6[4],0);
          uVar1 = puVar6[1];
          *(undefined4 *)(param_1 + 0x40) = *puVar6;
          *(undefined4 *)(param_1 + 0x44) = uVar1;
          uStack64 = 0;
          while( true ) {
            iVar2 = (int)((ulonglong)uStack64 >> 0x20);
            if ((puVar6[4] == 0) ||
               (bVar7 = (uint)uStack64 <= (uint)uStack64,
               (int)((iVar2 - uStack64._4_4_) - (uint)!bVar7) < 0 ==
               (uStack64 < 0 == -1 < (int)uStack64._4_4_ &&
               (int)(iVar2 + ~uStack64._4_4_ + (uint)bVar7) < 0 != uStack64 < 0))) break;
            uVar3 = *(uint *)(param_1 + 0x40);
            uStack64 = lVar11 + uStack64;
            uVar5 = puVar6[5];
            *(uint *)(param_1 + 0x40) = uVar3 + uVar5;
            *(uint *)(param_1 + 0x44) = *(int *)(param_1 + 0x44) + (uint)CARRY4(uVar3,uVar5);
          }
          goto LAB_000238a6;
        }
      }
      uVar3 = *(uint *)(param_1 + 0x50);
      if (uVar3 == 0) {
        uVar1 = 5;
        pcVar4 = "<%s:%u>: no bitrate";
        uVar12 = 0x532;
        goto LAB_00023872;
      }
      bVar7 = true;
      uVar9 = __aeabi_ldivmod((int)((ulonglong)param_3 * (ulonglong)uVar3),
                              uVar3 * param_4 + param_3 * ((int)uVar3 >> 0x1f) +
                              (int)((ulonglong)param_3 * (ulonglong)uVar3 >> 0x20),8000000,0);
      uVar9 = VectorAdd(uVar9,*(undefined8 *)(param_1 + 0x30),8);
      *(undefined8 *)(param_1 + 0x40) = uVar9;
    }
    else {
      iVar2 = GetXINGOffsetForTime
                        (*(uint **)(param_1 + 0x1c),(undefined4 *)&uStack64,(int *)(param_1 + 0x40))
      ;
      if (iVar2 == 0) goto LAB_000237fe;
LAB_000238a6:
      bVar7 = false;
      lVar11 = uStack64;
    }
    uVar5 = *(uint *)(param_1 + 0x28);
    iVar2 = *(int *)(param_1 + 0x2c);
    uVar3 = *(uint *)(param_1 + 0x44);
    bVar8 = *(uint *)(param_1 + 0x40) <= uVar5;
    if (((int)((iVar2 - uVar3) - (uint)!bVar8) < 0 !=
         (iVar2 < 0 == -1 < (int)uVar3 && (int)(iVar2 + ~uVar3 + (uint)bVar8) < 0 != iVar2 < 0)) &&
       ((int)(iVar2 - (uint)(uVar5 == 0)) < 0 ==
        (iVar2 < 0 && (int)(iVar2 + -1 + (uint)(uVar5 != 0)) < 0 != iVar2 < 0))) {
      *(uint *)(param_1 + 0x40) = uVar5;
      *(int *)(param_1 + 0x44) = iVar2;
      FUN_000228fc(*(int **)(param_1 + 8));
      *(int *)(param_1 + 0x70) = (int)lVar11;
      *(undefined4 *)(param_1 + 0x68) = 1;
      *(int *)(param_1 + 0x74) = (int)((ulonglong)lVar11 >> 0x20);
      return 0;
    }
    uStack68 = 0;
    while( true ) {
      iVar2 = FUN_000228fc(*(int **)(param_1 + 8));
      if (iVar2 != 0) break;
      iVar2 = FUN_00022404(*(undefined4 **)(param_1 + 8));
      if (iVar2 < 4) {
        return 0;
      }
      uVar3 = FUN_00022242((byte *)&uStack68);
      if (((uVar3 ^ *(uint *)(param_1 + 0x38)) & 0xfffe0c00) == 0) {
        iVar2 = GetMPEGAudioFrameSize
                          (uVar3,(int *)&uStack84,&uStack72,(undefined4 *)0x0,&iStack80,&iStack76);
        if (iVar2 != 0) {
          if (bVar7) {
            uVar10 = VectorSub(*(undefined8 *)(param_1 + 0x40),*(undefined8 *)(param_1 + 0x30),8);
            lVar11 = (uVar10 & 0xffffffff) * 8000000;
            lVar11 = __aeabi_uldivmod((int)lVar11,
                                      (int)(uVar10 >> 0x20) * 8000000 +
                                      (int)((ulonglong)lVar11 >> 0x20),*(int *)(param_1 + 0x50),
                                      *(int *)(param_1 + 0x50) >> 0x1f);
          }
          iVar2 = FUN_000228fc(*(int **)(param_1 + 8));
          if (iVar2 != 0) {
            return 0xffffffff;
          }
          uVar9 = __aeabi_ldivmod((int)((longlong)iStack76 * 1000000),
                                  (int)((ulonglong)((longlong)iStack76 * 1000000) >> 0x20),
                                  *(undefined4 *)(param_1 + 0x4c),0);
          *(undefined4 *)(param_1 + 0x68) = 1;
          uVar3 = *(uint *)(param_1 + 0x40);
          uVar9 = VectorAdd(lVar11,uVar9,8);
          *(undefined8 *)(param_1 + 0x70) = uVar9;
          *(uint *)(param_1 + 0x40) = uVar3 + uStack84;
          *(uint *)(param_1 + 0x44) = *(int *)(param_1 + 0x44) + (uint)CARRY4(uVar3,uStack84);
          return 0;
        }
      }
      uStack56 = *(undefined4 *)(param_1 + 0x40);
      uStack52 = *(undefined4 *)(param_1 + 0x44);
      iVar2 = FUN_00022ed0(param_1,*(uint *)(param_1 + 0x38),(longlong *)&uStack56,(int *)0x0,
                           (uint *)0x0);
      if (iVar2 == 0) {
        __android_log_print(6,s_CdxMp3Parser_0002af66,&DAT_0002b230,"CdxMp3ParserSeekTo",0x570);
        return 0;
      }
      *(undefined4 *)(param_1 + 0x40) = uStack56;
      *(undefined4 *)(param_1 + 0x44) = uStack52;
    }
  }
  return 0xffffffff;
}



uint FUN_00023a20(byte **param_1,uint param_2)

{
  byte bVar1;
  uint uVar2;
  uint uVar3;
  byte *pbVar4;
  byte *pbVar5;
  byte *pbVar6;
  byte *pbVar7;
  
  uVar3 = param_2 & 0x1f;
  pbVar4 = param_1[1];
  param_1[1] = (byte *)((int)pbVar4 << uVar3);
  uVar2 = ((uint)pbVar4 >> (0x1f - uVar3 & 0xff)) >> 1;
  pbVar4 = param_1[2] + -uVar3;
  param_1[2] = pbVar4;
  if ((int)pbVar4 < 0) {
    pbVar6 = param_1[3];
    if ((int)pbVar6 < 4) {
      param_1[1] = (byte *)0x0;
      pbVar5 = pbVar6;
      while( true ) {
        pbVar5 = pbVar5 + -1;
        if (pbVar5 == (byte *)0xffffffff) break;
        bVar1 = **param_1;
        *param_1 = *param_1 + 1;
        param_1[1] = (byte *)(((uint)param_1[1] | (uint)bVar1) << 8);
      }
      param_1[1] = (byte *)((int)param_1[1] << ((3 - (int)pbVar6) * 8 & 0xffU));
      param_1[2] = (byte *)((int)pbVar6 << 3);
      param_1[3] = (byte *)0x0;
    }
    else {
      pbVar5 = *param_1;
      bVar1 = *pbVar5;
      *param_1 = pbVar5 + 1;
      param_1[1] = (byte *)((uint)bVar1 << 0x18);
      pbVar7 = (byte *)((uint)(byte *)((uint)bVar1 << 0x18) | (uint)pbVar5[1] << 0x10);
      param_1[1] = pbVar7;
      *param_1 = pbVar5 + 2;
      bVar1 = pbVar5[2];
      *param_1 = pbVar5 + 3;
      pbVar7 = (byte *)((uint)pbVar7 | (uint)bVar1 << 8);
      param_1[1] = pbVar7;
      bVar1 = pbVar5[3];
      param_1[3] = pbVar6 + -4;
      *param_1 = pbVar5 + 4;
      param_1[1] = (byte *)((uint)pbVar7 | (uint)bVar1);
      param_1[2] = &SUB_00000020;
    }
    uVar2 = uVar2 | (uint)param_1[1] >> ((uint)(pbVar4 + 0x20) & 0xff);
    param_1[2] = param_1[2] + (int)pbVar4;
    param_1[1] = (byte *)((int)param_1[1] << (-(int)pbVar4 & 0xffU));
  }
  return uVar2;
}



undefined4 FUN_00023ad8(int param_1,void **param_2)

{
  void *__dest;
  undefined4 uVar1;
  void *__src;
  void *__n;
  void **ppvVar2;
  
  __n = param_2[9];
  __dest = *param_2;
  __src = *(void **)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168);
  ppvVar2 = param_2;
  if ((int)param_2[2] < (int)__n) {
    memcpy(__dest,__src,(size_t)param_2[2]);
    __dest = param_2[1];
    __n = (void *)((int)param_2[9] - (int)param_2[2]);
    __src = (void *)(*(int *)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168) + (int)param_2[2]);
  }
  memcpy(__dest,__src,(size_t)__n);
  *(int *)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168) =
       *(int *)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168) + (int)param_2[9];
  *(int *)(param_1 + 0x4c) = *(int *)(param_1 + 0x4c) - (int)param_2[9];
  if ((~(uint)param_2[4] | ~(uint)param_2[5]) != 0) {
    *(int *)(param_1 + 0x34) = *(int *)(param_1 + 0x34) + 1;
  }
  uVar1 = 0;
  if (param_2[9] == (void *)0x0) {
    __android_log_print(6,"awplayer",&DAT_0002b271,"__AacParserRead",0x57a,ppvVar2);
    uVar1 = 0xffffffff;
    *(undefined4 *)(param_1 + 0x28) = 7;
  }
  return uVar1;
}



void * FUN_00023b60(undefined4 param_1)

{
  void *__s;
  
  __s = malloc(0x12058);
  memset(__s,0,0x12058);
  *(undefined4 *)((int)__s + 8) = param_1;
  *(undefined ***)((int)__s + 4) = &PTR_FUN_00025638_1_000315fc;
  pthread_cond_init((pthread_cond_t *)((int)__s + 0xc),(pthread_condattr_t *)0x0);
  *(undefined4 *)((int)__s + 0x28) = 1;
  return __s;
}



void FUN_00023b98(undefined4 *param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (undefined4 *)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x154;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = (char *)*param_1;
    if (pcVar2 != (char *)0x0) goto LAB_00023bdc;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x155;
    pcVar3 = "stream->ops";
  }
  while( true ) {
    pcVar2 = "CdxStreamRead";
    __android_log_assert
              (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamRead",uVar4,pcVar3);
LAB_00023bdc:
    if (*(code **)(pcVar2 + 8) != (code *)0x0) break;
    pcVar1 = "!(stream->ops->read)";
    uVar4 = 0x156;
    pcVar3 = "stream->ops->read";
  }
  (**(code **)(pcVar2 + 8))();
  return;
}



int FUN_00023c3c(int param_1,void *param_2,void *param_3,int param_4,size_t param_5)

{
  uint uVar1;
  int iVar2;
  void *pvVar3;
  
  pvVar3 = (void *)((int)param_3 - (int)param_2);
  memmove(param_2,param_3,param_5);
  uVar1 = *(uint *)(param_1 + 0x20);
  *(uint *)(param_1 + 0x20) = uVar1 + (int)pvVar3;
  *(uint *)(param_1 + 0x24) =
       *(int *)(param_1 + 0x24) + ((int)pvVar3 >> 0x1f) + (uint)CARRY4(uVar1,(uint)pvVar3);
  iVar2 = FUN_00023b98(*(undefined4 **)(param_1 + 8));
  if (iVar2 < (int)(param_4 - param_5)) {
    memset((void *)((int)param_2 + iVar2 + param_5),0,(param_4 - param_5) - iVar2);
  }
  return iVar2;
}



undefined4
FUN_00023c8c(int *param_1,undefined param_2,undefined param_3,undefined param_4,undefined4 param_5)

{
  char *pcVar1;
  int iVar2;
  int extraout_r1;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (int *)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x194;
    pcVar3 = "stream";
  }
  else {
    iVar2 = *param_1;
    if (iVar2 != 0) goto LAB_00023cd0;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x195;
    pcVar3 = "stream->ops";
  }
  __android_log_assert
            (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamSeek",uVar4,pcVar3);
  iVar2 = extraout_r1;
LAB_00023cd0:
  if (*(code **)(iVar2 + 0x24) == (code *)0x0) {
    uVar4 = 0xffffffff;
  }
  else {
    uVar4 = (**(code **)(iVar2 + 0x24))();
  }
  return uVar4;
}



void FUN_00023d0c(undefined4 *param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (undefined4 *)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x164;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = (char *)*param_1;
    if (pcVar2 != (char *)0x0) goto LAB_00023d50;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x165;
    pcVar3 = "stream->ops";
  }
  while( true ) {
    pcVar2 = "CdxStreamClose";
    __android_log_assert
              (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamClose",uVar4,pcVar3);
LAB_00023d50:
    if (*(code **)(pcVar2 + 0xc) != (code *)0x0) break;
    pcVar1 = "!(stream->ops->close)";
    uVar4 = 0x166;
    pcVar3 = "stream->ops->close";
  }
  (**(code **)(pcVar2 + 0xc))();
  return;
}



undefined4 FUN_00023db0(void *param_1)

{
  FUN_00023d0c(*(undefined4 **)((int)param_1 + 8));
  pthread_cond_destroy((pthread_cond_t *)((int)param_1 + 0xc));
  free(param_1);
  return 0;
}



void FUN_00023dcc(char **param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (char **)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x174;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = *param_1;
    if (pcVar2 != (char *)0x0) goto LAB_00023e10;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x175;
    pcVar3 = "stream->ops";
  }
  while( true ) {
    pcVar2 = "CdxStreamAttribute";
    __android_log_assert
              (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamAttribute",uVar4,pcVar3);
LAB_00023e10:
    if (*(code **)(pcVar2 + 0x14) != (code *)0x0) break;
    pcVar1 = "!(stream->ops->attribute)";
    uVar4 = 0x176;
    pcVar3 = "stream->ops->attribute";
  }
  (**(code **)(pcVar2 + 0x14))();
  return;
}



undefined4 FUN_00024070(int param_1,int param_2)

{
  byte bVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  uint uVar11;
  undefined4 uVar12;
  int iVar13;
  byte *pbVar14;
  int iVar15;
  int iVar16;
  double dVar17;
  byte *local_558;
  undefined4 local_554;
  uint local_550;
  undefined4 local_54c;
  byte local_548 [27];
  byte local_52d [15];
  byte local_51e [15];
  byte local_50f [10];
  byte local_505 [1249];
  
  local_558 = (byte *)(param_2 + 4);
  local_554 = 0;
  local_550 = 0;
  local_54c = 0xffc;
  uVar2 = FUN_00023a20(&local_558,1);
  if (uVar2 != 0) {
    iVar15 = 9;
    do {
      FUN_00023a20(&local_558,8);
      iVar15 = iVar15 + -1;
    } while (iVar15 != 0);
  }
  FUN_00023a20(&local_558,1);
  FUN_00023a20(&local_558,1);
  uVar2 = FUN_00023a20(&local_558,1);
  uVar3 = FUN_00023a20(&local_558,0x17);
  uVar4 = FUN_00023a20(&local_558,4);
  uVar4 = uVar4 + 1 & 0xff;
  if ((uVar2 & 0xff) == 0) {
    FUN_00023a20(&local_558,0x14);
  }
  iVar15 = 0;
  while (iVar15 < (int)uVar4) {
    iVar16 = iVar15 * 0x52;
    uVar2 = FUN_00023a20(&local_558,4);
    pbVar14 = local_548 + iVar16;
    local_548[iVar16] = (byte)uVar2;
    uVar2 = FUN_00023a20(&local_558,2);
    local_548[iVar16 + 1] = (byte)uVar2;
    uVar2 = FUN_00023a20(&local_558,4);
    local_548[iVar16 + 2] = (byte)uVar2;
    uVar2 = FUN_00023a20(&local_558,4);
    local_548[iVar16 + 3] = (byte)(uVar2 & 0xff);
    uVar11 = FUN_00023a20(&local_558,4);
    local_548[iVar16 + 4] = (byte)(uVar11 & 0xff);
    uVar5 = FUN_00023a20(&local_558,4);
    local_548[iVar16 + 5] = (byte)(uVar5 & 0xff);
    uVar6 = FUN_00023a20(&local_558,2);
    local_548[iVar16 + 6] = (byte)(uVar6 & 0xff);
    uVar7 = FUN_00023a20(&local_558,3);
    local_548[iVar16 + 7] = (byte)(uVar7 & 0xff);
    uVar8 = FUN_00023a20(&local_558,4);
    local_548[iVar16 + 8] = (byte)(uVar8 & 0xff);
    uVar9 = FUN_00023a20(&local_558,1);
    bVar1 = (char)(uVar9 & 0xf) * '\x10';
    local_548[iVar16 + 9] = bVar1;
    if ((uVar9 & 0xf) != 0) {
      uVar9 = FUN_00023a20(&local_558,4);
      local_548[iVar16 + 9] = bVar1 | (byte)uVar9;
    }
    uVar9 = FUN_00023a20(&local_558,1);
    bVar1 = (char)(uVar9 & 0xf) * '\x10';
    local_548[iVar16 + 10] = bVar1;
    if ((uVar9 & 0xf) != 0) {
      uVar9 = FUN_00023a20(&local_558,4);
      local_548[iVar16 + 10] = bVar1 | (byte)uVar9;
    }
    uVar9 = FUN_00023a20(&local_558,1);
    bVar1 = (char)(uVar9 & 0xf) * '\x10';
    local_548[iVar16 + 0xb] = bVar1;
    if ((uVar9 & 0xf) != 0) {
      uVar9 = FUN_00023a20(&local_558,2);
      uVar10 = FUN_00023a20(&local_558,1);
      local_548[iVar16 + 0xb] = bVar1 | (byte)uVar10 | (byte)(uVar9 << 1);
    }
    iVar16 = 0;
    while (iVar16 < (int)(uVar2 & 0xff)) {
      uVar9 = FUN_00023a20(&local_558,1);
      uVar10 = FUN_00023a20(&local_558,4);
      pbVar14[iVar16 + 0xc] = (byte)uVar10 | (byte)(uVar9 << 4);
      iVar16 = iVar16 + 1;
    }
    iVar16 = 0;
    while (iVar16 < (int)(uVar11 & 0xff)) {
      uVar2 = FUN_00023a20(&local_558,1);
      uVar9 = FUN_00023a20(&local_558,4);
      pbVar14[iVar16 + 0x1b] = (byte)uVar9 | (byte)(uVar2 << 4);
      iVar16 = iVar16 + 1;
    }
    iVar16 = 0;
    while (iVar16 < (int)(uVar5 & 0xff)) {
      uVar2 = FUN_00023a20(&local_558,1);
      uVar11 = FUN_00023a20(&local_558,4);
      pbVar14[iVar16 + 0x2a] = (byte)uVar11 | (byte)(uVar2 << 4);
      iVar16 = iVar16 + 1;
    }
    iVar16 = 0;
    while (iVar16 < (int)(uVar6 & 0xff)) {
      uVar2 = FUN_00023a20(&local_558,4);
      pbVar14[iVar16 + 0x39] = (byte)uVar2;
      iVar16 = iVar16 + 1;
    }
    iVar16 = 0;
    while (iVar16 < (int)(uVar7 & 0xff)) {
      uVar2 = FUN_00023a20(&local_558,4);
      pbVar14[iVar16 + 0x3c] = (byte)uVar2;
      iVar16 = iVar16 + 1;
    }
    iVar16 = 0;
    while (iVar16 < (int)(uVar8 & 0xff)) {
      uVar2 = FUN_00023a20(&local_558,1);
      uVar11 = FUN_00023a20(&local_558,4);
      pbVar14[iVar16 + 0x43] = (byte)uVar11 | (byte)(uVar2 << 4);
      iVar16 = iVar16 + 1;
    }
    if ((local_550 & 7) != 0) {
      FUN_00023a20(&local_558,local_550 & 7);
    }
    uVar2 = FUN_00023a20(&local_558,8);
    while (uVar2 != 0) {
      FUN_00023a20(&local_558,8);
      uVar2 = uVar2 - 1;
    }
    iVar15 = iVar15 + 1;
  }
  if ((local_550 & 7) != 0) {
    FUN_00023a20(&local_558,local_550 & 7);
  }
  if (uVar4 - 1 < 0x10) {
    uVar11 = 0;
    iVar15 = 0;
    do {
      iVar16 = iVar15 * 0x52;
      pbVar14 = local_548 + iVar16;
      uVar2 = (uint)local_548[iVar16 + 8];
      if (uVar2 != 0) {
        uVar11 = 0xffffffff;
        break;
      }
      uVar11 = uVar11 + local_548[iVar16 + 3] + (uint)local_548[iVar16 + 4] +
               (uint)local_548[iVar16 + 5] + (uint)local_548[iVar16 + 6];
      while ((int)uVar2 < (int)(uint)local_548[iVar16 + 3]) {
        if ((pbVar14[uVar2 + 0xc] & 0x10) != 0) {
          uVar11 = uVar11 + 1;
        }
        uVar2 = uVar2 + 1;
      }
      iVar13 = 0;
      while (iVar13 < (int)(uint)local_548[iVar16 + 4]) {
        if ((pbVar14[iVar13 + 0x1b] & 0x10) != 0) {
          uVar11 = uVar11 + 1;
        }
        iVar13 = iVar13 + 1;
      }
      iVar13 = 0;
      while (iVar13 < (int)(uint)local_548[iVar16 + 5]) {
        if ((pbVar14[iVar13 + 0x2a] & 0x10) != 0) {
          uVar11 = uVar11 + 1;
        }
        iVar13 = iVar13 + 1;
      }
      iVar15 = iVar15 + 1;
    } while (iVar15 < (int)uVar4);
    iVar15 = 1;
    uVar2 = (uint)local_548[2];
    while (iVar15 < (int)uVar4) {
      if (local_548[iVar15 * 0x52 + 2] != uVar2) {
        uVar2 = 0xffffffff;
        break;
      }
      iVar15 = iVar15 + 1;
    }
  }
  else {
    uVar11 = 0xffffffff;
    uVar2 = uVar11;
  }
  if (((int)(uVar2 | uVar11) < 0) || (0xb < (int)uVar2)) {
    __android_log_print(6,"awplayer",&DAT_0002b344,"UnpackADIFHeader",0x343,uVar11,uVar2);
    uVar12 = 0;
  }
  else {
    *(uint *)(param_1 + 0x38) = uVar11;
    *(undefined4 *)(param_1 + 0x3c) = *(undefined4 *)(&DAT_0002cf44 + uVar2 * 4);
    if (uVar3 != 0) {
      uVar2 = *(uint *)(param_1 + 0x48);
      *(uint *)(param_1 + 0x40) = uVar3;
      dVar17 = (double)__aeabi_l2d(*(uint *)(param_1 + 0x18) - uVar2,
                                   (*(int *)(param_1 + 0x1c) - ((int)uVar2 >> 0x1f)) -
                                   (uint)(*(uint *)(param_1 + 0x18) < uVar2));
      iVar15 = SUB84(ROUND((dVar17 * 8.0 * 1000.0) / (double)(longlong)(int)uVar3),0);
      *(int *)(param_1 + 0x10) = iVar15;
      *(int *)(param_1 + 0x14) = iVar15 >> 0x1f;
    }
    uVar12 = 1;
  }
  return uVar12;
}



void FUN_00024480(char **param_1,char *param_2)

{
  char *pcVar1;
  char *pcVar2;
  code *pcVar3;
  undefined8 uVar4;
  
  uVar4 = CONCAT44(param_2,param_1);
  if (param_1 == (char **)0x0) {
    pcVar1 = "!(stream)";
    param_1 = (char **)0x17d;
    param_2 = "stream";
  }
  else {
    pcVar2 = *param_1;
    if (pcVar2 != (char *)0x0) goto LAB_000244c4;
    pcVar1 = "!(stream->ops)";
    param_1 = (char **)0x17e;
    param_2 = "stream->ops";
  }
  while( true ) {
    pcVar2 = "CdxStreamControl";
    uVar4 = __android_log_assert
                      (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamControl",param_1,
                       param_2);
LAB_000244c4:
    pcVar3 = *(code **)(pcVar2 + 0x18);
    if (pcVar3 != (code *)0x0) break;
    pcVar1 = "!(stream->ops->control)";
    param_1 = (char **)0x17f;
    param_2 = "stream->ops->control";
  }
  (*pcVar3)((int)uVar4,(int)((ulonglong)uVar4 >> 0x20),0,pcVar3,param_1,param_2);
  return;
}



int AACFindSyncWord(byte *param_1,int param_2)

{
  int iVar1;
  
  iVar1 = 0;
  while( true ) {
    if (param_2 + -1 <= iVar1) {
      return -1;
    }
    if ((*param_1 == 0xff) && ((param_1[1] & 0xf0) == 0xf0)) break;
    iVar1 = iVar1 + 1;
    param_1 = param_1 + 1;
  }
  return iVar1;
}



int AACFindSyncWord_LATM(byte *param_1,int param_2)

{
  int iVar1;
  
  iVar1 = 0;
  while( true ) {
    if (param_2 + -1 <= iVar1) {
      return -1;
    }
    if ((*param_1 == 0x56) && ((param_1[1] & 0xe0) == 0xe0)) break;
    iVar1 = iVar1 + 1;
    param_1 = param_1 + 1;
  }
  return iVar1;
}



undefined4 FUN_00024578(int param_1,int param_2)

{
  longlong lVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  uint uVar5;
  int iVar6;
  byte *pbVar7;
  undefined8 uVar8;
  
  *(undefined4 *)(param_2 + 0x20) = 1;
  if (*(int *)(param_1 + 0x44) == 2) {
    *(undefined4 *)(param_2 + 0x10) = 0xffffffff;
    *(undefined4 *)(param_2 + 0x14) = 0xffffffff;
    iVar2 = FUN_00023b98(*(undefined4 **)(param_1 + 8));
    if (iVar2 < 0) {
      __android_log_print(6,"awplayer",&DAT_00028500,"__AacParserPrefetch",0x527);
      uVar4 = 3;
      goto LAB_000245e6;
    }
    if (iVar2 != 0) {
      if (iVar2 != 0x2400) {
        __android_log_print(6,"awplayer",&DAT_0002b271,"__AacParserPrefetch",0x533);
        *(undefined4 *)(param_1 + 0x28) = 7;
      }
      *(int *)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168) = param_1 + 0x50;
      *(int *)(param_1 + 0x4c) = iVar2;
      *(int *)(param_2 + 0x24) = iVar2;
      goto LAB_00024798;
    }
    uVar4 = 0x52d;
  }
  else {
    if (*(int *)(param_1 + 0x44) == 1) {
      pbVar7 = *(byte **)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168);
      iVar6 = *(int *)(param_1 + 0x4c);
      iVar2 = 0;
      while( true ) {
        if ((iVar6 < 0x1000) && (*(int *)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x16c) == 0)) {
          iVar3 = FUN_00023c3c(param_1,(void *)(param_1 + 0x50),
                               *(void **)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168),
                               *(size_t *)(param_1 + 0x4c) + 0x1000,*(size_t *)(param_1 + 0x4c));
          iVar6 = iVar6 + iVar3;
          *(int *)(param_1 + 0x4c) = *(int *)(param_1 + 0x4c) + iVar3;
          *(void **)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168) = (void *)(param_1 + 0x50);
          pbVar7 = (byte *)(param_1 + iVar2 + 0x50);
          if (iVar3 != 0x1000) {
            *(undefined4 *)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x16c) = 1;
          }
        }
        iVar3 = AACFindSyncWord(pbVar7,iVar6);
        if (iVar3 < 0) {
          __android_log_print(6,"awplayer",&DAT_0002b385,"GetFrame",0x209);
          goto LAB_0002472e;
        }
        pbVar7 = pbVar7 + iVar3;
        if (((((pbVar7[1] & 6) == 0) && (((uint)pbVar7[2] << 0x1a) >> 0x1c < 0xc)) &&
            (uVar5 = (uint)(pbVar7[5] >> 5) | (pbVar7[3] & 3) << 0xb | (uint)pbVar7[4] << 3,
            uVar5 < 0x1001)) && ((int)uVar5 <= iVar6 - iVar3)) break;
        iVar2 = iVar2 + iVar3 + 1;
        iVar6 = (iVar6 - iVar3) + -1;
        pbVar7 = pbVar7 + 1;
        if (0x1000 < iVar2) {
          __android_log_print(5,"awplayer","<%s:%u>: SyncWord :%d","GetFrame",0x222,iVar3);
          *(int *)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168) =
               *(int *)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168) + iVar2;
          *(int *)(param_1 + 0x4c) = *(int *)(param_1 + 0x4c) - iVar2;
          iVar2 = 0;
        }
      }
      iVar2 = iVar2 + iVar3 + uVar5;
      if (iVar2 < 0) {
LAB_0002472e:
        if (*(int *)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x16c) != 0) {
          __android_log_print(6,"awplayer",&DAT_0002b271,"__AacParserPrefetch",0x542);
          *(undefined4 *)(param_1 + 0x28) = 7;
        }
        *(undefined4 *)(param_2 + 0x24) = *(undefined4 *)(param_1 + 0x4c);
        *(undefined4 *)(param_2 + 0x10) = 0xffffffff;
        *(undefined4 *)(param_2 + 0x14) = 0xffffffff;
        __android_log_print(6,"awplayer",&DAT_0002b3c6,"__AacParserPrefetch",0x547);
      }
      else {
        *(int *)(param_2 + 0x24) = iVar2;
        lVar1 = (longlong)*(int *)(param_1 + 0x34) * 0x3d090000;
        uVar8 = __aeabi_ldivmod((int)lVar1,(int)((ulonglong)lVar1 >> 0x20),*(int *)(param_1 + 0x3c),
                                *(int *)(param_1 + 0x3c) >> 0x1f);
        *(int *)(param_2 + 0x10) = (int)uVar8;
        *(int *)(param_2 + 0x14) = (int)((ulonglong)uVar8 >> 0x20);
      }
    }
LAB_00024798:
    if (*(int *)(param_2 + 0x24) != 0) {
      *(uint *)(param_2 + 0x28) = *(uint *)(param_2 + 0x28) | 6;
      return 0;
    }
    uVar4 = 0x554;
  }
  __android_log_print(6,"awplayer",&DAT_0002b271,"__AacParserPrefetch",uVar4);
  uVar4 = 7;
LAB_000245e6:
  *(undefined4 *)(param_1 + 0x28) = uVar4;
  return 0xffffffff;
}



undefined4 GetNextFrame(int param_1)

{
  int iVar1;
  int iVar2;
  size_t sVar3;
  uint uVar4;
  byte **ppbVar5;
  uint uVar6;
  byte *pbVar7;
  
  sVar3 = *(size_t *)(param_1 + 0x4c);
  if (((int)sVar3 < 0x1000) && (*(int *)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x16c) == 0)) {
    iVar1 = FUN_00023c3c(param_1,(void *)(param_1 + 0x50),
                         *(void **)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168),sVar3 + 0x1000,
                         sVar3);
    *(int *)(param_1 + 0x4c) = *(int *)(param_1 + 0x4c) + iVar1;
    *(void **)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168) = (void *)(param_1 + 0x50);
    if (iVar1 == 0) {
      return 0;
    }
    if (iVar1 != 0x1000) {
      *(undefined4 *)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x16c) = 1;
    }
  }
  uVar6 = *(uint *)(param_1 + 0x44);
  iVar1 = *(int *)(param_1 + 0x4c);
  if (uVar6 == 1) {
    pbVar7 = *(byte **)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168);
    iVar2 = AACFindSyncWord(pbVar7,iVar1);
    if (-1 < iVar2) {
      pbVar7 = pbVar7 + iVar2;
      iVar1 = iVar1 - iVar2;
      *(byte **)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168) = pbVar7;
      *(int *)(param_1 + 0x4c) = iVar1;
      uVar4 = (uint)(pbVar7[5] >> 5) | (pbVar7[3] & 3) << 0xb | (uint)pbVar7[4] << 3;
      if ((uVar4 < 0x1001) && (uVar6 = uVar4, iVar1 < (int)uVar4)) {
        uVar6 = 1;
      }
      *(byte **)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168) = pbVar7 + uVar6;
      *(uint *)(param_1 + 0x4c) = iVar1 - uVar6;
      ppbVar5 = (byte **)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168);
      while( true ) {
        sVar3 = *(size_t *)(param_1 + 0x4c);
        if (((int)sVar3 < 0x1000) && (*(int *)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x16c) == 0)) {
          iVar1 = FUN_00023c3c(param_1,(byte *)(param_1 + 0x50),*ppbVar5,sVar3 + 0x1000,sVar3);
          *(int *)(param_1 + 0x4c) = *(int *)(param_1 + 0x4c) + iVar1;
          *ppbVar5 = (byte *)(param_1 + 0x50);
          if (iVar1 == 0) {
            return 0;
          }
          if (iVar1 != 0x1000) {
            *(undefined4 *)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x16c) = 1;
          }
        }
        pbVar7 = *ppbVar5;
        iVar2 = *(int *)(param_1 + 0x4c);
        iVar1 = AACFindSyncWord(pbVar7,iVar2);
        if (iVar1 < 0) break;
        pbVar7 = pbVar7 + iVar1;
        iVar2 = iVar2 - iVar1;
        *ppbVar5 = pbVar7;
        *(int *)(param_1 + 0x4c) = iVar2;
        if ((((uint)pbVar7[1] << 0x1d) >> 0x1e == 0) && (((uint)pbVar7[2] << 0x1a) >> 0x1c < 0xc)) {
          return 0;
        }
        *(int *)(param_1 + 0x4c) = iVar2 + -1;
        *ppbVar5 = pbVar7 + 1;
      }
    }
  }
  else {
    pbVar7 = *(byte **)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168);
    iVar2 = AACFindSyncWord_LATM(pbVar7,iVar1);
    if (-1 < iVar2) {
      pbVar7 = pbVar7 + iVar2;
      iVar1 = iVar1 - iVar2;
      *(byte **)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168) = pbVar7;
      *(int *)(param_1 + 0x4c) = iVar1;
      uVar6 = (uint)pbVar7[2] | (pbVar7[1] & 0x1f) << 8;
      if (uVar6 < 0x1001) {
        if (iVar1 < (int)uVar6) {
          uVar6 = 0;
        }
      }
      else {
        uVar6 = 0;
      }
      sVar3 = iVar1 - (uVar6 + 3);
      *(byte **)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168) = pbVar7 + uVar6 + 3;
      *(size_t *)(param_1 + 0x4c) = sVar3;
      if (((int)sVar3 < 0x1000) && (*(int *)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x16c) == 0)) {
        iVar1 = FUN_00023c3c(param_1,(void *)(param_1 + 0x50),pbVar7 + uVar6 + 3,sVar3 + 0x1000,
                             sVar3);
        *(int *)(param_1 + 0x4c) = *(int *)(param_1 + 0x4c) + iVar1;
        *(void **)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168) = (void *)(param_1 + 0x50);
        if (iVar1 == 0) {
          return 0;
        }
        if (iVar1 != 0x1000) {
          *(undefined4 *)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x16c) = 1;
        }
      }
      iVar2 = *(int *)(param_1 + 0x4c);
      pbVar7 = *(byte **)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168);
      iVar1 = AACFindSyncWord_LATM(pbVar7,iVar2);
      if (-1 < iVar1) {
        *(byte **)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168) = pbVar7 + iVar1;
        *(int *)(param_1 + 0x4c) = iVar2 - iVar1;
        return 0;
      }
    }
  }
  return 0xffffffff;
}



undefined4 FUN_00025248(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  undefined4 uVar1;
  int iVar2;
  uint uVar3;
  undefined *puVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  int *piVar13;
  uint uVar14;
  bool bVar15;
  undefined8 uVar16;
  longlong lVar17;
  int local_34;
  
  if (*(int *)(param_1 + 0x30) == 0) {
    uVar1 = 0x5c2;
    puVar4 = &DAT_0002b560;
LAB_000252d4:
    __android_log_print(6,"awplayer",puVar4,"__AacParserSeekTo",uVar1);
    uVar1 = 0xffffffff;
  }
  else {
    lVar17 = __aeabi_ldivmod(param_3,param_4,1000000,0);
    iVar12 = *(int *)(param_1 + 0x34);
    lVar17 = lVar17 * *(int *)(param_1 + 0x3c) + 0x380;
    uVar6 = (uint)lVar17 >> 10 | (int)((ulonglong)lVar17 >> 0x20) * 0x400000;
    if (iVar12 < (int)uVar6) {
      iVar9 = 0;
      while ((iVar10 = uVar6 - iVar12, iVar9 < (int)(uVar6 - iVar12) &&
             (iVar2 = GetNextFrame(param_1), iVar10 = iVar9,
             *(int *)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x16c) != 1))) {
        if (iVar2 < 0) {
          uVar1 = 0x5d3;
          puVar4 = &DAT_0002b583;
          goto LAB_000252d4;
        }
        iVar9 = iVar9 + 1;
      }
      *(int *)(param_1 + 0x34) = *(int *)(param_1 + 0x34) + iVar10;
    }
    else {
      if ((int)uVar6 < iVar12) {
        local_34 = 0;
        piVar13 = (int *)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168);
        iVar9 = param_1 + 0x50;
        while (local_34 < (int)(iVar12 - uVar6)) {
          iVar10 = *piVar13;
          if (8 < iVar10 - iVar9) {
            *piVar13 = iVar10 + -7;
            iVar10 = -1;
            *(int *)(param_1 + 0x4c) = *(int *)(param_1 + 0x4c) + 7;
            goto LAB_00025554;
          }
          iVar11 = *(int *)(param_1 + 0x4c);
          uVar14 = *(uint *)(param_1 + 0x20);
          uVar3 = *(uint *)(param_1 + 0x48);
          uVar7 = (iVar10 - iVar9) + iVar11 + 0x800;
          uVar5 = (int)uVar7 >> 0x1f;
          iVar2 = (int)uVar3 >> 0x1f;
          iVar8 = (*(int *)(param_1 + 0x24) - iVar2) - (uint)(uVar14 < uVar3);
          bVar15 = uVar7 <= uVar14 - uVar3;
          if ((int)((iVar8 - uVar5) - (uint)!bVar15) < 0 ==
              (iVar8 < 0 == -1 < (int)uVar5 && (int)(iVar8 + ~uVar5 + (uint)bVar15) < 0 != iVar8 < 0
              )) {
            iVar10 = ((iVar9 - iVar10) - iVar11) + -0x800;
            iVar10 = FUN_00023c8c(*(int **)(param_1 + 8),1,(char)iVar10,(char)(iVar10 >> 0x1f),1);
            if ((iVar10 == 0) &&
               (iVar10 = FUN_00023b98(*(undefined4 **)(param_1 + 8)), iVar10 == 0x800)) {
              *(undefined4 *)(param_1 + 0x4c) = 0;
              *piVar13 = param_1 + 0x850;
              uVar16 = VectorAdd(*(undefined8 *)(param_1 + 0x20),0xfffffffffffff800,8);
              *(undefined8 *)(param_1 + 0x20) = uVar16;
              goto LAB_00025554;
            }
LAB_00025616:
            uVar1 = 0x5e2;
            puVar4 = &DAT_0002b5ab;
            goto LAB_000252d4;
          }
          iVar8 = ((iVar9 - iVar10) - iVar11) + (uVar14 - uVar3);
          if (0 < iVar8) {
LAB_000254a2:
            iVar10 = FUN_00023c8c(*(int **)(param_1 + 8),(char)iVar11,(char)uVar3,(char)iVar2,0);
            if ((iVar10 == 0) &&
               (iVar10 = FUN_00023b98(*(undefined4 **)(param_1 + 8)), iVar10 == iVar8)) {
              *(undefined4 *)(param_1 + 0x4c) = 0;
              *piVar13 = param_1 + iVar10 + 0x50;
              *(int *)(param_1 + 0x20) = *(int *)(param_1 + 0x48);
              *(int *)(param_1 + 0x24) = *(int *)(param_1 + 0x48) >> 0x1f;
LAB_00025554:
              while (iVar10 == -1) {
                do {
                  iVar11 = *piVar13;
                  iVar2 = iVar11 - iVar9;
                  iVar10 = iVar2 + -2;
                  if (*(int *)(param_1 + 0x44) != 1) goto LAB_00025476;
                  while( true ) {
                    if (iVar10 < 1) {
                      iVar10 = *(int *)(param_1 + 0x4c);
                      uVar14 = *(uint *)(param_1 + 0x20);
                      uVar3 = *(uint *)(param_1 + 0x48);
                      uVar7 = iVar2 + iVar10 + 0x800;
                      uVar5 = (int)uVar7 >> 0x1f;
                      iVar2 = (int)uVar3 >> 0x1f;
                      iVar8 = (*(int *)(param_1 + 0x24) - iVar2) - (uint)(uVar14 < uVar3);
                      bVar15 = uVar7 <= uVar14 - uVar3;
                      if ((int)((iVar8 - uVar5) - (uint)!bVar15) < 0 ==
                          (iVar8 < 0 == -1 < (int)uVar5 &&
                          (int)(iVar8 + ~uVar5 + (uint)bVar15) < 0 != iVar8 < 0)) goto LAB_000254dc;
                      iVar8 = (uVar14 - uVar3) + ((iVar9 - iVar11) - iVar10);
                      if (iVar8 < 1) goto LAB_0002555a;
                      goto LAB_0002549e;
                    }
                    iVar8 = param_1 + iVar10;
                    if ((*(char *)(iVar8 + 0x50) == -1) &&
                       ((*(byte *)(iVar8 + 0x51) & 0xf0) == 0xf0)) break;
                    iVar10 = iVar10 + -1;
                  }
                  iVar2 = (iVar2 - iVar10) + *(int *)(param_1 + 0x4c);
                  *(int *)(param_1 + 0x4c) = iVar2;
                  *piVar13 = param_1 + iVar10 + 0x50;
                } while (((*(byte *)(iVar8 + 0x51) & 6) != 0) ||
                        (((0xb < ((uint)*(byte *)(iVar8 + 0x52) << 0x1a) >> 0x1c ||
                          (uVar5 = (uint)(*(byte *)(iVar8 + 0x55) >> 5) |
                                   (*(byte *)(iVar8 + 0x53) & 3) << 0xb |
                                   (uint)*(byte *)(iVar8 + 0x54) << 3, 0x1000 < uVar5)) ||
                         (iVar2 < (int)uVar5))));
              }
              goto LAB_0002555a;
            }
            goto LAB_00025616;
          }
LAB_0002555a:
          local_34 = local_34 + 1;
        }
        *(uint *)(param_1 + 0x34) = *(int *)(param_1 + 0x34) - (iVar12 - uVar6);
        *(undefined4 *)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x16c) = 0;
      }
    }
    pthread_cond_signal((pthread_cond_t *)(param_1 + 0xc));
    uVar1 = 0;
  }
  return uVar1;
LAB_00025476:
  if (iVar10 < 1) {
    iVar10 = *(int *)(param_1 + 0x4c);
    uVar14 = *(uint *)(param_1 + 0x20);
    uVar3 = *(uint *)(param_1 + 0x48);
    uVar7 = iVar2 + iVar10 + 0x800;
    uVar5 = (int)uVar7 >> 0x1f;
    iVar2 = (int)uVar3 >> 0x1f;
    iVar8 = (*(int *)(param_1 + 0x24) - iVar2) - (uint)(uVar14 < uVar3);
    bVar15 = uVar7 <= uVar14 - uVar3;
    if ((int)((iVar8 - uVar5) - (uint)!bVar15) < 0 ==
        (iVar8 < 0 == -1 < (int)uVar5 && (int)(iVar8 + ~uVar5 + (uint)bVar15) < 0 != iVar8 < 0))
    goto LAB_000254dc;
    iVar8 = (uVar14 - uVar3) + ((iVar9 - iVar11) - iVar10);
    if (0 < iVar8) goto LAB_0002549e;
    goto LAB_00025616;
  }
  if ((*(char *)(param_1 + iVar10 + 0x50) == 'V') &&
     ((*(byte *)(param_1 + iVar10 + 0x51) & 0xe0) == 0xe0)) goto LAB_0002547c;
  iVar10 = iVar10 + -1;
  goto LAB_00025476;
LAB_0002547c:
  *(int *)(param_1 + 0x4c) = *(int *)(param_1 + 0x4c) + (iVar2 - iVar10);
  *piVar13 = param_1 + iVar10 + 0x50;
  goto LAB_00025554;
LAB_000254dc:
  iVar2 = ((iVar9 - iVar11) - iVar10) + -0x800;
  iVar10 = FUN_00023c8c(*(int **)(param_1 + 8),(char)iVar10,(char)iVar2,(char)(iVar2 >> 0x1f),1);
  if ((iVar10 != 0) || (iVar10 = FUN_00023b98(*(undefined4 **)(param_1 + 8)), iVar10 != 0x800))
  goto LAB_00025616;
  *(undefined4 *)(param_1 + 0x4c) = 0;
  *piVar13 = param_1 + 0x850;
  uVar16 = VectorAdd(*(undefined8 *)(param_1 + 0x20),0xfffffffffffff800,8);
  *(undefined8 *)(param_1 + 0x20) = uVar16;
  goto LAB_0002555a;
LAB_0002549e:
  iVar11 = 0;
  goto LAB_000254a2;
}



undefined8 FUN_00025638(int param_1,undefined4 param_2,undefined4 *param_3)

{
  char **ppcVar1;
  int iVar2;
  uint uVar3;
  char *pcVar4;
  undefined *puVar5;
  int iVar6;
  undefined4 uVar7;
  undefined4 *puVar8;
  
  iVar6 = param_1;
  switch(param_2) {
  case 0:
  case 2:
  case 3:
    break;
  default:
    iVar6 = 0x511;
    __android_log_print(5,"awplayer","<%s:%u>: not implement...(%d)","__AacParserControl",0x511,
                        param_2,param_3);
    break;
  case 6:
    iVar6 = 0x4e8;
    __android_log_print(3,"awplayer","<%s:%u>: replace stream!!!","__AacParserControl",0x4e8,param_2
                        ,param_3);
    if (*(undefined4 **)(param_1 + 8) != (undefined4 *)0x0) {
      FUN_00023d0c(*(undefined4 **)(param_1 + 8));
    }
    *(undefined4 **)(param_1 + 8) = param_3;
    *(undefined4 *)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x16c) = 0;
    *(undefined4 *)(param_1 + 0x28) = 0;
    break;
  case 9:
    uVar7 = param_2;
    if (*(char ***)(param_1 + 8) == (char **)0x0) {
      iVar6 = 0x4f4;
      puVar5 = &DAT_0002b5f0;
    }
    else {
      puVar8 = param_3;
      uVar3 = FUN_00023dcc(*(char ***)(param_1 + 8));
      uVar3 = uVar3 & 1;
      if (uVar3 == 0) goto LAB_00025748;
      iVar6 = 0;
      iVar2 = FUN_00023c8c(*(int **)(param_1 + 8),0,(char)*param_3,(char)param_3[1],0);
      param_3 = puVar8;
      if (iVar2 < 0) {
        iVar6 = 0x500;
        __android_log_print(6,"awplayer",&DAT_00028b40,"__AacParserControl",0x500,uVar7,puVar8);
        param_3 = puVar8;
      }
      memset((void *)(param_1 + 0x50),0,0x12000);
      *(void **)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x168) = (void *)(param_1 + 0x50);
      *(undefined4 *)(param_1 + 0x4c) = 0;
      iVar2 = GetNextFrame(param_1);
      if (-1 < iVar2) {
        *(undefined4 *)((int)DWORD_ARRAY_00011ee8 + param_1 + 0x16c) = 0;
      }
      if (-1 < iVar2) {
        *(undefined4 *)(param_1 + 0x34) = 0;
        break;
      }
      iVar6 = 0x508;
      puVar5 = &DAT_0002b63b;
    }
    __android_log_print(6,"awplayer",puVar5,"__AacParserControl",iVar6,uVar7,param_3);
    uVar3 = 0xffffffff;
    goto LAB_00025748;
  case 0xb:
    ppcVar1 = *(char ***)(param_1 + 8);
    pcVar4 = (char *)0x105;
    goto LAB_00025664;
  case 0xc:
    ppcVar1 = *(char ***)(param_1 + 8);
    pcVar4 = (char *)0x106;
LAB_00025664:
    FUN_00024480(ppcVar1,pcVar4);
  }
  uVar3 = 0;
  *(undefined4 *)(param_1 + 0x2c) = param_2;
LAB_00025748:
  return CONCAT44(iVar6,uVar3);
}



undefined4 FUN_00025788(char *param_1,int param_2)

{
  char *pcVar1;
  int iVar2;
  char *pcVar3;
  code *pcVar4;
  void **__ptr;
  void **ppvVar5;
  undefined4 uVar6;
  
  __ptr = *(void ***)(param_1 + 0x34b0);
  *(undefined4 *)(param_1 + 0x34b0) = 0;
  while (__ptr != (void **)0x0) {
    if (*__ptr != (void *)0x0) {
      free(*__ptr);
      __android_log_print(6,"awplayer",&DAT_0002b66c,"__Id3ParserClose",0x712,param_2);
      *__ptr = (void *)0x0;
    }
    ppvVar5 = (void **)__ptr[2];
    free(__ptr);
    param_2 = *(int *)(param_1 + 0x34b4) + -1;
    *(int *)(param_1 + 0x34b4) = param_2;
    __android_log_print(6,"awplayer",&DAT_0002b68a,"__Id3ParserClose",0x71b,param_2);
    __ptr = ppvVar5;
  }
  if (*(int *)(param_1 + 0x18) == 0) goto LAB_0002584c;
  iVar2 = *(int *)(*(int *)(param_1 + 0x18) + 4);
  if (iVar2 == 0) {
    pcVar1 = "!(parser->ops)";
    uVar6 = 0x1f6;
    pcVar3 = "CdxParserClose";
    param_1 = "parser->ops";
  }
  else {
    pcVar3 = *(char **)(iVar2 + 0x1c);
    if ((code *)pcVar3 != (code *)0x0) goto LAB_0002584a;
    pcVar1 = "!(parser->ops->close)";
    pcVar3 = "CdxParserClose";
    uVar6 = 0x1f7;
    param_1 = "parser->ops->close";
  }
  while( true ) {
    while( true ) {
      while( true ) {
        __android_log_assert(pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.",pcVar3,uVar6,param_1);
LAB_0002584a:
        (*(code *)pcVar3)();
LAB_0002584c:
        pthread_mutex_destroy((pthread_mutex_t *)(param_1 + 0x145c));
        if (*(int **)(param_1 + 8) != (int *)0x0) break;
        pcVar1 = "!(stream)";
        pcVar3 = "CdxStreamClose";
        uVar6 = 0x164;
        param_1 = "stream";
      }
      iVar2 = **(int **)(param_1 + 8);
      if (iVar2 != 0) break;
      pcVar1 = "!(stream->ops)";
      pcVar3 = "CdxStreamClose";
      uVar6 = 0x165;
      param_1 = "stream->ops";
    }
    pcVar4 = *(code **)(iVar2 + 0xc);
    if (pcVar4 != (code *)0x0) break;
    pcVar1 = "!(stream->ops->close)";
    uVar6 = 0x166;
    pcVar3 = "CdxStreamClose";
    param_1 = "stream->ops->close";
  }
  (*pcVar4)();
  free(param_1);
  return 0;
}



void FUN_00025940(int param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == 0) {
    pcVar1 = "!(parser)";
    uVar4 = 0x1ed;
    pcVar3 = s_parser_00027c35;
  }
  else {
    pcVar2 = *(char **)(param_1 + 4);
    if (pcVar2 != (char *)0x0) goto LAB_00025984;
    pcVar1 = "!(parser->ops)";
    uVar4 = 0x1ee;
    pcVar3 = "parser->ops";
  }
  while( true ) {
    pcVar2 = "CdxParserGetStatus";
    __android_log_assert
              (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxParserGetStatus",uVar4,pcVar3);
LAB_00025984:
    if (*(code **)(pcVar2 + 0x18) != (code *)0x0) break;
    pcVar1 = "!(parser->ops->getStatus)";
    uVar4 = 0x1ef;
    pcVar3 = "parser->ops->getStatus";
  }
  (**(code **)(pcVar2 + 0x18))();
  return;
}



undefined4 FUN_00025b88(int param_1,char *param_2)

{
  int iVar1;
  char *pcVar2;
  size_t __n;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  int iVar8;
  int iVar9;
  char *pcVar10;
  undefined4 uVar11;
  
  if (((int)*(size_t *)(param_1 + 0x1484) < 0x40) && (*(void **)(param_1 + 0x1488) != (void *)0x0))
  {
    memcpy(param_2 + 0x330c,*(void **)(param_1 + 0x1488),*(size_t *)(param_1 + 0x1484));
    *(undefined4 *)(param_2 + 0x334c) = *(undefined4 *)(param_1 + 0x1484);
    *(undefined4 *)(param_2 + 0x3350) = *(undefined4 *)(param_1 + 0x148c);
  }
  if (((int)*(size_t *)(param_1 + 0x1478) < 0x40) && (*(void **)(param_1 + 0x147c) != (void *)0x0))
  {
    memcpy(param_2 + 0x3354,*(void **)(param_1 + 0x147c),*(size_t *)(param_1 + 0x1478));
    *(undefined4 *)(param_2 + 0x3394) = *(undefined4 *)(param_1 + 0x1478);
    *(undefined4 *)(param_2 + 0x3398) = *(undefined4 *)(param_1 + 0x1480);
  }
  if (((int)*(size_t *)(param_1 + 0x1490) < 0x40) && (*(void **)(param_1 + 0x1494) != (void *)0x0))
  {
    memcpy(param_2 + 0x342c,*(void **)(param_1 + 0x1494),*(size_t *)(param_1 + 0x1490));
    *(undefined4 *)(param_2 + 0x346c) = *(undefined4 *)(param_1 + 0x1490);
    *(undefined4 *)(param_2 + 0x3470) = *(undefined4 *)(param_1 + 0x1498);
  }
  __n = *(size_t *)(param_1 + 0x1460);
  if (((int)__n < 0x40) && (*(void **)(param_1 + 0x1464) != (void *)0x0)) {
    memcpy(param_2 + 0x339c,*(void **)(param_1 + 0x1464),__n);
    *(size_t *)(param_2 + 0x33dc) = *(size_t *)(param_1 + 0x1460);
    *(undefined4 *)(param_2 + 0x33e0) = *(undefined4 *)(param_1 + 0x1468);
  }
  if (((int)*(size_t *)(param_1 + 0x146c) < 0x40) && (*(void **)(param_1 + 0x1470) != (void *)0x0))
  {
    memcpy(param_2 + 0x33e4,*(void **)(param_1 + 0x1470),*(size_t *)(param_1 + 0x146c));
    *(undefined4 *)(param_2 + 0x3424) = *(undefined4 *)(param_1 + 0x146c);
    *(undefined4 *)(param_2 + 0x3428) = *(undefined4 *)(param_1 + 0x1474);
  }
  if ((*(int *)(param_1 + 0x34b0) != 0) && (0 < *(int *)(*(int *)(param_1 + 0x34b0) + 4))) {
    __android_log_print(6,"awplayer",&DAT_0002b7a1,"__Id3ParserGetMediaInfo",0x6d7,
                        *(undefined4 *)(param_1 + 0x34b4));
    *(undefined4 *)(param_2 + 0x3640) = *(undefined4 *)(*(int *)(param_1 + 0x34b0) + 4);
    *(undefined4 *)(param_2 + 0x363c) = **(undefined4 **)(param_1 + 0x34b0);
  }
  iVar1 = *(int *)(param_1 + 0x18);
  if (iVar1 == 0) {
    return 0xffffffff;
  }
  if (*(int *)(iVar1 + 4) == 0) {
    pcVar2 = "!(parser->ops)";
    uVar11 = 0x1d4;
    param_2 = "parser->ops";
  }
  else {
    pcVar10 = *(char **)(*(int *)(iVar1 + 4) + 0xc);
    if ((code *)pcVar10 != (code *)0x0) goto LAB_00025ce2;
    param_1 = 0x1d5;
    pcVar2 = "!(parser->ops->getMediaInfo)";
    uVar11 = 0x1d5;
    param_2 = "parser->ops->getMediaInfo";
  }
  pcVar10 = "CdxParserGetMediaInfo";
  iVar1 = __android_log_assert
                    (pcVar2,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxParserGetMediaInfo",uVar11
                     ,param_2);
LAB_00025ce2:
  uVar11 = (*(code *)pcVar10)(iVar1,param_2);
  __android_log_print(3,"awplayer","<%s:%u>: *********PrintMediaInfo begin*********",
                      "PrintMediaInfo",0x18b);
  uVar3 = *(undefined4 *)(param_2 + 0xc);
  uVar4 = *(undefined4 *)(param_2 + 0x20);
  uVar5 = *(undefined4 *)(param_2 + 0x24);
  uVar6 = *(undefined4 *)(param_2 + 0x2c);
  uVar7 = *(undefined4 *)(param_2 + 0x34);
  __android_log_print(3,"awplayer",
                                            
                      "<%s:%u>: fileSize = %lld, bSeekable = %d, duration = %d, audioNum = %d, videoNum = %d, subtitleNum = %d "
                      ,"PrintMediaInfo",0x199);
  if (0 < *(int *)(param_2 + 0x2c)) {
    uVar3 = *(undefined4 *)(param_2 + 0x1250);
    uVar4 = *(undefined4 *)(param_2 + 0x1254);
    uVar5 = *(undefined4 *)(param_2 + 0x1258);
    uVar6 = *(undefined4 *)(param_2 + 0x1260);
    __android_log_print(3,"awplayer",
                                                
                        "<%s:%u>: ***Video[%d]*** eCodecFormat = 0x%x, nWidth = %d, nHeight = %d, nFrameRate = %d, nFrameDuration = %d, bIs3DStream = %d "
                        ,"PrintMediaInfo",0x1ab,0,*(undefined4 *)(param_2 + 0x1248),
                        *(undefined4 *)(param_2 + 0x124c),uVar3,uVar4,uVar5,uVar6,uVar7);
  }
  iVar1 = 0;
  do {
    if (*(int *)(param_2 + 0x24) <= iVar1) break;
    iVar9 = iVar1 * 0x90 + 0x30;
    pcVar10 = param_2 + 0x18 + iVar9;
    iVar8 = iVar1 + 1;
    uVar3 = *(undefined4 *)(pcVar10 + 8);
    uVar4 = *(undefined4 *)(pcVar10 + 0xc);
    uVar5 = *(undefined4 *)(pcVar10 + 0x10);
    __android_log_print(3,"awplayer",
                                                
                        "<%s:%u>: ***Audio[%d]*** eCodecFormat = 0x%x, eSubCodecFormat = 0x%x, nChannelNum = %d, nBitsPerSample = %d, nSampleRate = %d "
                        ,"PrintMediaInfo",0x1bd,iVar1,*(undefined4 *)(param_2 + 0x18 + iVar9),
                        *(undefined4 *)(pcVar10 + 4),uVar3,uVar4,uVar5,uVar6,uVar7);
    iVar1 = iVar8;
  } while (iVar8 != 0x20);
  iVar1 = 0;
  do {
    if (*(int *)(param_2 + 0x34) <= iVar1) break;
    iVar9 = iVar1 + 1;
    __android_log_print(3,"awplayer",
                        "<%s:%u>: ***Subtitle[%d]*** eCodecFormat = 0x%x, strLang = (%s) ",
                        "PrintMediaInfo",0x1ca,iVar1,
                        *(undefined4 *)(param_2 + iVar1 * 0x104 + 0x18 + 0x12cc),
                        param_2 + iVar1 * 0x104 + 0x18 + 0x1270,uVar3,uVar4,uVar5);
    iVar1 = iVar9;
  } while (iVar9 != 0x20);
  __android_log_print(3,"awplayer","<%s:%u>: *********PrintMediaInfo end*********","PrintMediaInfo",
                      0x1cd);
  uVar4 = FUN_00025940(*(int *)(param_1 + 0x18));
  *(undefined4 *)(param_1 + 0xc) = uVar4;
  return uVar11;
}



undefined4 FUN_00025f80(char **param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (char **)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x1ac;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = *param_1;
    if (pcVar2 != (char *)0x0) goto LAB_00025fc4;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x1ad;
    pcVar3 = "stream->ops";
  }
  pcVar2 = "CdxStreamTell";
  __android_log_assert
            (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamTell",uVar4,pcVar3);
LAB_00025fc4:
  if (*(code **)(pcVar2 + 0x30) == (code *)0x0) {
    uVar4 = 0xffffffff;
  }
  else {
    uVar4 = (**(code **)(pcVar2 + 0x30))();
  }
  return uVar4;
}



void FUN_00026000(undefined4 *param_1)

{
  char *pcVar1;
  char *pcVar2;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (undefined4 *)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x154;
    pcVar3 = "stream";
  }
  else {
    pcVar2 = (char *)*param_1;
    if (pcVar2 != (char *)0x0) goto LAB_00026044;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x155;
    pcVar3 = "stream->ops";
  }
  while( true ) {
    pcVar2 = "CdxStreamRead";
    __android_log_assert
              (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamRead",uVar4,pcVar3);
LAB_00026044:
    if (*(code **)(pcVar2 + 8) != (code *)0x0) break;
    pcVar1 = "!(stream->ops->read)";
    uVar4 = 0x156;
    pcVar3 = "stream->ops->read";
  }
  (**(code **)(pcVar2 + 8))();
  return;
}



undefined4
FUN_000260a4(int *param_1,undefined param_2,undefined param_3,undefined param_4,undefined4 param_5)

{
  char *pcVar1;
  int iVar2;
  int extraout_r1;
  char *pcVar3;
  undefined4 uVar4;
  
  if (param_1 == (int *)0x0) {
    pcVar1 = "!(stream)";
    uVar4 = 0x194;
    pcVar3 = "stream";
  }
  else {
    iVar2 = *param_1;
    if (iVar2 != 0) goto LAB_000260e8;
    pcVar1 = "!(stream->ops)";
    uVar4 = 0x195;
    pcVar3 = "stream->ops";
  }
  __android_log_assert
            (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxStreamSeek",uVar4,pcVar3);
  iVar2 = extraout_r1;
LAB_000260e8:
  if (*(code **)(iVar2 + 0x24) == (code *)0x0) {
    uVar4 = 0xffffffff;
  }
  else {
    uVar4 = (**(code **)(iVar2 + 0x24))();
  }
  return uVar4;
}



void FUN_00026230(int param_1,char *param_2)

{
  char *pcVar1;
  char *pcVar2;
  code *pcVar3;
  undefined8 uVar4;
  
  uVar4 = CONCAT44(param_2,param_1);
  if (param_1 == 0) {
    pcVar1 = "!(parser)";
    param_1 = 0x173;
    param_2 = s_parser_00027c35;
  }
  else {
    pcVar2 = *(char **)(param_1 + 4);
    if ((code **)pcVar2 != (code **)0x0) goto LAB_00026274;
    pcVar1 = "!(parser->ops)";
    param_1 = 0x174;
    param_2 = "parser->ops";
  }
  while( true ) {
    pcVar2 = "CdxParserControl";
    uVar4 = __android_log_assert
                      (pcVar1,"awplayer","<%s:%d>CDX_CHECK(%s) failed.","CdxParserControl",param_1,
                       param_2);
LAB_00026274:
    pcVar3 = *(code **)pcVar2;
    if (pcVar3 != (code *)0x0) break;
    pcVar1 = s___parser__ops__control__00027c57;
    param_1 = 0x175;
    param_2 = "parser->ops->control";
  }
  (*pcVar3)((int)uVar4,(int)((ulonglong)uVar4 >> 0x20),0,pcVar3,param_1,param_2);
  return;
}



undefined4 ID3Switch2SyncsafeInteger(uint *param_1)

{
  byte *pbVar1;
  uint uVar2;
  int iVar3;
  byte local_4 [4];
  
  uVar2 = *param_1;
  iVar3 = 0;
  *param_1 = 0;
  local_4[3] = (char)uVar2;
  local_4[0] = (byte)(uVar2 >> 0x18);
  local_4[1] = (char)(uVar2 >> 0x10);
  local_4[2] = (char)(uVar2 >> 8);
  do {
    pbVar1 = local_4 + iVar3;
    if ((int)((uint)*pbVar1 << 0x18) < 0) {
      return 0;
    }
    iVar3 = iVar3 + 1;
    *param_1 = (uint)*pbVar1 | *param_1 << 7;
  } while (iVar3 != 4);
  return 1;
}



int ID3PsrGETID3Len(char *param_1,int param_2)

{
  int iVar1;
  uint uVar2;
  
  if (((9 < param_2) && (*param_1 == 'I')) && (param_1[1] == 'D')) {
    if (param_1[2] != '3') {
      return 0;
    }
    uVar2 = (uint)(byte)param_1[9] |
            ((uint)(byte)param_1[8] | ((uint)(byte)param_1[7] | (uint)(byte)param_1[6] << 7) << 7)
            << 7;
    if ((int)((uint)(byte)param_1[5] << 0x1b) < 0) {
      iVar1 = uVar2 + 0x14;
    }
    else {
      iVar1 = uVar2 + 10;
    }
    return iVar1;
  }
  return 0;
}



undefined4 ID3PsrEncodingChange(int param_1)

{
  byte bVar1;
  int iVar2;
  byte *pbVar3;
  byte *pbVar4;
  int iVar5;
  int *piVar6;
  
  iVar2 = *(int *)(param_1 + 0x1474);
  if (iVar2 == 0) {
    iVar5 = *(int *)(param_1 + 0x146c) + -1;
    pbVar3 = (byte *)(*(int *)(param_1 + 0x1470) + iVar5 * 2);
    pbVar4 = (byte *)(*(int *)(param_1 + 0x1470) + iVar5);
    while (iVar2 < *(int *)(param_1 + 0x146c)) {
      bVar1 = *pbVar4;
      if ((int)((uint)bVar1 << 0x18) < 0) {
        pbVar3[1] = (byte)((ushort)*(undefined2 *)(windows1251_unicode + (bVar1 - 0x80) * 2) >> 8);
        *pbVar3 = (byte)*(undefined2 *)(windows1251_unicode + (*pbVar4 - 0x80) * 2);
      }
      else {
        pbVar3[1] = 0;
        *pbVar3 = bVar1;
      }
      pbVar3 = pbVar3 + -2;
      iVar2 = iVar2 + 1;
      pbVar4 = pbVar4 + -1;
    }
    *(int *)(param_1 + 0x146c) = *(int *)(param_1 + 0x146c) << 1;
    *(undefined4 *)(param_1 + 0x1474) = 1;
  }
  iVar2 = *(int *)(param_1 + 0x1480);
  if (iVar2 == 0) {
    iVar5 = *(int *)(param_1 + 0x1478) + -1;
    pbVar3 = (byte *)(*(int *)(param_1 + 0x147c) + iVar5 * 2);
    pbVar4 = (byte *)(*(int *)(param_1 + 0x147c) + iVar5);
    while (iVar2 < *(int *)(param_1 + 0x1478)) {
      bVar1 = *pbVar4;
      if ((int)((uint)bVar1 << 0x18) < 0) {
        pbVar3[1] = (byte)((ushort)*(undefined2 *)(windows1251_unicode + (bVar1 - 0x80) * 2) >> 8);
        *pbVar3 = (byte)*(undefined2 *)(windows1251_unicode + (*pbVar4 - 0x80) * 2);
      }
      else {
        pbVar3[1] = 0;
        *pbVar3 = bVar1;
      }
      pbVar3 = pbVar3 + -2;
      iVar2 = iVar2 + 1;
      pbVar4 = pbVar4 + -1;
    }
    *(int *)(param_1 + 0x1478) = *(int *)(param_1 + 0x1478) << 1;
    *(undefined4 *)(param_1 + 0x1480) = 1;
  }
  iVar2 = *(int *)(param_1 + 0x148c);
  if (iVar2 == 0) {
    iVar5 = *(int *)(param_1 + 0x1484) + -1;
    pbVar3 = (byte *)(*(int *)(param_1 + 0x1488) + iVar5 * 2);
    pbVar4 = (byte *)(*(int *)(param_1 + 0x1488) + iVar5);
    while (iVar2 < *(int *)(param_1 + 0x1484)) {
      bVar1 = *pbVar4;
      if ((int)((uint)bVar1 << 0x18) < 0) {
        pbVar3[1] = (byte)((ushort)*(undefined2 *)(windows1251_unicode + (bVar1 - 0x80) * 2) >> 8);
        *pbVar3 = (byte)*(undefined2 *)(windows1251_unicode + (*pbVar4 - 0x80) * 2);
      }
      else {
        pbVar3[1] = 0;
        *pbVar3 = bVar1;
      }
      pbVar3 = pbVar3 + -2;
      iVar2 = iVar2 + 1;
      pbVar4 = pbVar4 + -1;
    }
    *(int *)(param_1 + 0x1484) = *(int *)(param_1 + 0x1484) << 1;
    *(undefined4 *)(param_1 + 0x148c) = 1;
  }
  iVar2 = *(int *)(param_1 + 0x1498);
  if (iVar2 == 0) {
    iVar5 = *(int *)(param_1 + 0x1490) + -1;
    pbVar3 = (byte *)(*(int *)(param_1 + 0x1494) + iVar5 * 2);
    pbVar4 = (byte *)(*(int *)(param_1 + 0x1494) + iVar5);
    while (iVar2 < *(int *)(param_1 + 0x1490)) {
      bVar1 = *pbVar4;
      if ((int)((uint)bVar1 << 0x18) < 0) {
        pbVar3[1] = (byte)((ushort)*(undefined2 *)(windows1251_unicode + (bVar1 - 0x80) * 2) >> 8);
        *pbVar3 = (byte)*(undefined2 *)(windows1251_unicode + (*pbVar4 - 0x80) * 2);
      }
      else {
        pbVar3[1] = 0;
        *pbVar3 = bVar1;
      }
      pbVar3 = pbVar3 + -2;
      iVar2 = iVar2 + 1;
      pbVar4 = pbVar4 + -1;
    }
    *(int *)(param_1 + 0x1490) = *(int *)(param_1 + 0x1490) << 1;
    *(undefined4 *)(param_1 + 0x1498) = 1;
  }
  iVar2 = *(int *)(param_1 + 0x1468);
  if (iVar2 == 0) {
    piVar6 = (int *)(param_1 + 0x1460);
    pbVar3 = (byte *)(*(int *)(param_1 + 0x1464) + (*piVar6 + -1) * 2);
    pbVar4 = (byte *)(*(int *)(param_1 + 0x1464) + *piVar6 + -1);
    while (iVar2 < *piVar6) {
      bVar1 = *pbVar4;
      if ((bVar1 & 0x80) == 0) {
        pbVar3[1] = 0;
        *pbVar3 = bVar1;
      }
      else {
        pbVar3[1] = (byte)((ushort)*(undefined2 *)(windows1251_unicode + (bVar1 - 0x80) * 2) >> 8);
        *pbVar3 = (byte)*(undefined2 *)(windows1251_unicode + (*pbVar4 - 0x80) * 2);
      }
      pbVar3 = pbVar3 + -2;
      iVar2 = iVar2 + 1;
      pbVar4 = pbVar4 + -1;
    }
    *piVar6 = *piVar6 << 1;
    *(undefined4 *)(param_1 + 0x1468) = 1;
  }
  return 0;
}



undefined4 ID3PsrGetLanguageEncoding(byte *param_1)

{
  byte *pbVar1;
  int iVar2;
  byte *pbVar3;
  uint uVar4;
  
  pbVar1 = param_1;
  while( true ) {
    pbVar3 = pbVar1;
    uVar4 = (uint)*pbVar3;
    if (uVar4 == 0) break;
    pbVar1 = pbVar3 + 1;
    if ((uVar4 - 0x41 & 0xff) < 0x1a) {
      *pbVar3 = *pbVar3 + 0x20;
    }
  }
  do {
    iVar2 = strcmp((char *)param_1,&UNK_0002d044 + uVar4 * 8);
    if (iVar2 == 0) {
      return *(undefined4 *)(&DAT_0002d048 + uVar4 * 8);
    }
    uVar4 = uVar4 + 1;
  } while (uVar4 != 0x221);
  return 0xffffffff;
}



uint ID3PsrShowBs(undefined4 param_1,int param_2,int param_3)

{
  undefined4 uVar1;
  uint uVar2;
  int iVar3;
  undefined extraout_r1;
  undefined extraout_r1_00;
  uint uVar4;
  undefined4 uVar5;
  byte abStack60 [16];
  int local_2c;
  
  local_2c = __stack_chk_guard;
  memset(abStack60,0,0x10);
  uVar1 = FUN_00025f80(*(char ***)(param_3 + 8));
  uVar2 = FUN_000260a4(*(int **)(param_3 + 8),1,(char)param_1,(char)((int)param_1 >> 0x1f),1);
  if (uVar2 == 0) {
    iVar3 = FUN_00026000(*(undefined4 **)(param_3 + 8));
    uVar4 = uVar2;
    if (param_2 <= iVar3) {
      while ((int)uVar4 < param_2) {
        uVar2 = (uint)abStack60[uVar4] | uVar2 << 8;
        uVar4 = uVar4 + 1;
      }
      FUN_000260a4(*(int **)(param_3 + 8),extraout_r1_00,(char)uVar1,extraout_r1,0);
      goto LAB_00026692;
    }
    uVar1 = 0x3d6;
    uVar5 = 0x3d6;
  }
  else {
    uVar1 = 0x3d0;
    uVar5 = 0x3d0;
  }
  uVar2 = 0xffffffff;
  __android_log_print(6,"awplayer",&DAT_0002baaf,"ID3PsrShowBs",uVar5,"ID3PsrShowBs",uVar1);
LAB_00026692:
  if (local_2c != __stack_chk_guard) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return uVar2;
}



undefined4 ID3PsrSkipBsInByte(int param_1,int param_2)

{
  int iVar1;
  undefined4 uVar2;
  int iVar3;
  undefined auStack1052 [1024];
  int local_1c;
  
  local_1c = __stack_chk_guard;
  memset(auStack1052,0,0x400);
  do {
    if (param_1 == 0) {
      uVar2 = 1;
LAB_00026730:
      if (local_1c != __stack_chk_guard) {
                    // WARNING: Subroutine does not return
        __stack_chk_fail();
      }
      return uVar2;
    }
    iVar3 = param_1;
    if (0x3ff < param_1) {
      iVar3 = 0x400;
    }
    iVar1 = FUN_00026000(*(undefined4 **)(param_2 + 8));
    if (iVar1 < iVar3) {
      __android_log_print(6,"awplayer",&DAT_0002badd,"ID3PsrSkipBsInByte",0x3f2);
      uVar2 = 0;
      goto LAB_00026730;
    }
    param_1 = param_1 - iVar1;
  } while( true );
}



uint ID3PsrGetBsInByte(int param_1,int param_2,int param_3)

{
  byte *pbVar1;
  undefined4 uVar2;
  undefined extraout_r1;
  undefined extraout_r1_00;
  int iVar3;
  uint uVar4;
  byte local_6c [64];
  int local_2c;
  
  local_2c = __stack_chk_guard;
  memset(local_6c,0,0x40);
  uVar2 = FUN_00025f80(*(char ***)(param_2 + 8));
  FUN_00026000(*(undefined4 **)(param_2 + 8));
  iVar3 = 0;
  uVar4 = 0;
  while (iVar3 < param_1) {
    pbVar1 = local_6c + iVar3;
    iVar3 = iVar3 + 1;
    uVar4 = (uint)*pbVar1 | uVar4 << 8;
  }
  if (param_3 == 0) {
    FUN_000260a4(*(int **)(param_2 + 8),extraout_r1_00,(char)uVar2,extraout_r1,0);
  }
  if (local_2c != __stack_chk_guard) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return uVar4;
}



void FUN_000267cc(uint *param_1,undefined4 *param_2,int param_3,int param_4)

{
  undefined uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  undefined *puVar5;
  int iVar6;
  undefined uVar7;
  
  if (param_4 < 4) {
    *param_1 = 0;
    uVar2 = param_4 - 1;
  }
  else {
    *param_1 = param_4 - 3;
    *param_2 = *(undefined4 *)(param_3 + 0x14ac);
    if (*(int *)(param_3 + 0x14a8) < (int)*param_1) {
      return;
    }
    *(uint *)(param_3 + 0x14a8) = *(int *)(param_3 + 0x14a8) - *param_1;
    iVar6 = 0;
    uVar2 = ID3PsrGetBsInByte(2,param_3,1);
    while (iVar6 < (int)*param_1 / 2) {
      uVar3 = ID3PsrGetBsInByte(1,param_3,1);
      uVar4 = ID3PsrGetBsInByte(1,param_3,1);
      puVar5 = *(undefined **)(param_3 + 0x14ac);
      uVar7 = (char)uVar3;
      uVar1 = (char)uVar4;
      if (uVar2 != 0xfeff) {
        uVar7 = (char)uVar4;
        uVar1 = (char)uVar3;
      }
      iVar6 = iVar6 + 1;
      *puVar5 = uVar1;
      puVar5[1] = uVar7;
      *(undefined **)(param_3 + 0x14ac) = puVar5 + 2;
    }
    uVar2 = *param_1 & 1;
  }
  ID3PsrSkipBsInByte(uVar2,param_3);
  return;
}



void FUN_00026866(int *param_1,undefined4 *param_2,int param_3,int param_4)

{
  uint uVar1;
  undefined *puVar2;
  int iVar3;
  
  *param_1 = param_4 + -1;
  *param_2 = *(undefined4 *)(param_3 + 0x14ac);
  if (*param_1 <= *(int *)(param_3 + 0x14a8)) {
    iVar3 = 0;
    *(int *)(param_3 + 0x14a8) = *(int *)(param_3 + 0x14a8) - *param_1;
    while (iVar3 < *param_1) {
      iVar3 = iVar3 + 1;
      uVar1 = ID3PsrGetBsInByte(1,param_3,1);
      puVar2 = *(undefined **)(param_3 + 0x14ac);
      *puVar2 = (char)uVar1;
      *(undefined **)(param_3 + 0x14ac) = puVar2 + 1;
    }
  }
  return;
}



int ID3PsrGetStringLen(int param_1)

{
  int iVar1;
  
  iVar1 = 0;
  while (*(char *)(param_1 + iVar1) != '\0') {
    iVar1 = iVar1 + 1;
  }
  return iVar1;
}



// WARNING: Could not reconcile some variable overlaps

int ID3PsrGeTID3_V2(int param_1)

{
  undefined4 uVar1;
  uint uVar2;
  uint uVar3;
  uint *puVar4;
  int *piVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  void **__s;
  undefined extraout_r1;
  void *pvVar9;
  undefined4 *puVar10;
  char *pcVar11;
  char *pcVar12;
  size_t __n;
  int iVar13;
  int iVar14;
  int iVar15;
  void *pvVar16;
  char *pcVar17;
  int iVar18;
  bool bVar19;
  uint local_90;
  void *local_84;
  int local_80;
  uint local_78;
  void *local_74;
  undefined2 local_70;
  void *local_6c;
  int local_68;
  undefined4 local_64;
  uint local_60;
  uint local_50 [5];
  uint local_3c;
  
  *(undefined4 *)(param_1 + 0x14a8) = 0x2000;
  *(void **)(param_1 + 0x14ac) = (void *)(param_1 + 0x14b0);
  iVar14 = 0;
  memset((void *)(param_1 + 0x14b0),0,0x2000);
  uVar2 = ID3PsrGetBsInByte(4,param_1,0);
  if (uVar2 >> 8 == 0x494433) {
    ID3PsrGetBsInByte(3,param_1,1);
    uVar2 = ID3PsrGetBsInByte(2,param_1,1);
    local_90 = (uint)((uVar2 & 0xff00) == 0x200);
    local_3c = ID3PsrGetBsInByte(1,param_1,1);
    local_50[3] = ID3PsrGetBsInByte(1,param_1,1);
    local_50[2] = ID3PsrGetBsInByte(1,param_1,1);
    local_50[1] = ID3PsrGetBsInByte(1,param_1,1);
    local_50[0] = ID3PsrGetBsInByte(1,param_1,1);
    pvVar9 = (void *)(local_50[0] | (local_50[1] | (local_50[2] | local_50[3] << 7) << 7) << 7);
    local_84 = pvVar9;
    if ((int)(local_3c << 0x1b) < 0) {
      local_84 = (void *)((int)pvVar9 + 10);
    }
    iVar15 = 0;
    local_80 = 0;
    iVar14 = local_90 * 0x20;
LAB_00027016:
    if (9 < (int)pvVar9 && iVar15 < 8) {
      if (local_90 == 0) {
        local_78 = ID3PsrGetBsInByte(4,param_1,1);
        local_74 = (void *)ID3PsrGetBsInByte(4,param_1,1);
        if (((uVar2 & 0xff00) == 0x400) &&
           (iVar7 = ID3Switch2SyncsafeInteger((uint *)&local_74), iVar7 == 0)) {
          __android_log_print(6,"awplayer",&DAT_0002bafd,"ID3PsrGeTID3_V2",0x4a0);
          return -1;
        }
        iVar7 = -10;
        uVar3 = ID3PsrGetBsInByte(2,param_1,1);
        local_70 = (undefined2)uVar3;
      }
      else {
        iVar7 = -6;
        local_78 = ID3PsrGetBsInByte(3,param_1,local_90);
        local_74 = (void *)ID3PsrGetBsInByte(3,param_1,local_90);
      }
      pvVar9 = (void *)((int)pvVar9 + iVar7);
      if ((int)local_74 < 0) goto LAB_0002702e;
      if (local_74 != (void *)0x0) {
        if (local_78 == *(uint *)("2TIT1EPTBLATREYTNOCTCIPAMMOCNALT2TT" + iVar14)) {
          uVar3 = ID3PsrGetBsInByte(1,param_1,1);
          switch(uVar3) {
          case 0:
            piVar5 = (int *)(param_1 + 0x146c);
            puVar10 = (undefined4 *)(param_1 + 0x1470);
LAB_00026a94:
            iVar15 = iVar15 + 1;
            FUN_00026866(piVar5,puVar10,param_1,(int)local_74);
            if ((int)((int)local_74 - 1U) <= *(int *)(param_1 + 0x14a8)) {
              *(int *)(param_1 + 0x14a8) = *(int *)(param_1 + 0x14a8) + (1 - (int)local_74);
              *(uint *)(param_1 + 0x14ac) = *(int *)(param_1 + 0x14ac) + ((int)local_74 - 1U);
            }
            break;
          case 1:
          case 2:
            puVar4 = (uint *)(param_1 + 0x146c);
            *(undefined4 *)(param_1 + 0x1474) = 1;
            puVar10 = (undefined4 *)(param_1 + 0x1470);
            goto LAB_00026bae;
          case 3:
            piVar5 = (int *)(param_1 + 0x146c);
            *(undefined4 *)(param_1 + 0x1474) = 3;
            puVar10 = (undefined4 *)(param_1 + 0x1470);
LAB_00026bc6:
            iVar15 = iVar15 + 1;
            FUN_00026866(piVar5,puVar10,param_1,(int)local_74);
            break;
          default:
switchD_00026b44_caseD_4:
            iVar15 = iVar15 + 1;
            pvVar16 = (void *)((int)local_74 - 1);
LAB_0002700c:
            ID3PsrSkipBsInByte((int)pvVar16,param_1);
          }
        }
        else {
          if (local_78 == *(uint *)("2TIT1EPTBLATREYTNOCTCIPAMMOCNALT2TT" + iVar14 + 4)) {
            uVar3 = ID3PsrGetBsInByte(1,param_1,1);
            switch(uVar3) {
            case 0:
              piVar5 = (int *)(param_1 + 0x1478);
              puVar10 = (undefined4 *)(param_1 + 0x147c);
              goto LAB_00026a94;
            case 1:
            case 2:
              puVar4 = (uint *)(param_1 + 0x1478);
              *(undefined4 *)(param_1 + 0x1480) = 1;
              puVar10 = (undefined4 *)(param_1 + 0x147c);
              break;
            case 3:
              *(undefined4 *)(param_1 + 0x1480) = 3;
              piVar5 = (int *)(param_1 + 0x1478);
              puVar10 = (undefined4 *)(param_1 + 0x147c);
              goto LAB_00026bc6;
            default:
              goto switchD_00026b44_caseD_4;
            }
          }
          else {
            if (local_78 == *(uint *)("2TIT1EPTBLATREYTNOCTCIPAMMOCNALT2TT" + iVar14 + 8)) {
              uVar3 = ID3PsrGetBsInByte(1,param_1,1);
              switch(uVar3) {
              case 0:
                piVar5 = (int *)(param_1 + 0x1484);
                puVar10 = (undefined4 *)(param_1 + 0x1488);
LAB_00026b58:
                iVar15 = iVar15 + 1;
                FUN_00026866(piVar5,puVar10,param_1,(int)local_74);
                if ((int)((int)local_74 - 1U) <= *(int *)(param_1 + 0x14a8)) {
                  *(int *)(param_1 + 0x14a8) = *(int *)(param_1 + 0x14a8) + (1 - (int)local_74);
                  *(uint *)(param_1 + 0x14ac) = *(int *)(param_1 + 0x14ac) + ((int)local_74 - 1U);
                }
                goto LAB_00027012;
              case 1:
              case 2:
                puVar4 = (uint *)(param_1 + 0x1484);
                *(undefined4 *)(param_1 + 0x148c) = 1;
                puVar10 = (undefined4 *)(param_1 + 0x1488);
                break;
              case 3:
                *(undefined4 *)(param_1 + 0x148c) = 3;
                piVar5 = (int *)(param_1 + 0x1484);
                puVar10 = (undefined4 *)(param_1 + 0x1488);
                goto LAB_00026bc6;
              default:
                goto switchD_00026b44_caseD_4;
              }
            }
            else {
              if (local_78 != *(uint *)("2TIT1EPTBLATREYTNOCTCIPAMMOCNALT2TT" + iVar14 + 0xc)) {
                if (local_78 == *(uint *)("2TIT1EPTBLATREYTNOCTCIPAMMOCNALT2TT" + iVar14 + 0x10)) {
                  pcVar17 = *(char **)(param_1 + 0x14ac);
                  uVar3 = ID3PsrGetBsInByte(1,param_1,1);
                  iVar15 = iVar15 + 1;
                  iVar18 = (int)local_74 - 1;
                  pvVar9 = (void *)((int)pvVar9 - (int)local_74);
                  iVar7 = iVar18;
                  if (*(int *)(param_1 + 0x14a8) <= iVar18) {
                    iVar7 = *(int *)(param_1 + 0x14a8);
                  }
                  if (iVar7 != 0) {
                    iVar13 = 0;
                    while (iVar13 < iVar7) {
                      uVar6 = ID3PsrGetBsInByte(1,param_1,1);
                      pcVar17[iVar13] = (char)uVar6;
                      iVar13 = iVar13 + 1;
                    }
                    ID3PsrSkipBsInByte(iVar18 - iVar7,param_1);
                    if (*pcVar17 == '(') {
                      if (uVar3 == 2) {
                        iVar18 = 0;
                        iVar7 = (iVar7 + -2) / 2;
                        pcVar11 = pcVar17;
                        while (iVar18 < iVar7) {
                          pcVar17[iVar18] = pcVar11[3];
                          iVar18 = iVar18 + 1;
                          pcVar11 = pcVar11 + 2;
                        }
                      }
                      else {
                        if ((uVar3 == 3) || (uVar3 == 1)) {
                          iVar7 = (iVar7 + -2) / 2;
                          iVar18 = 0;
                          pcVar11 = pcVar17;
                          while (iVar18 < iVar7) {
                            pcVar11 = pcVar11 + 2;
                            pcVar17[iVar18] = *pcVar11;
                            iVar18 = iVar18 + 1;
                          }
                        }
                      }
                      if (pcVar17[1] == 'R') {
                        bVar19 = pcVar17[2] == 'X';
LAB_00026cc4:
                        if (bVar19) goto LAB_00027016;
                      }
                      else {
                        if (pcVar17[1] == 'C') {
                          bVar19 = pcVar17[2] == 'R';
                          goto LAB_00026cc4;
                        }
                      }
                      uVar3 = 0;
                      iVar18 = 1;
                      while (uVar3 < 0x96 && iVar18 < iVar7) {
                        pcVar17 = pcVar17 + 1;
                        if (*pcVar17 == ')') goto LAB_00026cf6;
                        iVar18 = iVar18 + 1;
                        uVar3 = uVar3 * 10 + (uint)(byte)(*pcVar17 - 0x30);
                      }
                      if (uVar3 < 0x96) {
LAB_00026cf6:
                        *(undefined4 *)(param_1 + 0x1468) = 0;
                        *(int *)(param_1 + 0x1460) = 0x16;
                        *(void **)(param_1 + 0x1464) = *(void **)(param_1 + 0x14ac);
                        if (*(int *)(param_1 + 0x14a8) < 0x16) {
                          return 0;
                        }
                        *(int *)(param_1 + 0x14a8) = *(int *)(param_1 + 0x14a8) + -0x16;
                        memcpy(*(void **)(param_1 + 0x14ac),"Blues" + uVar3 * 0x16,0x16);
                        iVar7 = ID3PsrGetStringLen(*(int *)(param_1 + 0x1464));
                        *(int *)(param_1 + 0x1460) = iVar7;
                        *(int *)(param_1 + 0x14ac) = *(int *)(param_1 + 0x14ac) + 0x16;
                      }
                      goto LAB_00027016;
                    }
                    *(uint *)(param_1 + 0x1468) = uVar3;
                    *(int *)(param_1 + 0x1460) = iVar7;
                    *(undefined4 *)(param_1 + 0x1464) = *(undefined4 *)(param_1 + 0x14ac);
                    if (uVar3 - 1 < 2) {
                      *(int *)(param_1 + 0x1460) = iVar7 + -2;
                      iVar18 = 2;
                    }
                    else {
                      iVar18 = 0;
                    }
                    *(int *)(param_1 + 0x14a8) = *(int *)(param_1 + 0x14a8) + (iVar18 - iVar7);
                    while (iVar18 < iVar7) {
                      pcVar11 = pcVar17 + iVar18;
                      iVar18 = iVar18 + 1;
                      pcVar12 = *(char **)(param_1 + 0x14ac);
                      *pcVar12 = *pcVar11;
                      *(char **)(param_1 + 0x14ac) = pcVar12 + 1;
                    }
                  }
                }
                else {
                  if (local_78 != *(uint *)("2TIT1EPTBLATREYTNOCTCIPAMMOCNALT2TT" + iVar14 + 0x14))
                  {
                    if (local_78 == *(uint *)("2TIT1EPTBLATREYTNOCTCIPAMMOCNALT2TT" + iVar14 + 0x18)
                       ) {
                      local_6c = (void *)0x0;
                      iVar15 = iVar15 + 1;
                      ID3PsrGetBsInByte(1,param_1,1);
                      uVar3 = ID3PsrGetBsInByte(1,param_1,1);
                      local_6c = (void *)((uint)local_6c & 0xffffff00 | uVar3 & 0xff);
                      uVar3 = ID3PsrGetBsInByte(1,param_1,1);
                      local_6c._0_2_ = CONCAT11((char)uVar3,local_6c._0_1_);
                      local_6c = (void *)((uint)local_6c & 0xffff0000 | (uint)(ushort)local_6c);
                      uVar3 = ID3PsrGetBsInByte(1,param_1,1);
                      local_6c._0_3_ = CONCAT12((char)uVar3,(ushort)local_6c);
                      local_6c = (void *)((uint)local_6c & 0xff000000 | (uint)(uint3)local_6c);
                      local_80 = ID3PsrGetLanguageEncoding((byte *)&local_6c);
                      pvVar16 = (void *)((int)local_74 - 4);
                    }
                    else {
                      pvVar16 = local_74;
                      if ((int)pvVar9 < (int)local_74) {
                        pvVar16 = pvVar9;
                        local_74 = pvVar9;
                      }
                    }
                    goto LAB_0002700c;
                  }
                  iVar15 = iVar15 + 1;
                  pcVar17 = *(char **)(param_1 + 0x14ac);
                  uVar3 = ID3PsrGetBsInByte(1,param_1,1);
                  pvVar16 = (void *)((int)local_74 - 1);
                  pvVar9 = (void *)((int)pvVar9 - (int)local_74);
                  local_74 = pvVar16;
                  memset(&local_6c,0,0x1c);
                  if (pvVar16 != (void *)0x0) {
                    iVar7 = 0;
                    do {
                      uVar6 = ID3PsrGetBsInByte(1,param_1,1);
                      pcVar17[iVar7] = (char)(uVar6 & 0xff);
                      iVar7 = iVar7 + 1;
                    } while ((uVar6 & 0xff) != 0);
                    iVar18 = strcmp(pcVar17,"image/bmp");
                    uVar1 = local_64;
                    if (iVar18 != 0) {
                      iVar18 = strcmp(pcVar17,"image/jpeg");
                      uVar1 = 1;
                      if (iVar18 != 0) {
                        iVar18 = strcmp(pcVar17,"image/png");
                        uVar1 = 3;
                        if (iVar18 != 0) {
                          uVar1 = 0xffffffff;
                        }
                      }
                    }
                    local_64 = uVar1;
                    local_74 = (void *)((int)local_74 - iVar7);
                    if (local_74 != (void *)0x0) {
                      local_60 = ID3PsrGetBsInByte(1,param_1,1);
                      local_74 = (void *)((int)local_74 - 1);
                      if (local_74 != (void *)0x0) {
                        iVar7 = 0;
                        do {
                          uVar6 = ID3PsrGetBsInByte(1,param_1,1);
                          uVar6 = uVar6 & 0xff;
                          if (uVar3 - 1 < 2) {
                            iVar7 = iVar7 + 1;
                            uVar8 = ID3PsrGetBsInByte(1,param_1,1);
                            uVar6 = uVar6 | uVar8 & 0xff;
                          }
                          iVar7 = iVar7 + 1;
                        } while (uVar6 != 0);
                        if (uVar3 == 2) {
                          *(undefined4 *)(param_1 + 0x14a4) = 1;
                        }
                        else {
                          if ((uVar3 == 3) || (uVar3 == 1)) {
                            *(uint *)(param_1 + 0x14a4) = uVar3;
                          }
                        }
                        local_74 = (void *)((int)local_74 - iVar7);
                        if (local_74 != (void *)0x0) {
                          *(undefined4 *)(param_1 + 0x149c) = 0x1c;
                          __android_log_print(6,"awplayer",&DAT_0002bb66,"ID3PsrGeTID3_V2",0x5de,
                                              local_74);
                          pvVar16 = local_74;
                          local_6c = local_74;
                          if (*(int *)(param_1 + 0x34b4) == 0) {
                            __s = (void **)malloc(0xc);
                            memset(__s,0,0xc);
                            __s[1] = pvVar16;
                            pvVar16 = malloc((size_t)pvVar16);
                            *__s = pvVar16;
                            iVar7 = FUN_00025f80(*(char ***)(param_1 + 8));
                            local_68 = iVar7;
                            FUN_00026000(*(undefined4 **)(param_1 + 8));
                            FUN_000260a4(*(int **)(param_1 + 8),extraout_r1,(char)iVar7,
                                         (char)(iVar7 >> 0x1f),0);
                            __s[2] = *(void **)(param_1 + 0x34b0);
                            *(void ***)(param_1 + 0x34b0) = __s;
                            *(int *)(param_1 + 0x34b4) = *(int *)(param_1 + 0x34b4) + 1;
                          }
                          if (local_68 < 0) {
                            local_68 = 0;
                          }
                          uVar3 = *(uint *)(param_1 + 0x14ac) & 3;
                          iVar7 = *(int *)(param_1 + 0x14a8) + (uVar3 - 4);
                          *(int *)(param_1 + 0x14a8) = iVar7;
                          pvVar16 = (void *)(*(uint *)(param_1 + 0x14ac) + (4 - uVar3));
                          *(void **)(param_1 + 0x14ac) = pvVar16;
                          *(void **)(param_1 + 0x14a0) = pvVar16;
                          __n = *(size_t *)(param_1 + 0x149c);
                          if (iVar7 < (int)__n) goto LAB_0002702e;
                          *(size_t *)(param_1 + 0x14a8) = iVar7 - __n;
                          memcpy(pvVar16,&local_6c,__n);
                          *(int *)(param_1 + 0x14ac) =
                               *(int *)(param_1 + 0x14ac) + *(int *)(param_1 + 0x149c);
                          ID3PsrSkipBsInByte((int)local_74,param_1);
                        }
                      }
                    }
                  }
                }
                goto LAB_00027016;
              }
              uVar3 = ID3PsrGetBsInByte(1,param_1,1);
              switch(uVar3) {
              case 0:
                piVar5 = (int *)(param_1 + 0x1490);
                puVar10 = (undefined4 *)(param_1 + 0x1494);
                goto LAB_00026b58;
              case 1:
              case 2:
                puVar4 = (uint *)(param_1 + 0x1490);
                *(undefined4 *)(param_1 + 0x1498) = 1;
                puVar10 = (undefined4 *)(param_1 + 0x1494);
                break;
              case 3:
                piVar5 = (int *)(param_1 + 0x1490);
                *(undefined4 *)(param_1 + 0x1498) = 3;
                puVar10 = (undefined4 *)(param_1 + 0x1494);
                goto LAB_00026bc6;
              default:
                goto switchD_00026b44_caseD_4;
              }
            }
          }
LAB_00026bae:
          iVar15 = iVar15 + 1;
          FUN_000267cc(puVar4,puVar10,param_1,(int)local_74);
        }
LAB_00027012:
        pvVar9 = (void *)((int)pvVar9 - (int)local_74);
      }
      goto LAB_00027016;
    }
LAB_0002702e:
    ID3PsrSkipBsInByte((int)pvVar9,param_1);
    iVar14 = (int)local_84 + 10;
    if (local_80 == 0x14) {
      ID3PsrEncodingChange(param_1);
    }
  }
  uVar2 = ID3PsrGetBsInByte(4,param_1,0);
  while( true ) {
    if (uVar2 >> 8 != 0x494433) {
      return iVar14;
    }
    iVar15 = 0;
    do {
      uVar2 = ID3PsrShowBs(iVar15,1,param_1);
      *(char *)(iVar15 + (int)local_50) = (char)uVar2;
      iVar15 = iVar15 + 1;
    } while (iVar15 != 10);
    iVar15 = ID3PsrGETID3Len((char *)local_50,10);
    if (iVar15 < 0) break;
    iVar14 = iVar14 + iVar15;
    ID3PsrSkipBsInByte(iVar15,param_1);
    uVar2 = ID3PsrGetBsInByte(4,param_1,0);
  }
  return iVar14;
}



undefined4 FUN_000270bc(int param_1)

{
  char *pcVar1;
  char **ppcVar2;
  char *pcVar3;
  int iVar4;
  char *pcVar5;
  uint uVar6;
  undefined4 *__s;
  undefined4 uVar7;
  undefined8 uVar8;
  undefined4 auStack36 [2];
  
  auStack36[0] = 0;
  pcVar1 = (char *)ID3PsrGeTID3_V2(param_1);
  if ((int)pcVar1 < 0) {
    __android_log_print(6,"awplayer",&DAT_0002bbb0,"Id3Init",0x641);
    return 0xffffffff;
  }
  pcVar5 = pcVar1;
  __android_log_print(3,"awplayer","<%s:%u>: SKIP TO POST ID3 LOCATION:%d!","Id3Init");
  uVar6 = *(uint *)(param_1 + 0x1450);
  __s = (undefined4 *)(param_1 + 0x1430);
  *(char **)(param_1 + 0x1450) = pcVar1 + uVar6;
  *(uint *)(param_1 + 0x1454) =
       *(int *)(param_1 + 0x1454) + ((int)pcVar1 >> 0x1f) + (uint)CARRY4(uVar6,(uint)pcVar1);
  memset(__s,0,0x18);
  ppcVar2 = *(char ***)(param_1 + 8);
  if (ppcVar2 == (char **)0x0) {
    pcVar3 = "!(stream)";
    pcVar5 = "stream";
  }
  else {
    pcVar1 = *ppcVar2;
    if (pcVar1 != (char *)0x0) goto LAB_0002716a;
    param_1 = 0x18b;
    pcVar3 = "!(stream->ops)";
    pcVar5 = "stream->ops";
  }
  pcVar1 = "CdxStreamGetMetaData";
  ppcVar2 = (char **)__android_log_assert(pcVar3,"awplayer","<%s:%d>CDX_CHECK(%s) failed.");
LAB_0002716a:
  if (*(code **)(pcVar1 + 0x20) != (code *)0x0) {
    (**(code **)(pcVar1 + 0x20))(ppcVar2,&DAT_00027afa,param_1 + 0x1c);
  }
  pcVar1 = *(char **)(param_1 + 0x1c);
  iVar4 = strncmp(pcVar1,"file://",7);
  if ((iVar4 == 0) || (iVar4 = strncmp(pcVar1,"fd://",5), iVar4 == 0)) {
    sscanf(pcVar1,"fd://%d?offset=%lld&length=%lld",auStack36,(undefined8 *)(param_1 + 0x1420),
           param_1 + 0x1428,pcVar5);
    uVar8 = *(undefined8 *)(param_1 + 0x1420);
    VectorAdd(*(undefined8 *)(param_1 + 0x1450),uVar8,8);
    VectorSub(*(undefined8 *)(param_1 + 0x1428),*(undefined8 *)(param_1 + 0x1450),8);
    sprintf((char *)uVar8,(char *)(param_1 + 0x20),"fd://%d?offset=%lld&length=%lld",auStack36[0]);
  }
  else {
    iVar4 = strncmp(pcVar1,"http://",7);
    if ((iVar4 == 0) || (iVar4 = strncmp(pcVar1,"https://",8), iVar4 == 0)) {
      strcpy((char *)(param_1 + 0x20),pcVar1);
      *(undefined4 *)(param_1 + 0x1440) = *(undefined4 *)(param_1 + 0x1450);
      *(undefined4 *)(param_1 + 0x1444) = *(undefined4 *)(param_1 + 0x1454);
    }
  }
  __android_log_print(3,"awplayer","<%s:%u>: impl->newurl(%s), impl->file_offset(%lld)","Id3Init");
  *(int *)(param_1 + 0x1430) = param_1 + 0x20;
  ppcVar2 = (char **)(param_1 + 0x1458);
  uVar8 = CdxParserPrepare(__s,0x40,(pthread_mutex_t *)(param_1 + 0x145c),(int *)(param_1 + 0x14),
                           (int *)(param_1 + 0x18),ppcVar2,(undefined4 *)0x0,0);
  if ((int)uVar8 < 0) {
    uVar7 = __android_log_print(6,"awplayer",&DAT_0002bc7e,"Id3Init",0x670,ppcVar2);
    __android_log_print(uVar7,6,"awplayer",&DAT_0002bca9,"Id3Init",0x677,ppcVar2);
    *(undefined4 *)(param_1 + 0xc) = 2;
    return 0xffffffff;
  }
  *(undefined4 *)(param_1 + 0xc) = 0;
  return 0;
}


